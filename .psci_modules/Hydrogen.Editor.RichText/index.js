// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
//                                                       // hydrogen // richtext
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// | Rich Text Editor component (TipTap/ProseMirror-style)
// |
// | A full-featured WYSIWYG editor with contenteditable, formatting toolbar,
// | keyboard shortcuts, and structured content output.
// |
// | ## Usage
// |
// | ```purescript
// | import Hydrogen.Editor.RichText as RichText
// |
// | -- Basic editor
// | RichText.editor
// |   [ RichText.value state.content
// |   , RichText.onChange HandleContentChange
// |   , RichText.placeholder "Start writing..."
// |   ]
// |
// | -- Full-featured editor with toolbar
// | RichText.editorWithToolbar
// |   [ RichText.value state.content
// |   , RichText.onChange HandleContentChange
// |   , RichText.showWordCount true
// |   , RichText.characterLimit 5000
// |   , RichText.mentions state.mentionSuggestions
// |   ]
// |
// | -- Read-only mode
// | RichText.editor
// |   [ RichText.value state.content
// |   , RichText.readOnly true
// |   ]
// | ```
// |
// | ## Keyboard Shortcuts
// |
// | - `Ctrl+B` / `Cmd+B` - Bold
// | - `Ctrl+I` / `Cmd+I` - Italic
// | - `Ctrl+U` / `Cmd+U` - Underline
// | - `Ctrl+Shift+S` - Strikethrough
// | - `Ctrl+E` / `Cmd+E` - Code (inline)
// | - `Ctrl+Shift+1/2/3` - Heading 1/2/3
// | - `Ctrl+Shift+7` - Numbered list
// | - `Ctrl+Shift+8` - Bullet list
// | - `Ctrl+Shift+9` - Task list
// | - `Ctrl+Z` / `Cmd+Z` - Undo
// | - `Ctrl+Shift+Z` / `Cmd+Shift+Z` - Redo
// | - `Ctrl+K` / `Cmd+K` - Insert link
// | - `/` - Slash commands
// | - `@` - Mentions
// |
// | ## Toolbar Buttons
// |
// | The toolbar includes buttons for:
// | - Text formatting (bold, italic, underline, strikethrough, code)
// | - Headings (H1, H2, H3, paragraph)
// | - Lists (bullet, numbered, task)
// | - Alignment (left, center, right, justify)
// | - Links and images
// | - Tables (insert, add/remove rows/columns)
// | - Code blocks and blockquotes
// | - Horizontal rule
// | - Undo/redo
// |
// | ## Bubble Menu
// |
// | A floating toolbar appears on text selection with quick formatting options.
// |
// | ## Slash Commands
// |
// | Type `/` at the start of a line or after whitespace to open the command palette:
// | - `/heading1`, `/heading2`, `/heading3`
// | - `/bullet`, `/numbered`, `/task`
// | - `/quote`, `/code`, `/hr`
// | - `/image`, `/table`
// |
// | ## Mentions
// |
// | Type `@` to trigger the mentions popup. Provide suggestions via the
// | `mentions` prop.
// |
// | ## Output Formats
// |
// | - HTML: Standard HTML string output
// | - JSON: Structured document representation
// |
// | ```purescript
// | -- Get HTML output
// | htmlContent <- RichText.getHtml editorRef
// |
// | -- Get JSON output
// | jsonContent <- RichText.getJson editorRef
// |
// | -- Set content from HTML
// | RichText.setHtml editorRef "<p>Hello world</p>"
// |
// | -- Set content from JSON
// | RichText.setJson editorRef jsonDoc
// | ```
import * as $foreign from "./foreign.js";
import * as DOM_HTML_Indexed_ButtonType from "../DOM.HTML.Indexed.ButtonType/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Semigroup from "../Data.Semigroup/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_String_CodePoints from "../Data.String.CodePoints/index.js";
import * as Effect_Uncurried from "../Effect.Uncurried/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Halogen_HTML_Properties_ARIA from "../Halogen.HTML.Properties.ARIA/index.js";
import * as Hydrogen_UI_Core from "../Hydrogen.UI.Core/index.js";
var type_ = /* #__PURE__ */ Halogen_HTML_Properties.type_(Halogen_HTML_Core.isPropButtonType);
var map = /* #__PURE__ */ Data_Functor.map(Data_Functor.functorArray);
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var append1 = /* #__PURE__ */ Data_Semigroup.append(Data_Semigroup.semigroupArray);
var show1 = /* #__PURE__ */ Data_Show.show(Data_Show.showBoolean);

// | Text alignment options
var AlignLeft = /* #__PURE__ */ (function () {
    function AlignLeft() {

    };
    AlignLeft.value = new AlignLeft();
    return AlignLeft;
})();

// | Text alignment options
var AlignCenter = /* #__PURE__ */ (function () {
    function AlignCenter() {

    };
    AlignCenter.value = new AlignCenter();
    return AlignCenter;
})();

// | Text alignment options
var AlignRight = /* #__PURE__ */ (function () {
    function AlignRight() {

    };
    AlignRight.value = new AlignRight();
    return AlignRight;
})();

// | Text alignment options
var AlignJustify = /* #__PURE__ */ (function () {
    function AlignJustify() {

    };
    AlignJustify.value = new AlignJustify();
    return AlignJustify;
})();

// | Text marks (formatting)
var Bold = /* #__PURE__ */ (function () {
    function Bold() {

    };
    Bold.value = new Bold();
    return Bold;
})();

// | Text marks (formatting)
var Italic = /* #__PURE__ */ (function () {
    function Italic() {

    };
    Italic.value = new Italic();
    return Italic;
})();

// | Text marks (formatting)
var Underline = /* #__PURE__ */ (function () {
    function Underline() {

    };
    Underline.value = new Underline();
    return Underline;
})();

// | Text marks (formatting)
var Strikethrough = /* #__PURE__ */ (function () {
    function Strikethrough() {

    };
    Strikethrough.value = new Strikethrough();
    return Strikethrough;
})();

// | Text marks (formatting)
var Code = /* #__PURE__ */ (function () {
    function Code() {

    };
    Code.value = new Code();
    return Code;
})();

// | Text marks (formatting)
var Link = /* #__PURE__ */ (function () {
    function Link(value0) {
        this.value0 = value0;
    };
    Link.create = function (value0) {
        return new Link(value0);
    };
    return Link;
})();

// | List types
var BulletList = /* #__PURE__ */ (function () {
    function BulletList() {

    };
    BulletList.value = new BulletList();
    return BulletList;
})();

// | List types
var NumberedList = /* #__PURE__ */ (function () {
    function NumberedList() {

    };
    NumberedList.value = new NumberedList();
    return NumberedList;
})();

// | List types
var TaskList = /* #__PURE__ */ (function () {
    function TaskList() {

    };
    TaskList.value = new TaskList();
    return TaskList;
})();

// | Heading levels
var H1 = /* #__PURE__ */ (function () {
    function H1() {

    };
    H1.value = new H1();
    return H1;
})();

// | Heading levels
var H2 = /* #__PURE__ */ (function () {
    function H2() {

    };
    H2.value = new H2();
    return H2;
})();

// | Heading levels
var H3 = /* #__PURE__ */ (function () {
    function H3() {

    };
    H3.value = new H3();
    return H3;
})();

// | Editor commands
var CmdBold = /* #__PURE__ */ (function () {
    function CmdBold() {

    };
    CmdBold.value = new CmdBold();
    return CmdBold;
})();

// | Editor commands
var CmdItalic = /* #__PURE__ */ (function () {
    function CmdItalic() {

    };
    CmdItalic.value = new CmdItalic();
    return CmdItalic;
})();

// | Editor commands
var CmdUnderline = /* #__PURE__ */ (function () {
    function CmdUnderline() {

    };
    CmdUnderline.value = new CmdUnderline();
    return CmdUnderline;
})();

// | Editor commands
var CmdStrikethrough = /* #__PURE__ */ (function () {
    function CmdStrikethrough() {

    };
    CmdStrikethrough.value = new CmdStrikethrough();
    return CmdStrikethrough;
})();

// | Editor commands
var CmdCode = /* #__PURE__ */ (function () {
    function CmdCode() {

    };
    CmdCode.value = new CmdCode();
    return CmdCode;
})();

// | Editor commands
var CmdHeading = /* #__PURE__ */ (function () {
    function CmdHeading(value0) {
        this.value0 = value0;
    };
    CmdHeading.create = function (value0) {
        return new CmdHeading(value0);
    };
    return CmdHeading;
})();

// | Editor commands
var CmdParagraph = /* #__PURE__ */ (function () {
    function CmdParagraph() {

    };
    CmdParagraph.value = new CmdParagraph();
    return CmdParagraph;
})();

// | Editor commands
var CmdBulletList = /* #__PURE__ */ (function () {
    function CmdBulletList() {

    };
    CmdBulletList.value = new CmdBulletList();
    return CmdBulletList;
})();

// | Editor commands
var CmdOrderedList = /* #__PURE__ */ (function () {
    function CmdOrderedList() {

    };
    CmdOrderedList.value = new CmdOrderedList();
    return CmdOrderedList;
})();

// | Editor commands
var CmdTaskList = /* #__PURE__ */ (function () {
    function CmdTaskList() {

    };
    CmdTaskList.value = new CmdTaskList();
    return CmdTaskList;
})();

// | Editor commands
var CmdAlign = /* #__PURE__ */ (function () {
    function CmdAlign(value0) {
        this.value0 = value0;
    };
    CmdAlign.create = function (value0) {
        return new CmdAlign(value0);
    };
    return CmdAlign;
})();

// | Editor commands
var CmdLink = /* #__PURE__ */ (function () {
    function CmdLink(value0) {
        this.value0 = value0;
    };
    CmdLink.create = function (value0) {
        return new CmdLink(value0);
    };
    return CmdLink;
})();

// | Editor commands
var CmdImage = /* #__PURE__ */ (function () {
    function CmdImage(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    CmdImage.create = function (value0) {
        return function (value1) {
            return new CmdImage(value0, value1);
        };
    };
    return CmdImage;
})();

// | Editor commands
var CmdTable = /* #__PURE__ */ (function () {
    function CmdTable(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    CmdTable.create = function (value0) {
        return function (value1) {
            return new CmdTable(value0, value1);
        };
    };
    return CmdTable;
})();

// | Editor commands
var CmdCodeBlock = /* #__PURE__ */ (function () {
    function CmdCodeBlock(value0) {
        this.value0 = value0;
    };
    CmdCodeBlock.create = function (value0) {
        return new CmdCodeBlock(value0);
    };
    return CmdCodeBlock;
})();

// | Editor commands
var CmdBlockquote = /* #__PURE__ */ (function () {
    function CmdBlockquote() {

    };
    CmdBlockquote.value = new CmdBlockquote();
    return CmdBlockquote;
})();

// | Editor commands
var CmdHorizontalRule = /* #__PURE__ */ (function () {
    function CmdHorizontalRule() {

    };
    CmdHorizontalRule.value = new CmdHorizontalRule();
    return CmdHorizontalRule;
})();

// | Editor commands
var CmdUndo = /* #__PURE__ */ (function () {
    function CmdUndo() {

    };
    CmdUndo.value = new CmdUndo();
    return CmdUndo;
})();

// | Editor commands
var CmdRedo = /* #__PURE__ */ (function () {
    function CmdRedo() {

    };
    CmdRedo.value = new CmdRedo();
    return CmdRedo;
})();

// | Editor commands
var CmdFocus = /* #__PURE__ */ (function () {
    function CmdFocus() {

    };
    CmdFocus.value = new CmdFocus();
    return CmdFocus;
})();

// | Editor commands
var CmdBlur = /* #__PURE__ */ (function () {
    function CmdBlur() {

    };
    CmdBlur.value = new CmdBlur();
    return CmdBlur;
})();

// | Document node types
var TextNode = /* #__PURE__ */ (function () {
    function TextNode(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    TextNode.create = function (value0) {
        return function (value1) {
            return new TextNode(value0, value1);
        };
    };
    return TextNode;
})();

// | Document node types
var ParagraphNode = /* #__PURE__ */ (function () {
    function ParagraphNode(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    ParagraphNode.create = function (value0) {
        return function (value1) {
            return new ParagraphNode(value0, value1);
        };
    };
    return ParagraphNode;
})();

// | Document node types
var HeadingNode = /* #__PURE__ */ (function () {
    function HeadingNode(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    HeadingNode.create = function (value0) {
        return function (value1) {
            return new HeadingNode(value0, value1);
        };
    };
    return HeadingNode;
})();

// | Document node types
var BulletListNode = /* #__PURE__ */ (function () {
    function BulletListNode(value0) {
        this.value0 = value0;
    };
    BulletListNode.create = function (value0) {
        return new BulletListNode(value0);
    };
    return BulletListNode;
})();

// | Document node types
var OrderedListNode = /* #__PURE__ */ (function () {
    function OrderedListNode(value0) {
        this.value0 = value0;
    };
    OrderedListNode.create = function (value0) {
        return new OrderedListNode(value0);
    };
    return OrderedListNode;
})();

// | Document node types
var TaskListNode = /* #__PURE__ */ (function () {
    function TaskListNode(value0) {
        this.value0 = value0;
    };
    TaskListNode.create = function (value0) {
        return new TaskListNode(value0);
    };
    return TaskListNode;
})();

// | Document node types
var ListItemNode = /* #__PURE__ */ (function () {
    function ListItemNode(value0) {
        this.value0 = value0;
    };
    ListItemNode.create = function (value0) {
        return new ListItemNode(value0);
    };
    return ListItemNode;
})();

// | Document node types
var BlockquoteNode = /* #__PURE__ */ (function () {
    function BlockquoteNode(value0) {
        this.value0 = value0;
    };
    BlockquoteNode.create = function (value0) {
        return new BlockquoteNode(value0);
    };
    return BlockquoteNode;
})();

// | Document node types
var CodeBlockNode = /* #__PURE__ */ (function () {
    function CodeBlockNode(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    CodeBlockNode.create = function (value0) {
        return function (value1) {
            return new CodeBlockNode(value0, value1);
        };
    };
    return CodeBlockNode;
})();

// | Document node types
var ImageNode = /* #__PURE__ */ (function () {
    function ImageNode(value0) {
        this.value0 = value0;
    };
    ImageNode.create = function (value0) {
        return new ImageNode(value0);
    };
    return ImageNode;
})();

// | Document node types
var LinkNode = /* #__PURE__ */ (function () {
    function LinkNode(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    LinkNode.create = function (value0) {
        return function (value1) {
            return new LinkNode(value0, value1);
        };
    };
    return LinkNode;
})();

// | Document node types
var TableNode = /* #__PURE__ */ (function () {
    function TableNode(value0) {
        this.value0 = value0;
    };
    TableNode.create = function (value0) {
        return new TableNode(value0);
    };
    return TableNode;
})();

// | Document node types
var HorizontalRuleNode = /* #__PURE__ */ (function () {
    function HorizontalRuleNode() {

    };
    HorizontalRuleNode.value = new HorizontalRuleNode();
    return HorizontalRuleNode;
})();

// | Document node types
var MentionNode = /* #__PURE__ */ (function () {
    function MentionNode(value0) {
        this.value0 = value0;
    };
    MentionNode.create = function (value0) {
        return new MentionNode(value0);
    };
    return MentionNode;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // types
// ═══════════════════════════════════════════════════════════════════════════════
// | Editor content representation
var HtmlContent = /* #__PURE__ */ (function () {
    function HtmlContent(value0) {
        this.value0 = value0;
    };
    HtmlContent.create = function (value0) {
        return new HtmlContent(value0);
    };
    return HtmlContent;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // types
// ═══════════════════════════════════════════════════════════════════════════════
// | Editor content representation
var JsonContent = /* #__PURE__ */ (function () {
    function JsonContent(value0) {
        this.value0 = value0;
    };
    JsonContent.create = function (value0) {
        return new JsonContent(value0);
    };
    return JsonContent;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                               // prop builders
// ═══════════════════════════════════════════════════════════════════════════════
// | Set editor content value (HTML string)
var value = function (v) {
    return function (props) {
        return {
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            value: v
        };
    };
};

// | Unregister keyboard shortcuts
var unregisterShortcuts = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.unregisterShortcutsImpl);

// | Undo last action
var undo = /* #__PURE__ */ (function () {
    return CmdUndo.value;
})();

// | Toolbar separator
var toolbarSeparator = /* #__PURE__ */ Halogen_HTML_Elements.div([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-px h-6 mx-1 bg-border" ]) ])([  ]);

// | Toolbar select dropdown
var toolbarSelect = function (children) {
    return Halogen_HTML_Elements.select([ Hydrogen_UI_Core.cls([ "h-8 rounded-md border border-input bg-background px-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2" ]), Halogen_HTML_Properties.tabIndex(-1 | 0) ])(children);
};

// | Toolbar button group
var toolbarGroup = function (children) {
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex items-center gap-0.5" ]) ])(children);
};

// | Add custom toolbar class
var toolbarClassName = function (c) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            toolbarClassName: props.toolbarClassName + (" " + c)
        };
    };
};

// | Toolbar button
// |
// | Creates a toolbar button with given title, data-command attribute, and icon.
var toolbarButton = function (title$prime) {
    return function (command) {
        return function (icon) {
            return Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "inline-flex items-center justify-center h-8 w-8 rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[active=true]:bg-accent data-[active=true]:text-accent-foreground" ]), type_(DOM_HTML_Indexed_ButtonType.ButtonButton.value), Halogen_HTML_Properties.tabIndex(-1 | 0), Halogen_HTML_Properties.title(title$prime), Halogen_HTML_Properties.attr("data-command")(command) ])([ icon ]);
        };
    };
};

// | Base toolbar classes
var toolbarBaseClasses = "flex flex-wrap items-center gap-1 p-2 border-b border-input bg-muted/50";

// | Toggle task list
var toggleTaskList = /* #__PURE__ */ (function () {
    return CmdTaskList.value;
})();

// | Toggle numbered list
var toggleNumberedList = /* #__PURE__ */ (function () {
    return CmdOrderedList.value;
})();

// | Toggle bullet list
var toggleBulletList = /* #__PURE__ */ (function () {
    return CmdBulletList.value;
})();

// Table icon
var tableIcon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("h-4 w-4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M12 3v18M3 9h18M3 15h18") ])([  ]), /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("rect")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("width")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("height")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("x")("3"), /* #__PURE__ */ Halogen_HTML_Properties.attr("y")("3"), /* #__PURE__ */ Halogen_HTML_Properties.attr("rx")("2") ])([  ]) ]);

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // icons
// ═══════════════════════════════════════════════════════════════════════════════
// | SVG icon helper
var svgIcon = function (path) {
    return Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ Halogen_HTML_Properties.attr("class")("h-4 w-4"), Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), Halogen_HTML_Properties.attr("fill")("none"), Halogen_HTML_Properties.attr("stroke")("currentColor"), Halogen_HTML_Properties.attr("stroke-width")("2"), Halogen_HTML_Properties.attr("stroke-linecap")("round"), Halogen_HTML_Properties.attr("stroke-linejoin")("round") ])([ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("path")([ Halogen_HTML_Properties.attr("d")(path) ])([  ]) ]);
};

// Task list icon
var taskListIcon = /* #__PURE__ */ svgIcon("M12 6h8M12 12h8M12 18h8M3 6h4v4H3zM4 13l1.5 1.5L9 11");

// Underline icon
var underlineIcon = /* #__PURE__ */ svgIcon("M6 4v6a6 6 0 0 0 12 0V4M4 20h16");

// Undo icon
var undoIcon = /* #__PURE__ */ svgIcon("M3 7v6h6M3 13a9 9 0 1 0 2.083-5.753");

// Strikethrough icon
var strikethroughIcon = /* #__PURE__ */ svgIcon("M16 4H9a3 3 0 0 0-2.83 4M14 12H4M8 20h7a3 3 0 0 0 2.83-4");

// | Set custom slash commands
var slashCommands = function (cmds) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            slashCommands: cmds
        };
    };
};

// | Slash command menu
// |
// | Dropdown menu for slash commands (/).
var slashCommandMenu = function (commands) {
    var renderSlashCommand = function (cmd) {
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground transition-colors" ]), Halogen_HTML_Properties.attr("data-command-id")(cmd.id), Halogen_HTML_Properties_ARIA.role("option") ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex-shrink-0 w-8 h-8 flex items-center justify-center rounded bg-muted" ]) ])([ Halogen_HTML_Core.text(Data_Maybe.fromMaybe("/")(cmd.icon)) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex-1 min-w-0" ]) ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "text-sm font-medium truncate" ]) ])([ Halogen_HTML_Core.text(cmd.label) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "text-xs text-muted-foreground truncate" ]) ])([ Halogen_HTML_Core.text(cmd.description) ]) ]) ]);
    };
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "absolute hidden z-50 w-64 max-h-80 overflow-y-auto bg-popover border rounded-lg shadow-lg" ]), Halogen_HTML_Properties.attr("data-slash-menu")(""), Halogen_HTML_Properties_ARIA.role("listbox"), Halogen_HTML_Properties_ARIA.label("Commands") ])(map(renderSlashCommand)(commands));
};

// | Show word count
var showWordCount = function (s) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            showWordCount: s
        };
    };
};

// | Show character count
var showCharacterCount = function (s) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            showCharacterCount: s
        };
    };
};

// | Set paragraph (remove heading)
var setParagraph = /* #__PURE__ */ (function () {
    return CmdParagraph.value;
})();

// | Set JSON content in editor
var setJson = /* #__PURE__ */ Effect_Uncurried.runEffectFn2($foreign.setJsonImpl);

// | Set HTML content in editor
var setHtml = /* #__PURE__ */ Effect_Uncurried.runEffectFn2($foreign.setHtmlImpl);

// | Set heading level
var setHeading = /* #__PURE__ */ (function () {
    return CmdHeading.create;
})();

// | Set text alignment
var setAlignment = /* #__PURE__ */ (function () {
    return CmdAlign.create;
})();

// | Register keyboard shortcuts with callback
var registerShortcuts = /* #__PURE__ */ Effect_Uncurried.runEffectFn2($foreign.registerShortcutsImpl);

// Redo icon
var redoIcon = /* #__PURE__ */ svgIcon("M21 7v6h-6M21 13a9 9 0 1 1-2.083-5.753");

// | Redo last undone action
var redo = /* #__PURE__ */ (function () {
    return CmdRedo.value;
})();

// | Set read-only mode
var readOnly = function (r) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            readOnly: r
        };
    };
};

// Quote icon
var quoteIcon = /* #__PURE__ */ svgIcon("M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V21M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1");

// | Set placeholder text
var placeholder = function (p) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            placeholder: p
        };
    };
};

// Paragraph icon
var paragraphIcon = /* #__PURE__ */ svgIcon("M13 4v16M19 4H9.5a4.5 4.5 0 1 0 0 9H13");

// Ordered list icon
var orderedListIcon = /* #__PURE__ */ svgIcon("M10 6h11M10 12h11M10 18h11M4 6h1v4M4 10h2M6 18H4c0-1 2-2 2-3s-1-1.5-2-1");

// | Handle selection changes
var onSelectionChange = function (handler) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            onSelectionChange: new Data_Maybe.Just(handler)
        };
    };
};

// | Handle mention selection
var onMentionSelect = function (handler) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            onMentionSelect: new Data_Maybe.Just(handler)
        };
    };
};

// | Handle mention search
var onMentionSearch = function (handler) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            onMentionSearch: new Data_Maybe.Just(handler)
        };
    };
};

// | Handle JSON content changes
var onJsonChange = function (handler) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            onJsonChange: new Data_Maybe.Just(handler)
        };
    };
};

// | Handle HTML content changes
var onHtmlChange = function (handler) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            onHtmlChange: new Data_Maybe.Just(handler)
        };
    };
};

// | Handle focus event
var onFocus = function (handler) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            onFocus: new Data_Maybe.Just(handler)
        };
    };
};

// | Handle content changes (HTML)
var onChange = function (handler) {
    return function (props) {
        return {
            value: props.value,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            onChange: new Data_Maybe.Just(handler)
        };
    };
};

// | Handle blur event
var onBlur = function (handler) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            onBlur: new Data_Maybe.Just(handler)
        };
    };
};

// | Set mention suggestions
var mentions = function (m) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            mentions: m
        };
    };
};

// | Mention menu
// |
// | Dropdown menu for @-mentions.
var mentionMenu = function (mentionList) {
    var renderMention = function (m) {
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground transition-colors" ]), Halogen_HTML_Properties.attr("data-mention-id")(m.id), Halogen_HTML_Properties_ARIA.role("option") ])([ (function () {
            if (m.avatar instanceof Data_Maybe.Just) {
                return Halogen_HTML_Elements.img([ Hydrogen_UI_Core.cls([ "w-8 h-8 rounded-full" ]), Halogen_HTML_Properties.src(m.avatar.value0), Halogen_HTML_Properties.alt(m.label) ]);
            };
            if (m.avatar instanceof Data_Maybe.Nothing) {
                return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "w-8 h-8 rounded-full bg-muted flex items-center justify-center text-sm font-medium" ]) ])([ Halogen_HTML_Core.text(Data_String_CodePoints.take(1)(m.label)) ]);
            };
            throw new Error("Failed pattern match at Hydrogen.Editor.RichText (line 1027, column 11 - line 1030, column 61): " + [ m.avatar.constructor.name ]);
        })(), Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "text-sm font-medium" ]) ])([ Halogen_HTML_Core.text(m.label) ]) ]);
    };
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "absolute hidden z-50 w-64 max-h-60 overflow-y-auto bg-popover border rounded-lg shadow-lg" ]), Halogen_HTML_Properties.attr("data-mention-menu")(""), Halogen_HTML_Properties_ARIA.role("listbox"), Halogen_HTML_Properties_ARIA.label("Mentions") ])(map(renderMention)(mentionList));
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                     // helpers
// ═══════════════════════════════════════════════════════════════════════════════
// | Helper for optional attributes
var maybeAttr = function (v) {
    return function (v1) {
        if (v1 instanceof Data_Maybe.Nothing) {
            return [  ];
        };
        if (v1 instanceof Data_Maybe.Just) {
            return [ v(v1.value0) ];
        };
        throw new Error("Failed pattern match at Hydrogen.Editor.RichText (line 1276, column 1 - line 1276, column 82): " + [ v.constructor.name, v1.constructor.name ]);
    };
};

// Link icon
var linkIcon = /* #__PURE__ */ svgIcon("M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71");

// Italic icon
var italicIcon = /* #__PURE__ */ svgIcon("M19 4h-9M14 20H5M15 4 9 20");

// | Insert table with specified dimensions
var insertTable = /* #__PURE__ */ (function () {
    return CmdTable.create;
})();

// | Insert or edit link
var insertLink = /* #__PURE__ */ (function () {
    return CmdLink.create;
})();

// | Insert image
var insertImage = /* #__PURE__ */ (function () {
    return CmdImage.create;
})();

// | Insert horizontal rule
var insertHorizontalRule = /* #__PURE__ */ (function () {
    return CmdHorizontalRule.value;
})();

// | Insert code block with optional language
var insertCodeBlock = /* #__PURE__ */ (function () {
    return CmdCodeBlock.create;
})();

// | Insert blockquote
var insertBlockquote = /* #__PURE__ */ (function () {
    return CmdBlockquote.value;
})();

// Wrapped FFI functions
// | Initialize editor
var initEditor = function (el) {
    return function (opts) {
        return function (cb) {
            return function () {
                return $foreign.initEditorImpl(el, opts, cb);
            };
        };
    };
};

// Image icon
var imageIcon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("h-4 w-4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("rect")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("width")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("height")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("x")("3"), /* #__PURE__ */ Halogen_HTML_Properties.attr("y")("3"), /* #__PURE__ */ Halogen_HTML_Properties.attr("rx")("2"), /* #__PURE__ */ Halogen_HTML_Properties.attr("ry")("2") ])([  ]), /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("circle")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("cx")("9"), /* #__PURE__ */ Halogen_HTML_Properties.attr("cy")("9"), /* #__PURE__ */ Halogen_HTML_Properties.attr("r")("2") ])([  ]), /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21") ])([  ]) ]);

// Horizontal rule icon
var hrIcon = /* #__PURE__ */ svgIcon("M5 12h14");

// H3 icon
var h3Icon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("h-4 w-4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M4 12h8M4 6v12M12 6v12M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2") ])([  ]) ]);

// H2 icon
var h2Icon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("h-4 w-4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M4 12h8M4 6v12M12 6v12M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1") ])([  ]) ]);

// H1 icon
var h1Icon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("h-4 w-4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M4 12h8M4 6v12M12 6v12M17 12l3-2v10") ])([  ]) ]);

// | Get word count
var getWordCount = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.getWordCountImpl);

// | Get current selection state
var getSelection = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.getSelectionImpl);

// | Get JSON content from editor
var getJson = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.getJsonImpl);

// | Get HTML content from editor
var getHtml = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.getHtmlImpl);

// | Get character count
var getCharacterCount = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.getCharacterCountImpl);

// | Toggle underline formatting
var formatUnderline = /* #__PURE__ */ (function () {
    return CmdUnderline.value;
})();

// | Toggle strikethrough formatting
var formatStrikethrough = /* #__PURE__ */ (function () {
    return CmdStrikethrough.value;
})();

// | Toggle italic formatting
var formatItalic = /* #__PURE__ */ (function () {
    return CmdItalic.value;
})();

// | Toggle inline code formatting
var formatCode = /* #__PURE__ */ (function () {
    return CmdCode.value;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                    // commands
// ═══════════════════════════════════════════════════════════════════════════════
// | Toggle bold formatting
var formatBold = /* #__PURE__ */ (function () {
    return CmdBold.value;
})();

// | Focus the editor
var focus = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.focusEditorImpl);

// | Execute editor command
var executeCommand = /* #__PURE__ */ Effect_Uncurried.runEffectFn2($foreign.executeCommandImpl);
var eqTextAlign = {
    eq: function (x) {
        return function (y) {
            if (x instanceof AlignLeft && y instanceof AlignLeft) {
                return true;
            };
            if (x instanceof AlignCenter && y instanceof AlignCenter) {
                return true;
            };
            if (x instanceof AlignRight && y instanceof AlignRight) {
                return true;
            };
            if (x instanceof AlignJustify && y instanceof AlignJustify) {
                return true;
            };
            return false;
        };
    }
};
var eqMark = {
    eq: function (x) {
        return function (y) {
            if (x instanceof Bold && y instanceof Bold) {
                return true;
            };
            if (x instanceof Italic && y instanceof Italic) {
                return true;
            };
            if (x instanceof Underline && y instanceof Underline) {
                return true;
            };
            if (x instanceof Strikethrough && y instanceof Strikethrough) {
                return true;
            };
            if (x instanceof Code && y instanceof Code) {
                return true;
            };
            if (x instanceof Link && y instanceof Link) {
                return x.value0 === y.value0;
            };
            return false;
        };
    }
};
var eqListType = {
    eq: function (x) {
        return function (y) {
            if (x instanceof BulletList && y instanceof BulletList) {
                return true;
            };
            if (x instanceof NumberedList && y instanceof NumberedList) {
                return true;
            };
            if (x instanceof TaskList && y instanceof TaskList) {
                return true;
            };
            return false;
        };
    }
};
var eqHeadingLevel = {
    eq: function (x) {
        return function (y) {
            if (x instanceof H1 && y instanceof H1) {
                return true;
            };
            if (x instanceof H2 && y instanceof H2) {
                return true;
            };
            if (x instanceof H3 && y instanceof H3) {
                return true;
            };
            return false;
        };
    }
};

// | Enable/disable tables
var enableTables = function (e) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            enableTables: e
        };
    };
};

// | Enable/disable slash commands
var enableSlashCommands = function (e) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            enableSlashCommands: e
        };
    };
};

// | Enable/disable mentions
var enableMentions = function (e) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            enableMentions: e
        };
    };
};

// | Enable/disable images
var enableImages = function (e) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            enableImages: e
        };
    };
};

// | Enable/disable code blocks
var enableCodeBlocks = function (e) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            enableCodeBlocks: e
        };
    };
};

// | Enable/disable bubble menu
var enableBubbleMenu = function (e) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            enableBubbleMenu: e
        };
    };
};

// | Editor footer with counts
var editorFooter = function (props) {
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex items-center justify-end gap-4 px-3 py-2 border-t border-input text-xs text-muted-foreground" ]) ])([ (function () {
        if (props.showWordCount) {
            return Halogen_HTML_Elements.span([ Halogen_HTML_Properties.attr("data-word-count")("") ])([ Halogen_HTML_Core.text("0 words") ]);
        };
        return Halogen_HTML_Core.text("");
    })(), (function () {
        if (props.showCharacterCount) {
            return Halogen_HTML_Elements.span([ Halogen_HTML_Properties.attr("data-character-count")("") ])([ Halogen_HTML_Core.text((function () {
                if (props.characterLimit instanceof Data_Maybe.Just) {
                    return "0 / " + show(props.characterLimit.value0);
                };
                if (props.characterLimit instanceof Data_Maybe.Nothing) {
                    return "0 characters";
                };
                throw new Error("Failed pattern match at Hydrogen.Editor.RichText (line 1044, column 23 - line 1046, column 40): " + [ props.characterLimit.constructor.name ]);
            })()) ]);
        };
        return Halogen_HTML_Core.text("");
    })() ]);
};

// | Base editor content classes
var editorContentClasses = "prose prose-sm dark:prose-invert max-w-none min-h-[150px] px-4 py-3 focus:outline-none";

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                  // components
// ═══════════════════════════════════════════════════════════════════════════════
// | Base editor container classes
var editorContainerClasses = "relative w-full rounded-lg border border-input bg-background ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2";

// | Add custom editor class
var editorClassName = function (c) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            editorClassName: props.editorClassName + (" " + c)
        };
    };
};

// | Set disabled state
var disabled = function (d) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            disabled: d
        };
    };
};

// | Destroy editor
var destroyEditor = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.destroyEditorImpl);

// | Default slash commands
var defaultSlashCommands = /* #__PURE__ */ (function () {
    return [ {
        id: "heading1",
        label: "Heading 1",
        description: "Large heading",
        icon: new Data_Maybe.Just("h1"),
        keywords: [ "h1", "title", "heading" ]
    }, {
        id: "heading2",
        label: "Heading 2",
        description: "Medium heading",
        icon: new Data_Maybe.Just("h2"),
        keywords: [ "h2", "subtitle" ]
    }, {
        id: "heading3",
        label: "Heading 3",
        description: "Small heading",
        icon: new Data_Maybe.Just("h3"),
        keywords: [ "h3" ]
    }, {
        id: "bullet",
        label: "Bullet List",
        description: "Unordered list",
        icon: new Data_Maybe.Just("list"),
        keywords: [ "ul", "bullet", "list" ]
    }, {
        id: "numbered",
        label: "Numbered List",
        description: "Ordered list",
        icon: new Data_Maybe.Just("list-ordered"),
        keywords: [ "ol", "number", "list" ]
    }, {
        id: "task",
        label: "Task List",
        description: "Checklist with checkboxes",
        icon: new Data_Maybe.Just("check-square"),
        keywords: [ "todo", "task", "check" ]
    }, {
        id: "quote",
        label: "Quote",
        description: "Block quotation",
        icon: new Data_Maybe.Just("quote"),
        keywords: [ "blockquote", "quote" ]
    }, {
        id: "code",
        label: "Code Block",
        description: "Code with syntax highlighting",
        icon: new Data_Maybe.Just("code"),
        keywords: [ "code", "pre", "syntax" ]
    }, {
        id: "hr",
        label: "Horizontal Rule",
        description: "Divider line",
        icon: new Data_Maybe.Just("minus"),
        keywords: [ "hr", "divider", "line" ]
    }, {
        id: "image",
        label: "Image",
        description: "Insert an image",
        icon: new Data_Maybe.Just("image"),
        keywords: [ "img", "picture", "photo" ]
    }, {
        id: "table",
        label: "Table",
        description: "Insert a table",
        icon: new Data_Maybe.Just("table"),
        keywords: [ "table", "grid" ]
    } ];
})();
var defaultProps = /* #__PURE__ */ (function () {
    return {
        value: "",
        onChange: Data_Maybe.Nothing.value,
        onHtmlChange: Data_Maybe.Nothing.value,
        onJsonChange: Data_Maybe.Nothing.value,
        onSelectionChange: Data_Maybe.Nothing.value,
        onFocus: Data_Maybe.Nothing.value,
        onBlur: Data_Maybe.Nothing.value,
        placeholder: "Start writing...",
        readOnly: false,
        disabled: false,
        autofocus: false,
        characterLimit: Data_Maybe.Nothing.value,
        showCharacterCount: false,
        showWordCount: false,
        className: "",
        editorClassName: "",
        toolbarClassName: "",
        mentions: [  ],
        onMentionSearch: Data_Maybe.Nothing.value,
        onMentionSelect: Data_Maybe.Nothing.value,
        slashCommands: defaultSlashCommands,
        enableBubbleMenu: true,
        enableSlashCommands: true,
        enableMentions: true,
        enableTables: true,
        enableImages: true,
        enableCodeBlocks: true,
        ariaLabel: "Rich text editor",
        ariaDescribedBy: Data_Maybe.Nothing.value
    };
})();

// | Basic editor without toolbar
// |
// | A minimal contenteditable editor with all features but no visible toolbar.
// | Formatting is available via keyboard shortcuts and right-click context menu.
var editor = function (propMods) {
    var props = Data_Array.foldl(function (p) {
        return function (f) {
            return f(p);
        };
    })(defaultProps)(propMods);
    var readOnlyClasses = (function () {
        if (props.readOnly) {
            return "bg-muted";
        };
        return "";
    })();
    var disabledClasses = (function () {
        if (props.disabled) {
            return "opacity-50 cursor-not-allowed";
        };
        return "";
    })();
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ editorContainerClasses, disabledClasses, props.className ]), Halogen_HTML_Properties.attr("data-richtext-editor")("") ])([ Halogen_HTML_Elements.div(append1([ Hydrogen_UI_Core.cls([ editorContentClasses, readOnlyClasses, props.editorClassName ]), Halogen_HTML_Properties.attr("contenteditable")((function () {
        var $71 = props.readOnly || props.disabled;
        if ($71) {
            return "false";
        };
        return "true";
    })()), Halogen_HTML_Properties.attr("data-placeholder")(props.placeholder), Halogen_HTML_Properties.attr("spellcheck")("true"), Halogen_HTML_Properties.tabIndex((function () {
        if (props.disabled) {
            return -1 | 0;
        };
        return 0;
    })()), Halogen_HTML_Properties_ARIA.role("textbox"), Halogen_HTML_Properties_ARIA.multiLine("true"), Halogen_HTML_Properties_ARIA.label(props.ariaLabel), Halogen_HTML_Properties_ARIA.readOnly(show1(props.readOnly)), Halogen_HTML_Properties_ARIA.disabled(show1(props.disabled)) ])(maybeAttr(Halogen_HTML_Properties_ARIA.describedBy)(props.ariaDescribedBy)))([  ]), (function () {
        var $73 = props.showCharacterCount || props.showWordCount;
        if ($73) {
            return editorFooter(props);
        };
        return Halogen_HTML_Core.text("");
    })() ]);
};

// Code icon
var codeIcon = /* #__PURE__ */ svgIcon("m16 18 6-6-6-6M8 6l-6 6 6 6");

// Code block icon
var codeBlockIcon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("h-4 w-4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("m10 9-3 3 3 3M14 9l3 3-3 3") ])([  ]), /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("rect")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("width")("20"), /* #__PURE__ */ Halogen_HTML_Properties.attr("height")("16"), /* #__PURE__ */ Halogen_HTML_Properties.attr("x")("2"), /* #__PURE__ */ Halogen_HTML_Properties.attr("y")("4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("rx")("2") ])([  ]) ]);

// | Add custom container class
var className = function (c) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            className: props.className + (" " + c)
        };
    };
};

// | Set character limit
var characterLimit = function (limit) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            characterLimit: new Data_Maybe.Just(limit)
        };
    };
};

// Bullet list icon
var bulletListIcon = /* #__PURE__ */ svgIcon("M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01");

// Bold icon
var boldIcon = /* #__PURE__ */ svgIcon("M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6zM6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z");

// | Bubble menu (floating toolbar on selection)
// |
// | Appears above selected text with quick formatting options.
var bubbleMenu = function (propMods) {
    var props = Data_Array.foldl(function (p) {
        return function (f) {
            return f(p);
        };
    })(defaultProps)(propMods);
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "absolute hidden z-50 flex items-center gap-1 p-1 bg-popover border rounded-lg shadow-lg", props.className ]), Halogen_HTML_Properties.attr("data-bubble-menu")(""), Halogen_HTML_Properties_ARIA.role("toolbar"), Halogen_HTML_Properties_ARIA.label("Text formatting") ])([ toolbarButton("Bold")("bold")(boldIcon), toolbarButton("Italic")("italic")(italicIcon), toolbarButton("Underline")("underline")(underlineIcon), toolbarButton("Strikethrough")("strikethrough")(strikethroughIcon), toolbarButton("Code")("code")(codeIcon), toolbarSeparator, toolbarButton("Link")("link")(linkIcon) ]);
};

// | Blur the editor
var blur = /* #__PURE__ */ Effect_Uncurried.runEffectFn1($foreign.blurEditorImpl);

// | Enable autofocus
var autofocus = function (a) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: props.ariaDescribedBy,
            autofocus: a
        };
    };
};

// | Set ARIA label
var ariaLabel = function (l) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaDescribedBy: props.ariaDescribedBy,
            ariaLabel: l
        };
    };
};

// | Set ARIA described-by
var ariaDescribedBy = function (id) {
    return function (props) {
        return {
            value: props.value,
            onChange: props.onChange,
            onHtmlChange: props.onHtmlChange,
            onJsonChange: props.onJsonChange,
            onSelectionChange: props.onSelectionChange,
            onFocus: props.onFocus,
            onBlur: props.onBlur,
            placeholder: props.placeholder,
            readOnly: props.readOnly,
            disabled: props.disabled,
            autofocus: props.autofocus,
            characterLimit: props.characterLimit,
            showCharacterCount: props.showCharacterCount,
            showWordCount: props.showWordCount,
            className: props.className,
            editorClassName: props.editorClassName,
            toolbarClassName: props.toolbarClassName,
            mentions: props.mentions,
            onMentionSearch: props.onMentionSearch,
            onMentionSelect: props.onMentionSelect,
            slashCommands: props.slashCommands,
            enableBubbleMenu: props.enableBubbleMenu,
            enableSlashCommands: props.enableSlashCommands,
            enableMentions: props.enableMentions,
            enableTables: props.enableTables,
            enableImages: props.enableImages,
            enableCodeBlocks: props.enableCodeBlocks,
            ariaLabel: props.ariaLabel,
            ariaDescribedBy: new Data_Maybe.Just(id)
        };
    };
};

// Align right icon
var alignRightIcon = /* #__PURE__ */ svgIcon("M21 6H3M21 12H9M21 18H6");

// Align left icon
var alignLeftIcon = /* #__PURE__ */ svgIcon("M21 6H3M15 12H3M18 18H3");

// Align justify icon
var alignJustifyIcon = /* #__PURE__ */ svgIcon("M3 6h18M3 12h18M3 18h18");

// Align center icon
var alignCenterIcon = /* #__PURE__ */ svgIcon("M21 6H3M17 12H7M19 18H5");

// | Toolbar component
// |
// | Standalone toolbar that can be positioned anywhere.
var toolbar = function (propMods) {
    var props = Data_Array.foldl(function (p) {
        return function (f) {
            return f(p);
        };
    })(defaultProps)(propMods);
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ toolbarBaseClasses, props.toolbarClassName ]), Halogen_HTML_Properties_ARIA.role("toolbar"), Halogen_HTML_Properties_ARIA.label("Formatting options") ])([ toolbarGroup([ toolbarButton("Undo (Ctrl+Z)")("undo")(undoIcon), toolbarButton("Redo (Ctrl+Shift+Z)")("redo")(redoIcon) ]), toolbarSeparator, toolbarGroup([ toolbarButton("Bold (Ctrl+B)")("bold")(boldIcon), toolbarButton("Italic (Ctrl+I)")("italic")(italicIcon), toolbarButton("Underline (Ctrl+U)")("underline")(underlineIcon), toolbarButton("Strikethrough")("strikethrough")(strikethroughIcon), toolbarButton("Code (Ctrl+E)")("code")(codeIcon) ]), toolbarSeparator, toolbarGroup([ toolbarButton("Heading 1")("heading1")(h1Icon), toolbarButton("Heading 2")("heading2")(h2Icon), toolbarButton("Heading 3")("heading3")(h3Icon), toolbarButton("Paragraph")("paragraph")(paragraphIcon) ]), toolbarSeparator, toolbarGroup([ toolbarButton("Bullet List")("bulletList")(bulletListIcon), toolbarButton("Numbered List")("orderedList")(orderedListIcon), toolbarButton("Task List")("taskList")(taskListIcon) ]), toolbarSeparator, toolbarGroup([ toolbarButton("Align Left")("alignLeft")(alignLeftIcon), toolbarButton("Align Center")("alignCenter")(alignCenterIcon), toolbarButton("Align Right")("alignRight")(alignRightIcon), toolbarButton("Justify")("alignJustify")(alignJustifyIcon) ]), toolbarSeparator, toolbarGroup(append1([ toolbarButton("Link (Ctrl+K)")("link")(linkIcon) ])(append1((function () {
        if (props.enableImages) {
            return [ toolbarButton("Image")("image")(imageIcon) ];
        };
        return [  ];
    })())(append1((function () {
        if (props.enableTables) {
            return [ toolbarButton("Table")("table")(tableIcon) ];
        };
        return [  ];
    })())(append1((function () {
        if (props.enableCodeBlocks) {
            return [ toolbarButton("Code Block")("codeBlock")(codeBlockIcon) ];
        };
        return [  ];
    })())([ toolbarButton("Quote")("blockquote")(quoteIcon), toolbarButton("Horizontal Rule")("horizontalRule")(hrIcon) ]))))) ]);
};

// | Editor with toolbar
// |
// | Full-featured editor with formatting toolbar at the top.
var editorWithToolbar = function (propMods) {
    var props = Data_Array.foldl(function (p) {
        return function (f) {
            return f(p);
        };
    })(defaultProps)(propMods);
    var readOnlyClasses = (function () {
        if (props.readOnly) {
            return "bg-muted";
        };
        return "";
    })();
    var disabledClasses = (function () {
        if (props.disabled) {
            return "opacity-50 cursor-not-allowed";
        };
        return "";
    })();
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ editorContainerClasses, disabledClasses, props.className ]), Halogen_HTML_Properties.attr("data-richtext-editor")("") ])([ toolbar(propMods), Halogen_HTML_Elements.div(append1([ Hydrogen_UI_Core.cls([ editorContentClasses, readOnlyClasses, props.editorClassName ]), Halogen_HTML_Properties.attr("contenteditable")((function () {
        var $79 = props.readOnly || props.disabled;
        if ($79) {
            return "false";
        };
        return "true";
    })()), Halogen_HTML_Properties.attr("data-placeholder")(props.placeholder), Halogen_HTML_Properties.attr("spellcheck")("true"), Halogen_HTML_Properties.tabIndex((function () {
        if (props.disabled) {
            return -1 | 0;
        };
        return 0;
    })()), Halogen_HTML_Properties_ARIA.role("textbox"), Halogen_HTML_Properties_ARIA.multiLine("true"), Halogen_HTML_Properties_ARIA.label(props.ariaLabel), Halogen_HTML_Properties_ARIA.readOnly(show1(props.readOnly)), Halogen_HTML_Properties_ARIA.disabled(show1(props.disabled)) ])(maybeAttr(Halogen_HTML_Properties_ARIA.describedBy)(props.ariaDescribedBy)))([  ]), (function () {
        var $81 = props.showCharacterCount || props.showWordCount;
        if ($81) {
            return editorFooter(props);
        };
        return Halogen_HTML_Core.text("");
    })() ]);
};
export {
    editor,
    editorWithToolbar,
    toolbar,
    bubbleMenu,
    slashCommandMenu,
    mentionMenu,
    toolbarGroup,
    toolbarButton,
    toolbarSeparator,
    toolbarSelect,
    defaultProps,
    value,
    onChange,
    onHtmlChange,
    onJsonChange,
    onSelectionChange,
    onFocus,
    onBlur,
    placeholder,
    readOnly,
    disabled,
    autofocus,
    characterLimit,
    showCharacterCount,
    showWordCount,
    className,
    editorClassName,
    toolbarClassName,
    mentions,
    onMentionSearch,
    onMentionSelect,
    slashCommands,
    enableBubbleMenu,
    enableSlashCommands,
    enableMentions,
    enableTables,
    enableImages,
    enableCodeBlocks,
    ariaLabel,
    ariaDescribedBy,
    HtmlContent,
    JsonContent,
    TextNode,
    ParagraphNode,
    HeadingNode,
    BulletListNode,
    OrderedListNode,
    TaskListNode,
    ListItemNode,
    BlockquoteNode,
    CodeBlockNode,
    ImageNode,
    LinkNode,
    TableNode,
    HorizontalRuleNode,
    MentionNode,
    Bold,
    Italic,
    Underline,
    Strikethrough,
    Code,
    Link,
    AlignLeft,
    AlignCenter,
    AlignRight,
    AlignJustify,
    H1,
    H2,
    H3,
    BulletList,
    NumberedList,
    TaskList,
    CmdBold,
    CmdItalic,
    CmdUnderline,
    CmdStrikethrough,
    CmdCode,
    CmdHeading,
    CmdParagraph,
    CmdBulletList,
    CmdOrderedList,
    CmdTaskList,
    CmdAlign,
    CmdLink,
    CmdImage,
    CmdTable,
    CmdCodeBlock,
    CmdBlockquote,
    CmdHorizontalRule,
    CmdUndo,
    CmdRedo,
    CmdFocus,
    CmdBlur,
    formatBold,
    formatItalic,
    formatUnderline,
    formatStrikethrough,
    formatCode,
    setHeading,
    setParagraph,
    toggleBulletList,
    toggleNumberedList,
    toggleTaskList,
    setAlignment,
    insertLink,
    insertImage,
    insertTable,
    insertCodeBlock,
    insertBlockquote,
    insertHorizontalRule,
    undo,
    redo,
    focus,
    blur,
    initEditor,
    destroyEditor,
    getHtml,
    setHtml,
    getJson,
    setJson,
    getSelection,
    executeCommand,
    getCharacterCount,
    getWordCount,
    registerShortcuts,
    unregisterShortcuts,
    eqMark,
    eqTextAlign,
    eqHeadingLevel,
    eqListType
};
