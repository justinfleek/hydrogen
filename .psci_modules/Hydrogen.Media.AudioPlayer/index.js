// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
//                                                   // hydrogen // audio-player
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// | Audio player with waveform visualization
// |
// | Full-featured audio player with canvas waveform display, playlist support,
// | MediaSession API integration, and spectrum analyzer.
// |
// | ## Usage
// |
// | ```purescript
// | import Hydrogen.Media.AudioPlayer as AP
// |
// | -- Basic audio player
// | AP.audioPlayer
// |   [ AP.src "https://example.com/audio.mp3"
// |   , AP.title "My Song"
// |   , AP.artist "Artist Name"
// |   , AP.albumArt "cover.jpg"
// |   ]
// |
// | -- With waveform visualization
// | AP.audioPlayer
// |   [ AP.src "audio.mp3"
// |   , AP.showWaveform true
// |   , AP.waveformColor "#3B82F6"
// |   , AP.progressColor "#60A5FA"
// |   ]
// |
// | -- Playlist mode with shuffle
// | AP.audioPlayer
// |   [ AP.playlist
// |       [ { title: "Track 1", src: "t1.mp3", artist: "Artist", albumArt: Nothing }
// |       , { title: "Track 2", src: "t2.mp3", artist: "Artist", albumArt: Nothing }
// |       ]
// |   , AP.shuffle true
// |   , AP.repeat AP.RepeatAll
// |   ]
// |
// | -- Mini player mode
// | AP.audioPlayer
// |   [ AP.src "audio.mp3"
// |   , AP.mode AP.MiniPlayer
// |   ]
// |
// | -- With spectrum analyzer
// | AP.audioPlayer
// |   [ AP.src "audio.mp3"
// |   , AP.showSpectrum true
// |   , AP.spectrumBars 64
// |   ]
// | ```
import * as $foreign from "./foreign.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_EuclideanRing from "../Data.EuclideanRing/index.js";
import * as Data_Int from "../Data.Int/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Ord from "../Data.Ord/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Unit from "../Data.Unit/index.js";
import * as Effect_Ref from "../Effect.Ref/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Halogen_HTML_Properties_ARIA from "../Halogen.HTML.Properties.ARIA/index.js";
import * as Hydrogen_UI_Core from "../Hydrogen.UI.Core/index.js";
var max = /* #__PURE__ */ Data_Ord.max(Data_Ord.ordNumber);
var min = /* #__PURE__ */ Data_Ord.min(Data_Ord.ordNumber);
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var show1 = /* #__PURE__ */ Data_Show.show(Data_Show.showNumber);
var max1 = /* #__PURE__ */ Data_Ord.max(Data_Ord.ordInt);
var mod = /* #__PURE__ */ Data_EuclideanRing.mod(Data_EuclideanRing.euclideanRingInt);
var div1 = /* #__PURE__ */ Data_EuclideanRing.div(Data_EuclideanRing.euclideanRingInt);

// | Repeat modes
var RepeatOff = /* #__PURE__ */ (function () {
    function RepeatOff() {

    };
    RepeatOff.value = new RepeatOff();
    return RepeatOff;
})();

// | Repeat modes
var RepeatOne = /* #__PURE__ */ (function () {
    function RepeatOne() {

    };
    RepeatOne.value = new RepeatOne();
    return RepeatOne;
})();

// | Repeat modes
var RepeatAll = /* #__PURE__ */ (function () {
    function RepeatAll() {

    };
    RepeatAll.value = new RepeatAll();
    return RepeatAll;
})();

// | Player display modes
var FullPlayer = /* #__PURE__ */ (function () {
    function FullPlayer() {

    };
    FullPlayer.value = new FullPlayer();
    return FullPlayer;
})();

// | Player display modes
var MiniPlayer = /* #__PURE__ */ (function () {
    function MiniPlayer() {

    };
    MiniPlayer.value = new MiniPlayer();
    return MiniPlayer;
})();

// | Player display modes
var BarPlayer = /* #__PURE__ */ (function () {
    function BarPlayer() {

    };
    BarPlayer.value = new BarPlayer();
    return BarPlayer;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // types
// ═══════════════════════════════════════════════════════════════════════════════
// | Playback rate options
var Rate0_5 = /* #__PURE__ */ (function () {
    function Rate0_5() {

    };
    Rate0_5.value = new Rate0_5();
    return Rate0_5;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // types
// ═══════════════════════════════════════════════════════════════════════════════
// | Playback rate options
var Rate0_75 = /* #__PURE__ */ (function () {
    function Rate0_75() {

    };
    Rate0_75.value = new Rate0_75();
    return Rate0_75;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // types
// ═══════════════════════════════════════════════════════════════════════════════
// | Playback rate options
var Rate1 = /* #__PURE__ */ (function () {
    function Rate1() {

    };
    Rate1.value = new Rate1();
    return Rate1;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // types
// ═══════════════════════════════════════════════════════════════════════════════
// | Playback rate options
var Rate1_25 = /* #__PURE__ */ (function () {
    function Rate1_25() {

    };
    Rate1_25.value = new Rate1_25();
    return Rate1_25;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // types
// ═══════════════════════════════════════════════════════════════════════════════
// | Playback rate options
var Rate1_5 = /* #__PURE__ */ (function () {
    function Rate1_5() {

    };
    Rate1_5.value = new Rate1_5();
    return Rate1_5;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // types
// ═══════════════════════════════════════════════════════════════════════════════
// | Playback rate options
var Rate2 = /* #__PURE__ */ (function () {
    function Rate2() {

    };
    Rate2.value = new Rate2();
    return Rate2;
})();

// | Audio player ref for imperative control
var AudioPlayerRef = function (x) {
    return x;
};

// | Set waveform height
var waveformHeight = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            waveformHeight: h
        };
    };
};

// | Set waveform color
var waveformColor = function (c) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            waveformColor: c
        };
    };
};
var volumeMutedIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-5 h-5" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z") ])([  ]) ]);
var volumeLowIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-5 h-5" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z") ])([  ]) ]);
var volumeHighIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-5 h-5" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z") ])([  ]) ]);

// | Toggle shuffle mode
var toggleShuffle = function (v) {
    return Effect_Ref.modify_(function (s) {
        return {
            buffered: s.buffered,
            currentIndex: s.currentIndex,
            currentTime: s.currentTime,
            duration: s.duration,
            ended: s.ended,
            error: s.error,
            loading: s.loading,
            muted: s.muted,
            paused: s.paused,
            playbackRate: s.playbackRate,
            playing: s.playing,
            repeatMode: s.repeatMode,
            volume: s.volume,
            shuffle: !s.shuffle
        };
    })(v.state);
};

// | Toggle play/pause
var togglePlay = function (v) {
    return function __do() {
        var maybeEl = Effect_Ref.read(v.elementRef)();
        var state = Effect_Ref.read(v.state)();
        if (maybeEl instanceof Data_Maybe.Just) {
            if (state.playing) {
                return $foreign.pauseImpl(maybeEl.value0);
            };
            return $foreign.playImpl(maybeEl.value0);
        };
        if (maybeEl instanceof Data_Maybe.Nothing) {
            return Data_Unit.unit;
        };
        throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 560, column 3 - line 565, column 25): " + [ maybeEl.constructor.name ]);
    };
};

// | Set track title
var title = function (t) {
    return function (props) {
        return {
            src: props.src,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            title: t
        };
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                               // prop builders
// ═══════════════════════════════════════════════════════════════════════════════
// | Set audio source URL
var src = function (s) {
    return function (props) {
        return {
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            src: s
        };
    };
};

// | Set number of spectrum bars
var spectrumBars = function (b) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            spectrumBars: b
        };
    };
};
var shuffleIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-5 h-5" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z") ])([  ]) ]);

// | Enable shuffle mode
var shuffle = function (s) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            shuffle: s
        };
    };
};

// | Show waveform visualization
var showWaveform = function (s) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            showWaveform: s
        };
    };
};

// | Show spectrum analyzer
var showSpectrum = function (s) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            showSpectrum: s
        };
    };
};
var showRepeatMode = {
    show: function (v) {
        if (v instanceof RepeatOff) {
            return "Off";
        };
        if (v instanceof RepeatOne) {
            return "One";
        };
        if (v instanceof RepeatAll) {
            return "All";
        };
        throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 173, column 1 - line 176, column 25): " + [ v.constructor.name ]);
    }
};
var showPlaybackRate = {
    show: function (v) {
        if (v instanceof Rate0_5) {
            return "0.5x";
        };
        if (v instanceof Rate0_75) {
            return "0.75x";
        };
        if (v instanceof Rate1) {
            return "1x";
        };
        if (v instanceof Rate1_25) {
            return "1.25x";
        };
        if (v instanceof Rate1_5) {
            return "1.5x";
        };
        if (v instanceof Rate2) {
            return "2x";
        };
        throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 148, column 1 - line 154, column 20): " + [ v.constructor.name ]);
    }
};
var show2 = /* #__PURE__ */ Data_Show.show(showPlaybackRate);

// | Set volume (0.0 to 1.0)
var setVolume = function (v) {
    return function (vol) {
        var clamp = function (lo) {
            return function (hi) {
                return function (x) {
                    return max(lo)(min(hi)(x));
                };
            };
        };
        return function __do() {
            var maybeEl = Effect_Ref.read(v.elementRef)();
            if (maybeEl instanceof Data_Maybe.Just) {
                return $foreign.setVolumeImpl(maybeEl.value0, clamp(0.0)(1.0)(vol));
            };
            if (maybeEl instanceof Data_Maybe.Nothing) {
                return Data_Unit.unit;
            };
            throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 579, column 3 - line 581, column 25): " + [ maybeEl.constructor.name ]);
        };
    };
};

// | Set repeat mode
var setRepeatMode = function (v) {
    return function (m) {
        return Effect_Ref.modify_(function (s) {
            return {
                buffered: s.buffered,
                currentIndex: s.currentIndex,
                currentTime: s.currentTime,
                duration: s.duration,
                ended: s.ended,
                error: s.error,
                loading: s.loading,
                muted: s.muted,
                paused: s.paused,
                playbackRate: s.playbackRate,
                playing: s.playing,
                shuffle: s.shuffle,
                volume: s.volume,
                repeatMode: m
            };
        })(v.state);
    };
};

// | Set muted state
var setMuted = function (v) {
    return function (m) {
        return function __do() {
            var maybeEl = Effect_Ref.read(v.elementRef)();
            if (maybeEl instanceof Data_Maybe.Just) {
                return $foreign.setMutedImpl(maybeEl.value0, m);
            };
            if (maybeEl instanceof Data_Maybe.Nothing) {
                return Data_Unit.unit;
            };
            throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 589, column 3 - line 591, column 25): " + [ maybeEl.constructor.name ]);
        };
    };
};

// | Seek to specific time
var seek = function (v) {
    return function (time) {
        return function __do() {
            var maybeEl = Effect_Ref.read(v.elementRef)();
            if (maybeEl instanceof Data_Maybe.Just) {
                return $foreign.seekImpl(maybeEl.value0, time);
            };
            if (maybeEl instanceof Data_Maybe.Nothing) {
                return Data_Unit.unit;
            };
            throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 571, column 3 - line 573, column 25): " + [ maybeEl.constructor.name ]);
        };
    };
};
var repeatOneIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-5 h-5" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z") ])([  ]) ]);
var repeatIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-5 h-5" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z") ])([  ]) ]);

// | Set repeat mode
var repeat = function (r) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            repeat: r
        };
    };
};

// | Render progress bar
var renderProgressBar = function (progressPercent) {
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "h-2 bg-muted rounded-full cursor-pointer" ]), Halogen_HTML_Properties_ARIA.role("slider"), Halogen_HTML_Properties_ARIA.valueNow(show(Data_Int.round(progressPercent))), Halogen_HTML_Properties_ARIA.valueMin("0"), Halogen_HTML_Properties_ARIA.valueMax("100") ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "h-full bg-primary rounded-full transition-all" ]), Halogen_HTML_Properties.style("width: " + (show1(progressPercent) + "%")) ])([  ]) ]);
};

// | Set progress color
var progressColor = function (c) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            progressColor: c
        };
    };
};

// | Go to previous track
var previousTrack = function (v) {
    return Effect_Ref.modify_(function (s) {
        return {
            buffered: s.buffered,
            currentTime: s.currentTime,
            duration: s.duration,
            ended: s.ended,
            error: s.error,
            loading: s.loading,
            muted: s.muted,
            paused: s.paused,
            playbackRate: s.playbackRate,
            playing: s.playing,
            repeatMode: s.repeatMode,
            shuffle: s.shuffle,
            volume: s.volume,
            currentIndex: max1(0)(s.currentIndex - 1 | 0)
        };
    })(v.state);
};
var previousIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-6 h-6" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M6 6h2v12H6zm3.5 6l8.5 6V6z") ])([  ]) ]);

// | Set playlist
var playlist = function (p) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            playlist: p
        };
    };
};
var playbackRateToNumber = function (v) {
    if (v instanceof Rate0_5) {
        return 0.5;
    };
    if (v instanceof Rate0_75) {
        return 0.75;
    };
    if (v instanceof Rate1) {
        return 1.0;
    };
    if (v instanceof Rate1_25) {
        return 1.25;
    };
    if (v instanceof Rate1_5) {
        return 1.5;
    };
    if (v instanceof Rate2) {
        return 2.0;
    };
    throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 157, column 24 - line 163, column 15): " + [ v.constructor.name ]);
};

// | Set playback rate
var setPlaybackRate = function (v) {
    return function (rate) {
        return function __do() {
            var maybeEl = Effect_Ref.read(v.elementRef)();
            if (maybeEl instanceof Data_Maybe.Just) {
                return $foreign.setPlaybackRateImpl(maybeEl.value0, playbackRateToNumber(rate));
            };
            if (maybeEl instanceof Data_Maybe.Nothing) {
                return Data_Unit.unit;
            };
            throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 597, column 3 - line 599, column 25): " + [ maybeEl.constructor.name ]);
        };
    };
};
var playIconSmall = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-4 h-4 ml-0.5" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M8 5v14l11-7z") ])([  ]) ]);

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // icons
// ═══════════════════════════════════════════════════════════════════════════════
var playIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-8 h-8 ml-1" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M8 5v14l11-7z") ])([  ]) ]);

// | Play audio
var play = function (v) {
    return function __do() {
        var maybeEl = Effect_Ref.read(v.elementRef)();
        if (maybeEl instanceof Data_Maybe.Just) {
            return $foreign.playImpl(maybeEl.value0);
        };
        if (maybeEl instanceof Data_Maybe.Nothing) {
            return Data_Unit.unit;
        };
        throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 543, column 3 - line 545, column 25): " + [ maybeEl.constructor.name ]);
    };
};
var pauseIconSmall = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-4 h-4" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M6 4h4v16H6V4zm8 0h4v16h-4V4z") ])([  ]) ]);
var pauseIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-8 h-8" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M6 4h4v16H6V4zm8 0h4v16h-4V4z") ])([  ]) ]);

// | Pause audio
var pause = function (v) {
    return function __do() {
        var maybeEl = Effect_Ref.read(v.elementRef)();
        if (maybeEl instanceof Data_Maybe.Just) {
            return $foreign.pauseImpl(maybeEl.value0);
        };
        if (maybeEl instanceof Data_Maybe.Nothing) {
            return Data_Unit.unit;
        };
        throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 551, column 3 - line 553, column 25): " + [ maybeEl.constructor.name ]);
    };
};

// | Handle volume change
var onVolumeChange = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            onVolumeChange: new Data_Maybe.Just(h)
        };
    };
};

// | Handle track change
var onTrackChange = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            onTrackChange: new Data_Maybe.Just(h)
        };
    };
};

// | Handle time update
var onTimeUpdate = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            onTimeUpdate: new Data_Maybe.Just(h)
        };
    };
};

// | Handle shuffle change
var onShuffleChange = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            onShuffleChange: new Data_Maybe.Just(h)
        };
    };
};

// | Handle repeat mode change
var onRepeatChange = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onError: props.onError,
            onRepeatChange: new Data_Maybe.Just(h)
        };
    };
};

// | Handle playback rate change
var onPlaybackRateChange = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            onPlaybackRateChange: new Data_Maybe.Just(h)
        };
    };
};

// | Handle play event
var onPlay = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            onPlay: new Data_Maybe.Just(h)
        };
    };
};

// | Handle pause event
var onPause = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            onPause: new Data_Maybe.Just(h)
        };
    };
};

// | Handle error
var onError = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: new Data_Maybe.Just(h)
        };
    };
};

// | Handle ended event
var onEnded = function (h) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            onEnded: new Data_Maybe.Just(h)
        };
    };
};

// | Go to next track
var nextTrack = function (v) {
    return Effect_Ref.modify_(function (s) {
        return {
            buffered: s.buffered,
            currentTime: s.currentTime,
            duration: s.duration,
            ended: s.ended,
            error: s.error,
            loading: s.loading,
            muted: s.muted,
            paused: s.paused,
            playbackRate: s.playbackRate,
            playing: s.playing,
            repeatMode: s.repeatMode,
            shuffle: s.shuffle,
            volume: s.volume,
            currentIndex: s.currentIndex + 1 | 0
        };
    })(v.state);
};
var nextIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-6 h-6" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z") ])([  ]) ]);
var musicNoteIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Hydrogen_UI_Core.cls([ "w-12 h-12 text-muted-foreground" ]), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("currentColor") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z") ])([  ]) ]);

// | Set player display mode
var mode = function (m) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            mode: m
        };
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                              // internal utils
// ═══════════════════════════════════════════════════════════════════════════════
var hasPlaylist = function (props) {
    return Data_Array.length(props.playlist) > 1;
};

// | Mini player (compact)
var renderMiniPlayer = function (props) {
    return function (state) {
        var progressPercent = (function () {
            var $115 = state.duration > 0.0;
            if ($115) {
                return (state.currentTime / state.duration) * 100.0;
            };
            return 0.0;
        })();
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "audio-player-mini fixed bottom-0 left-0 right-0 bg-card border-t shadow-lg", props.className ]) ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "h-1 bg-muted" ]) ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "h-full bg-primary transition-all" ]), Halogen_HTML_Properties.style("width: " + (show1(progressPercent) + "%")) ])([  ]) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex items-center gap-4 p-3" ]) ])([ (function () {
            var $116 = props.albumArt !== "";
            if ($116) {
                return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "w-12 h-12 rounded overflow-hidden flex-shrink-0" ]) ])([ Halogen_HTML_Elements.img([ Hydrogen_UI_Core.cls([ "w-full h-full object-cover" ]), Halogen_HTML_Properties.src(props.albumArt), Halogen_HTML_Properties.alt("") ]) ]);
            };
            return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "w-12 h-12 rounded bg-muted flex items-center justify-center" ]) ])([ Halogen_HTML_Elements.element("svg")([ Hydrogen_UI_Core.cls([ "w-6 h-6 text-muted-foreground" ]) ])([  ]) ]);
        })(), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex-1 min-w-0" ]) ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "font-medium text-foreground truncate" ]) ])([ Halogen_HTML_Core.text(props.title) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "text-sm text-muted-foreground truncate" ]) ])([ Halogen_HTML_Core.text(props.artist) ]) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex items-center gap-2" ]) ])([ (function () {
            var $117 = hasPlaylist(props);
            if ($117) {
                return Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "p-2 text-foreground" ]), Halogen_HTML_Properties_ARIA.label("Previous") ])([ previousIcon ]);
            };
            return Halogen_HTML_Core.text("");
        })(), Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "w-10 h-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center" ]), Halogen_HTML_Properties_ARIA.label((function () {
            if (state.playing) {
                return "Pause";
            };
            return "Play";
        })()) ])([ (function () {
            if (state.playing) {
                return pauseIcon;
            };
            return playIcon;
        })() ]), (function () {
            var $120 = hasPlaylist(props);
            if ($120) {
                return Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "p-2 text-foreground" ]), Halogen_HTML_Properties_ARIA.label("Next") ])([ nextIcon ]);
            };
            return Halogen_HTML_Core.text("");
        })() ]) ]) ]);
    };
};

// | Go to specific track
var goToTrack = function (v) {
    return function (index) {
        return Effect_Ref.modify_(function (s) {
            return {
                buffered: s.buffered,
                currentTime: s.currentTime,
                duration: s.duration,
                ended: s.ended,
                error: s.error,
                loading: s.loading,
                muted: s.muted,
                paused: s.paused,
                playbackRate: s.playbackRate,
                playing: s.playing,
                repeatMode: s.repeatMode,
                shuffle: s.shuffle,
                volume: s.volume,
                currentIndex: max1(0)(index)
            };
        })(v.state);
    };
};

// | Get waveform data
var getWaveformData = function (v) {
    return function __do() {
        var maybeEl = Effect_Ref.read(v.elementRef)();
        if (maybeEl instanceof Data_Maybe.Just) {
            var d = $foreign.getWaveformDataImpl(maybeEl.value0);
            return new Data_Maybe.Just(d);
        };
        if (maybeEl instanceof Data_Maybe.Nothing) {
            return Data_Maybe.Nothing.value;
        };
        throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 630, column 3 - line 634, column 28): " + [ maybeEl.constructor.name ]);
    };
};

// | Get spectrum data
var getSpectrumData = function (v) {
    return function __do() {
        var maybeEl = Effect_Ref.read(v.elementRef)();
        if (maybeEl instanceof Data_Maybe.Just) {
            var d = $foreign.getSpectrumDataImpl(maybeEl.value0);
            return new Data_Maybe.Just(d);
        };
        if (maybeEl instanceof Data_Maybe.Nothing) {
            return Data_Maybe.Nothing.value;
        };
        throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 640, column 3 - line 644, column 28): " + [ maybeEl.constructor.name ]);
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                     // helpers
// ═══════════════════════════════════════════════════════════════════════════════
// | Format time in seconds to MM:SS
var formatTime = function (seconds) {
    var totalSecs = Data_Int.floor(seconds);
    var secs = mod(totalSecs)(60);
    var pad = function (n) {
        var $129 = n < 10;
        if ($129) {
            return "0" + show(n);
        };
        return show(n);
    };
    var mins = div1(totalSecs)(60);
    return show(mins) + (":" + pad(secs));
};

// | Bar player (horizontal)
var renderBarPlayer = function (props) {
    return function (state) {
        var progressPercent = (function () {
            var $130 = state.duration > 0.0;
            if ($130) {
                return (state.currentTime / state.duration) * 100.0;
            };
            return 0.0;
        })();
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "audio-player-bar flex items-center gap-3 p-2 bg-card rounded-lg", props.className ]) ])([ Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center flex-shrink-0" ]), Halogen_HTML_Properties_ARIA.label((function () {
            if (state.playing) {
                return "Pause";
            };
            return "Play";
        })()) ])([ (function () {
            if (state.playing) {
                return pauseIconSmall;
            };
            return playIconSmall;
        })() ]), Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "text-xs text-muted-foreground w-10" ]) ])([ Halogen_HTML_Core.text(formatTime(state.currentTime)) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex-1 h-1 bg-muted rounded-full" ]), Halogen_HTML_Properties_ARIA.role("slider") ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "h-full bg-primary rounded-full" ]), Halogen_HTML_Properties.style("width: " + (show1(progressPercent) + "%")) ])([  ]) ]), Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "text-xs text-muted-foreground w-10 text-right" ]) ])([ Halogen_HTML_Core.text(formatTime(state.duration)) ]) ]);
    };
};
var eqRepeatMode = {
    eq: function (x) {
        return function (y) {
            if (x instanceof RepeatOff && y instanceof RepeatOff) {
                return true;
            };
            if (x instanceof RepeatOne && y instanceof RepeatOne) {
                return true;
            };
            if (x instanceof RepeatAll && y instanceof RepeatAll) {
                return true;
            };
            return false;
        };
    }
};
var notEq1 = /* #__PURE__ */ Data_Eq.notEq(eqRepeatMode);

// | Full player with album art and waveform
var renderFullPlayer = function (props) {
    return function (state) {
        var volumeIcon = (function () {
            var $135 = state.muted || state.volume === 0.0;
            if ($135) {
                return volumeMutedIcon;
            };
            var $136 = state.volume < 0.5;
            if ($136) {
                return volumeLowIcon;
            };
            return volumeHighIcon;
        })();
        var progressPercent = (function () {
            var $137 = state.duration > 0.0;
            if ($137) {
                return (state.currentTime / state.duration) * 100.0;
            };
            return 0.0;
        })();
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "audio-player bg-card rounded-xl p-6 shadow-lg", props.className ]) ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex gap-6 mb-6" ]) ])([ (function () {
            var $138 = props.albumArt !== "";
            if ($138) {
                return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "w-32 h-32 rounded-lg overflow-hidden flex-shrink-0 bg-muted" ]) ])([ Halogen_HTML_Elements.img([ Hydrogen_UI_Core.cls([ "w-full h-full object-cover" ]), Halogen_HTML_Properties.src(props.albumArt), Halogen_HTML_Properties.alt("Album art") ]) ]);
            };
            return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "w-32 h-32 rounded-lg bg-muted flex items-center justify-center" ]) ])([ musicNoteIcon ]);
        })(), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex flex-col justify-center" ]) ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "text-xl font-semibold text-foreground" ]) ])([ Halogen_HTML_Core.text((function () {
            var $139 = props.title !== "";
            if ($139) {
                return props.title;
            };
            return "Unknown Title";
        })()) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "text-muted-foreground" ]) ])([ Halogen_HTML_Core.text((function () {
            var $140 = props.artist !== "";
            if ($140) {
                return props.artist;
            };
            return "Unknown Artist";
        })()) ]), (function () {
            var $141 = props.album !== "";
            if ($141) {
                return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "text-sm text-muted-foreground" ]) ])([ Halogen_HTML_Core.text(props.album) ]);
            };
            return Halogen_HTML_Core.text("");
        })() ]) ]), (function () {
            if (props.showWaveform) {
                return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "relative mb-4" ]) ])([ Halogen_HTML_Elements.element("canvas")([ Hydrogen_UI_Core.cls([ "w-full cursor-pointer" ]), Halogen_HTML_Properties.attr("data-waveform")("true"), Halogen_HTML_Properties.style("height: " + (show1(props.waveformHeight) + "px")) ])([  ]) ]);
            };
            return renderProgressBar(progressPercent);
        })(), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex justify-between text-sm text-muted-foreground mb-4" ]) ])([ Halogen_HTML_Elements.span_([ Halogen_HTML_Core.text(formatTime(state.currentTime)) ]), Halogen_HTML_Elements.span_([ Halogen_HTML_Core.text(formatTime(state.duration)) ]) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex items-center justify-center gap-4" ]) ])([ (function () {
            var $143 = hasPlaylist(props);
            if ($143) {
                return Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "p-2 rounded-full transition-colors", (function () {
                    if (state.shuffle) {
                        return "text-primary";
                    };
                    return "text-muted-foreground hover:text-foreground";
                })() ]), Halogen_HTML_Properties_ARIA.label("Shuffle") ])([ shuffleIcon ]);
            };
            return Halogen_HTML_Core.text("");
        })(), (function () {
            var $145 = hasPlaylist(props);
            if ($145) {
                return Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "p-2 text-foreground hover:text-primary transition-colors" ]), Halogen_HTML_Properties_ARIA.label("Previous") ])([ previousIcon ]);
            };
            return Halogen_HTML_Core.text("");
        })(), Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "w-14 h-14 rounded-full bg-primary text-primary-foreground", "flex items-center justify-center hover:bg-primary/90 transition-colors" ]), Halogen_HTML_Properties_ARIA.label((function () {
            if (state.playing) {
                return "Pause";
            };
            return "Play";
        })()) ])([ (function () {
            if (state.playing) {
                return pauseIcon;
            };
            return playIcon;
        })() ]), (function () {
            var $148 = hasPlaylist(props);
            if ($148) {
                return Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "p-2 text-foreground hover:text-primary transition-colors" ]), Halogen_HTML_Properties_ARIA.label("Next") ])([ nextIcon ]);
            };
            return Halogen_HTML_Core.text("");
        })(), Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "p-2 rounded-full transition-colors", (function () {
            var $149 = notEq1(state.repeatMode)(RepeatOff.value);
            if ($149) {
                return "text-primary";
            };
            return "text-muted-foreground hover:text-foreground";
        })() ]), Halogen_HTML_Properties_ARIA.label("Repeat") ])([ (function () {
            if (state.repeatMode instanceof RepeatOne) {
                return repeatOneIcon;
            };
            return repeatIcon;
        })() ]) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex items-center justify-between mt-6" ]) ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex items-center gap-2" ]) ])([ Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "p-1 text-muted-foreground hover:text-foreground" ]), Halogen_HTML_Properties_ARIA.label("Volume") ])([ volumeIcon ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "w-24 h-1 bg-muted rounded-full" ]), Halogen_HTML_Properties_ARIA.role("slider"), Halogen_HTML_Properties_ARIA.valueNow(show(Data_Int.round(state.volume * 100.0))), Halogen_HTML_Properties_ARIA.valueMin("0"), Halogen_HTML_Properties_ARIA.valueMax("100") ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "h-full bg-primary rounded-full" ]), Halogen_HTML_Properties.style("width: " + (show1(state.volume * 100.0) + "%")) ])([  ]) ]) ]), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "text-sm text-muted-foreground" ]) ])([ Halogen_HTML_Core.text(show2(state.playbackRate)) ]) ]), (function () {
            if (props.showSpectrum) {
                return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "mt-4" ]) ])([ Halogen_HTML_Elements.element("canvas")([ Hydrogen_UI_Core.cls([ "w-full h-16" ]), Halogen_HTML_Properties.attr("data-spectrum")("true") ])([  ]) ]);
            };
            return Halogen_HTML_Core.text("");
        })() ]);
    };
};
var eqPlayerMode = {
    eq: function (x) {
        return function (y) {
            if (x instanceof FullPlayer && y instanceof FullPlayer) {
                return true;
            };
            if (x instanceof MiniPlayer && y instanceof MiniPlayer) {
                return true;
            };
            if (x instanceof BarPlayer && y instanceof BarPlayer) {
                return true;
            };
            return false;
        };
    }
};
var eqPlaybackRate = {
    eq: function (x) {
        return function (y) {
            if (x instanceof Rate0_5 && y instanceof Rate0_5) {
                return true;
            };
            if (x instanceof Rate0_75 && y instanceof Rate0_75) {
                return true;
            };
            if (x instanceof Rate1 && y instanceof Rate1) {
                return true;
            };
            if (x instanceof Rate1_25 && y instanceof Rate1_25) {
                return true;
            };
            if (x instanceof Rate1_5 && y instanceof Rate1_5) {
                return true;
            };
            if (x instanceof Rate2 && y instanceof Rate2) {
                return true;
            };
            return false;
        };
    }
};

// | Enable MediaSession API integration
var enableMediaSession = function (e) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            enableMediaSession: e
        };
    };
};

// | Enable keyboard controls
var enableKeyboard = function (e) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            enableKeyboard: e
        };
    };
};

// | Default audio state
var defaultState = /* #__PURE__ */ (function () {
    return {
        playing: false,
        paused: true,
        ended: false,
        currentTime: 0.0,
        duration: 0.0,
        buffered: 0.0,
        volume: 1.0,
        muted: false,
        playbackRate: Rate1.value,
        shuffle: false,
        repeatMode: RepeatOff.value,
        currentIndex: 0,
        error: Data_Maybe.Nothing.value,
        loading: false
    };
})();
var defaultProps = /* #__PURE__ */ (function () {
    return {
        src: "",
        title: "",
        artist: "",
        album: "",
        albumArt: "",
        playlist: [  ],
        currentIndex: 0,
        shuffle: false,
        repeat: RepeatOff.value,
        showWaveform: true,
        waveformColor: "#64748B",
        progressColor: "#3B82F6",
        waveformHeight: 64.0,
        showSpectrum: false,
        spectrumBars: 32,
        mode: FullPlayer.value,
        enableKeyboard: true,
        enableMediaSession: true,
        className: "",
        onPlay: Data_Maybe.Nothing.value,
        onPause: Data_Maybe.Nothing.value,
        onEnded: Data_Maybe.Nothing.value,
        onTimeUpdate: Data_Maybe.Nothing.value,
        onVolumeChange: Data_Maybe.Nothing.value,
        onPlaybackRateChange: Data_Maybe.Nothing.value,
        onTrackChange: Data_Maybe.Nothing.value,
        onShuffleChange: Data_Maybe.Nothing.value,
        onRepeatChange: Data_Maybe.Nothing.value,
        onError: Data_Maybe.Nothing.value
    };
})();

// | Set current track index
var currentIndex = function (i) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            currentIndex: i
        };
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                              // imperative api
// ═══════════════════════════════════════════════════════════════════════════════
// | Create audio player ref
var createAudioRef = function __do() {
    var elementRef = Effect_Ref["new"](Data_Maybe.Nothing.value)();
    var state = Effect_Ref["new"](defaultState)();
    return {
        elementRef: elementRef,
        state: state
    };
};

// | Add custom class
var className = function (c) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            className: props.className + (" " + c)
        };
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                  // components
// ═══════════════════════════════════════════════════════════════════════════════
// | Audio player component
var audioPlayer = function (propMods) {
    return function (state) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        if (props.mode instanceof FullPlayer) {
            return renderFullPlayer(props)(state);
        };
        if (props.mode instanceof MiniPlayer) {
            return renderMiniPlayer(props)(state);
        };
        if (props.mode instanceof BarPlayer) {
            return renderBarPlayer(props)(state);
        };
        throw new Error("Failed pattern match at Hydrogen.Media.AudioPlayer (line 675, column 5 - line 678, column 47): " + [ props.mode.constructor.name ]);
    };
};

// | Set artist name
var artist = function (a) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            album: props.album,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            artist: a
        };
    };
};

// | Set album artwork URL
var albumArt = function (a) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            album: props.album,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            albumArt: a
        };
    };
};

// | Set album name
var album = function (a) {
    return function (props) {
        return {
            src: props.src,
            title: props.title,
            artist: props.artist,
            albumArt: props.albumArt,
            playlist: props.playlist,
            currentIndex: props.currentIndex,
            shuffle: props.shuffle,
            repeat: props.repeat,
            showWaveform: props.showWaveform,
            waveformColor: props.waveformColor,
            progressColor: props.progressColor,
            waveformHeight: props.waveformHeight,
            showSpectrum: props.showSpectrum,
            spectrumBars: props.spectrumBars,
            mode: props.mode,
            enableKeyboard: props.enableKeyboard,
            enableMediaSession: props.enableMediaSession,
            className: props.className,
            onPlay: props.onPlay,
            onPause: props.onPause,
            onEnded: props.onEnded,
            onTimeUpdate: props.onTimeUpdate,
            onVolumeChange: props.onVolumeChange,
            onPlaybackRateChange: props.onPlaybackRateChange,
            onTrackChange: props.onTrackChange,
            onShuffleChange: props.onShuffleChange,
            onRepeatChange: props.onRepeatChange,
            onError: props.onError,
            album: a
        };
    };
};
export {
    audioPlayer,
    defaultProps,
    src,
    title,
    artist,
    album,
    albumArt,
    playlist,
    currentIndex,
    shuffle,
    repeat,
    showWaveform,
    waveformColor,
    progressColor,
    waveformHeight,
    showSpectrum,
    spectrumBars,
    mode,
    enableKeyboard,
    enableMediaSession,
    className,
    onPlay,
    onPause,
    onEnded,
    onTimeUpdate,
    onVolumeChange,
    onPlaybackRateChange,
    onTrackChange,
    onShuffleChange,
    onRepeatChange,
    onError,
    RepeatOff,
    RepeatOne,
    RepeatAll,
    FullPlayer,
    MiniPlayer,
    BarPlayer,
    formatTime,
    defaultState,
    createAudioRef,
    play,
    pause,
    togglePlay,
    seek,
    setVolume,
    setMuted,
    setPlaybackRate,
    nextTrack,
    previousTrack,
    goToTrack,
    toggleShuffle,
    setRepeatMode,
    eqPlaybackRate,
    showPlaybackRate,
    eqRepeatMode,
    showRepeatMode,
    eqPlayerMode
};
