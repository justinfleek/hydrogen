// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
//                                                       // hydrogen // signature
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// | Signature pad component
// |
// | Canvas-based signature capture with drawing, erasing, and export capabilities.
// |
// | ## Features
// |
// | - Canvas-based drawing
// | - Configurable pen color and thickness
// | - Eraser mode
// | - Clear and undo functionality
// | - Save as PNG/SVG/JSON
// | - Load from JSON (replay strokes)
// | - Touch and stylus support
// | - Pressure sensitivity (when available)
// | - Dotted line guide option
// | - Read-only display mode
// | - Responsive sizing
// |
// | ## Usage
// |
// | ```purescript
// | import Hydrogen.Component.Signature as Signature
// |
// | -- Basic signature pad
// | Signature.signaturePad
// |   [ Signature.onChange HandleSignatureChange
// |   , Signature.penColor "#000000"
// |   , Signature.penThickness 2.0
// |   ]
// |
// | -- With guide line and eraser
// | Signature.signaturePad
// |   [ Signature.showGuide true
// |   , Signature.allowEraser true
// |   , Signature.onClear HandleClear
// |   ]
// |
// | -- Read-only display mode
// | Signature.signaturePad
// |   [ Signature.readOnly true
// |   , Signature.strokeData existingSignature
// |   ]
// |
// | -- With toolbar
// | Signature.signaturePadWithToolbar
// |   [ Signature.onChange HandleChange
// |   , Signature.showColorPicker true
// |   ]
// | ```
import * as $foreign from "./foreign.js";
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as DOM_HTML_Indexed_ButtonType from "../DOM.HTML.Indexed.ButtonType/index.js";
import * as DOM_HTML_Indexed_InputType from "../DOM.HTML.Indexed.InputType/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Semigroup from "../Data.Semigroup/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Unit from "../Data.Unit/index.js";
import * as Effect from "../Effect/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Events from "../Halogen.HTML.Events/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Halogen_HTML_Properties_ARIA from "../Halogen.HTML.Properties.ARIA/index.js";
import * as Hydrogen_UI_Core from "../Hydrogen.UI.Core/index.js";
var pure = /* #__PURE__ */ Control_Applicative.pure(Effect.applicativeEffect);
var append = /* #__PURE__ */ Data_Semigroup.append(Data_Semigroup.semigroupArray);
var type_ = /* #__PURE__ */ Halogen_HTML_Properties.type_(Halogen_HTML_Core.isPropButtonType);
var type_1 = /* #__PURE__ */ Halogen_HTML_Properties.type_(Halogen_HTML_Core.isPropInputType);
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var show1 = /* #__PURE__ */ Data_Show.show(Data_Show.showNumber);

// | Toolbar position
var Top = /* #__PURE__ */ (function () {
    function Top() {

    };
    Top.value = new Top();
    return Top;
})();

// | Toolbar position
var Bottom = /* #__PURE__ */ (function () {
    function Bottom() {

    };
    Bottom.value = new Bottom();
    return Bottom;
})();

// | Guide line style
var Dotted = /* #__PURE__ */ (function () {
    function Dotted() {

    };
    Dotted.value = new Dotted();
    return Dotted;
})();

// | Guide line style
var Dashed = /* #__PURE__ */ (function () {
    function Dashed() {

    };
    Dashed.value = new Dashed();
    return Dashed;
})();

// | Guide line style
var Solid = /* #__PURE__ */ (function () {
    function Solid() {

    };
    Solid.value = new Solid();
    return Solid;
})();

// | Guide line style
var Hidden = /* #__PURE__ */ (function () {
    function Hidden() {

    };
    Hidden.value = new Hidden();
    return Hidden;
})();

// | Export format
var PNG = /* #__PURE__ */ (function () {
    function PNG() {

    };
    PNG.value = new PNG();
    return PNG;
})();

// | Export format
var SVG = /* #__PURE__ */ (function () {
    function SVG() {

    };
    SVG.value = new SVG();
    return SVG;
})();

// | Export format
var $$JSON = /* #__PURE__ */ (function () {
    function $$JSON() {

    };
    $$JSON.value = new $$JSON();
    return $$JSON;
})();

// | Set canvas width
var width = function (w) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            width: w
        };
    };
};

// | Undo last stroke
var undoStroke = function (v) {
    return pure(false);
};

// | Undo icon
var undoIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("xmlns")("http://www.w3.org/2000/svg"), /* #__PURE__ */ Halogen_HTML_Properties.attr("width")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("height")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linecap")("round"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linejoin")("round") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M3 7v6h6") ])([  ]), /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13") ])([  ]) ]);

// | Undo button
var undoButton = function (handler) {
    return Halogen_HTML_Elements.button(append([ Hydrogen_UI_Core.cls([ "signature-undo p-2 rounded-md hover:bg-accent transition-colors", "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring" ]), type_(DOM_HTML_Indexed_ButtonType.ButtonButton.value), Halogen_HTML_Properties_ARIA.label("Undo") ])((function () {
        if (handler instanceof Data_Maybe.Just) {
            return [ Halogen_HTML_Events.onClick(handler.value0) ];
        };
        if (handler instanceof Data_Maybe.Nothing) {
            return [  ];
        };
        throw new Error("Failed pattern match at Hydrogen.Component.Signature (line 611, column 12 - line 613, column 26): " + [ handler.constructor.name ]);
    })()))([ undoIcon ]);
};

// | Trash icon
var trashIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("xmlns")("http://www.w3.org/2000/svg"), /* #__PURE__ */ Halogen_HTML_Properties.attr("width")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("height")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linecap")("round"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linejoin")("round") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("polyline")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("points")("3 6 5 6 21 6") ])([  ]), /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2") ])([  ]) ]);

// | Set toolbar position
var toolbarPosition = function (p) {
    return function (props) {
        return {
            showColorPicker: props.showColorPicker,
            showThicknessSlider: props.showThicknessSlider,
            showEraser: props.showEraser,
            showClear: props.showClear,
            showUndo: props.showUndo,
            className: props.className,
            onColorChange: props.onColorChange,
            onThicknessChange: props.onThicknessChange,
            onEraserToggle: props.onEraserToggle,
            onClear: props.onClear,
            onUndo: props.onUndo,
            position: p
        };
    };
};

// | Add toolbar custom class
var toolbarClassName = function (c) {
    return function (props) {
        return {
            showColorPicker: props.showColorPicker,
            showThicknessSlider: props.showThicknessSlider,
            showEraser: props.showEraser,
            showClear: props.showClear,
            showUndo: props.showUndo,
            position: props.position,
            onColorChange: props.onColorChange,
            onThicknessChange: props.onThicknessChange,
            onEraserToggle: props.onEraserToggle,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className + (" " + c)
        };
    };
};

// | Thickness control
var thicknessControl = /* #__PURE__ */ (function () {
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "signature-thickness flex items-center gap-2" ]) ])([ Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "text-xs text-muted-foreground" ]) ])([ Halogen_HTML_Core.text("Thin") ]), Halogen_HTML_Elements.input([ type_1(DOM_HTML_Indexed_InputType.InputRange.value), Halogen_HTML_Properties.attr("min")("1"), Halogen_HTML_Properties.attr("max")("10"), Halogen_HTML_Properties.attr("step")("0.5"), Hydrogen_UI_Core.cls([ "w-20 h-2 cursor-pointer" ]), Halogen_HTML_Properties_ARIA.label("Pen thickness") ]), Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "text-xs text-muted-foreground" ]) ])([ Halogen_HTML_Core.text("Thick") ]) ]);
})();

// | Set initial stroke data
var strokeData = function (d) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            strokeData: new Data_Maybe.Just(d)
        };
    };
};

// | Read-only signature display
// |
// | For displaying existing signatures
var signatureDisplay = function (data_) {
    return function (customClass) {
        var sizeStyle = "width: " + (show(data_.width) + ("px; " + ("height: " + (show(data_.height) + "px"))));
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "signature-display inline-block rounded-lg border border-input bg-background", customClass ]), Halogen_HTML_Properties.attr("style")(sizeStyle), Halogen_HTML_Properties_ARIA.label("Signature"), Halogen_HTML_Properties_ARIA.role("img") ])([ Halogen_HTML_Elements.element("canvas")([ Hydrogen_UI_Core.cls([ "w-full h-full" ]), Halogen_HTML_Properties.attr("width")(show(data_.width)), Halogen_HTML_Properties.attr("height")(show(data_.height)) ])([  ]) ]);
    };
};

// | Show undo button
var showUndo = function (s) {
    return function (props) {
        return {
            showColorPicker: props.showColorPicker,
            showThicknessSlider: props.showThicknessSlider,
            showEraser: props.showEraser,
            showClear: props.showClear,
            position: props.position,
            className: props.className,
            onColorChange: props.onColorChange,
            onThicknessChange: props.onThicknessChange,
            onEraserToggle: props.onEraserToggle,
            onClear: props.onClear,
            onUndo: props.onUndo,
            showUndo: s
        };
    };
};

// | Show thickness slider
var showThicknessSlider = function (s) {
    return function (props) {
        return {
            showColorPicker: props.showColorPicker,
            showEraser: props.showEraser,
            showClear: props.showClear,
            showUndo: props.showUndo,
            position: props.position,
            className: props.className,
            onColorChange: props.onColorChange,
            onThicknessChange: props.onThicknessChange,
            onEraserToggle: props.onEraserToggle,
            onClear: props.onClear,
            onUndo: props.onUndo,
            showThicknessSlider: s
        };
    };
};

// | Show guide line
var showGuide = function (g) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            showGuide: g
        };
    };
};

// | Show eraser toggle
var showEraser = function (s) {
    return function (props) {
        return {
            showColorPicker: props.showColorPicker,
            showThicknessSlider: props.showThicknessSlider,
            showClear: props.showClear,
            showUndo: props.showUndo,
            position: props.position,
            className: props.className,
            onColorChange: props.onColorChange,
            onThicknessChange: props.onThicknessChange,
            onEraserToggle: props.onEraserToggle,
            onClear: props.onClear,
            onUndo: props.onUndo,
            showEraser: s
        };
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                     // prop builders - toolbar
// ═══════════════════════════════════════════════════════════════════════════════
// | Show color picker
var showColorPicker = function (s) {
    return function (props) {
        return {
            showThicknessSlider: props.showThicknessSlider,
            showEraser: props.showEraser,
            showClear: props.showClear,
            showUndo: props.showUndo,
            position: props.position,
            className: props.className,
            onColorChange: props.onColorChange,
            onThicknessChange: props.onThicknessChange,
            onEraserToggle: props.onEraserToggle,
            onClear: props.onClear,
            onUndo: props.onUndo,
            showColorPicker: s
        };
    };
};

// | Show clear button
var showClear = function (s) {
    return function (props) {
        return {
            showColorPicker: props.showColorPicker,
            showThicknessSlider: props.showThicknessSlider,
            showEraser: props.showEraser,
            showUndo: props.showUndo,
            position: props.position,
            className: props.className,
            onColorChange: props.onColorChange,
            onThicknessChange: props.onThicknessChange,
            onEraserToggle: props.onEraserToggle,
            onClear: props.onClear,
            onUndo: props.onUndo,
            showClear: s
        };
    };
};

// | Set read-only mode
var readOnly = function (r) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            readOnly: r
        };
    };
};

// | Set pen thickness
var penThickness = function (t) {
    return function (props) {
        return {
            penColor: props.penColor,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            penThickness: t
        };
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                   // prop builders - signature
// ═══════════════════════════════════════════════════════════════════════════════
// | Set pen color
var penColor = function (c) {
    return function (props) {
        return {
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            penColor: c
        };
    };
};

// | Set undo handler
var onUndo = function (handler) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            className: props.className,
            onUndo: new Data_Maybe.Just(handler)
        };
    };
};

// | Set clear handler
var onClear = function (handler) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onUndo: props.onUndo,
            className: props.className,
            onClear: new Data_Maybe.Just(handler)
        };
    };
};

// | Set change handler
var onChange = function (handler) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            onChange: new Data_Maybe.Just(handler)
        };
    };
};

// | Check if empty
var isEmpty = function (v) {
    return pure(true);
};

// | Initialize signature pad
var initSignaturePad = function (el) {
    return function (opts) {
        return pure($foreign.unsafeSignatureElement);
    };
};

// | Import signature
var importSignature = function (v) {
    return function (v1) {
        return pure(Data_Unit.unit);
    };
};

// | Set canvas height
var height = function (h) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            height: h
        };
    };
};

// | Set guide line style
var guideStyle = function (s) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            guideStyle: s
        };
    };
};

// | Export signature
var exportSignature = function (v) {
    return function (v1) {
        return pure("");
    };
};

// | Enable eraser mode
var eraserMode = function (e) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            eraserMode: e
        };
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // icons
// ═══════════════════════════════════════════════════════════════════════════════
// | Eraser icon
var eraserIcon = /* #__PURE__ */ Halogen_HTML_Elements.element("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("xmlns")("http://www.w3.org/2000/svg"), /* #__PURE__ */ Halogen_HTML_Properties.attr("width")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("height")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linecap")("round"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linejoin")("round") ])([ /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M20 20H9.2l-6.1-6.1a1.5 1.5 0 0 1 0-2.1L15 3.3a1.5 1.5 0 0 1 2.1 0l6.1 6.1a1.5 1.5 0 0 1 0 2.1L17 17.7") ])([  ]), /* #__PURE__ */ Halogen_HTML_Elements.element("path")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("d")("M12 12l3-3") ])([  ]) ]);

// | Eraser button
var eraserButton = /* #__PURE__ */ (function () {
    return Halogen_HTML_Elements.button([ Hydrogen_UI_Core.cls([ "signature-eraser p-2 rounded-md hover:bg-accent transition-colors", "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring" ]), type_(DOM_HTML_Indexed_ButtonType.ButtonButton.value), Halogen_HTML_Properties_ARIA.label("Toggle eraser") ])([ eraserIcon ]);
})();
var eqToolbarPosition = {
    eq: function (x) {
        return function (y) {
            if (x instanceof Top && y instanceof Top) {
                return true;
            };
            if (x instanceof Bottom && y instanceof Bottom) {
                return true;
            };
            return false;
        };
    }
};
var eqGuideStyle = {
    eq: function (x) {
        return function (y) {
            if (x instanceof Dotted && y instanceof Dotted) {
                return true;
            };
            if (x instanceof Dashed && y instanceof Dashed) {
                return true;
            };
            if (x instanceof Solid && y instanceof Solid) {
                return true;
            };
            if (x instanceof Hidden && y instanceof Hidden) {
                return true;
            };
            return false;
        };
    }
};
var eqExportFormat = {
    eq: function (x) {
        return function (y) {
            if (x instanceof PNG && y instanceof PNG) {
                return true;
            };
            if (x instanceof SVG && y instanceof SVG) {
                return true;
            };
            if (x instanceof $$JSON && y instanceof $$JSON) {
                return true;
            };
            return false;
        };
    }
};

// | Destroy signature pad
var destroySignaturePad = function (v) {
    return pure(Data_Unit.unit);
};

// | Default toolbar properties
var defaultToolbarProps = /* #__PURE__ */ (function () {
    return {
        showColorPicker: true,
        showThicknessSlider: true,
        showEraser: true,
        showClear: true,
        showUndo: true,
        position: Bottom.value,
        className: "",
        onColorChange: Data_Maybe.Nothing.value,
        onThicknessChange: Data_Maybe.Nothing.value,
        onEraserToggle: Data_Maybe.Nothing.value,
        onClear: Data_Maybe.Nothing.value,
        onUndo: Data_Maybe.Nothing.value
    };
})();

// | Default signature pad properties
var defaultProps = /* #__PURE__ */ (function () {
    return {
        penColor: "#000000",
        penThickness: 2.0,
        eraserMode: false,
        showGuide: true,
        guideStyle: Dotted.value,
        readOnly: false,
        strokeData: Data_Maybe.Nothing.value,
        backgroundColor: "#ffffff",
        width: 400,
        height: 200,
        onChange: Data_Maybe.Nothing.value,
        onClear: Data_Maybe.Nothing.value,
        onUndo: Data_Maybe.Nothing.value,
        className: ""
    };
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                  // components
// ═══════════════════════════════════════════════════════════════════════════════
// | Signature pad component
// |
// | Canvas-based signature capture
var signaturePad = function (propMods) {
    var props = Data_Array.foldl(function (p) {
        return function (f) {
            return f(p);
        };
    })(defaultProps)(propMods);
    var sizeStyle = "width: " + (show(props.width) + ("px; " + ("height: " + (show(props.height) + ("px; " + ("background-color: " + props.backgroundColor))))));
    var guideClasses = (function () {
        if (props.guideStyle instanceof Dotted) {
            return "border-t-2 border-dotted border-muted-foreground/30";
        };
        if (props.guideStyle instanceof Dashed) {
            return "border-t-2 border-dashed border-muted-foreground/30";
        };
        if (props.guideStyle instanceof Solid) {
            return "border-t border-muted-foreground/30";
        };
        if (props.guideStyle instanceof Hidden) {
            return "hidden";
        };
        throw new Error("Failed pattern match at Hydrogen.Component.Signature (line 434, column 20 - line 438, column 25): " + [ props.guideStyle.constructor.name ]);
    })();
    var cursorClass = (function () {
        if (props.readOnly) {
            return "cursor-default";
        };
        if (props.eraserMode) {
            return "cursor-cell";
        };
        return "cursor-crosshair";
    })();
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "signature-pad relative inline-block rounded-lg border border-input overflow-hidden", cursorClass, props.className ]), Halogen_HTML_Properties.attr("style")(sizeStyle), Halogen_HTML_Properties.attr("data-pen-color")(props.penColor), Halogen_HTML_Properties.attr("data-pen-thickness")(show1(props.penThickness)), Halogen_HTML_Properties.attr("data-eraser")((function () {
        if (props.eraserMode) {
            return "true";
        };
        return "false";
    })()), Halogen_HTML_Properties.attr("data-readonly")((function () {
        if (props.readOnly) {
            return "true";
        };
        return "false";
    })()), Halogen_HTML_Properties_ARIA.label("Signature pad"), Halogen_HTML_Properties_ARIA.role("img") ])([ Halogen_HTML_Elements.element("canvas")([ Hydrogen_UI_Core.cls([ "signature-canvas w-full h-full touch-none" ]), Halogen_HTML_Properties.attr("width")(show(props.width)), Halogen_HTML_Properties.attr("height")(show(props.height)) ])([  ]), (function () {
        if (props.showGuide) {
            return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "signature-guide absolute bottom-1/4 left-4 right-4", guideClasses ]) ])([  ]);
        };
        return Halogen_HTML_Core.text("");
    })(), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "signature-hint absolute bottom-2 left-4 text-xs text-muted-foreground pointer-events-none select-none" ]) ])([ Halogen_HTML_Core.text((function () {
        if (props.readOnly) {
            return "";
        };
        return "Sign here";
    })()) ]) ]);
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                           // toolbar components
// ═══════════════════════════════════════════════════════════════════════════════
// | Color picker button
var colorPickerButton = /* #__PURE__ */ (function () {
    return Halogen_HTML_Elements.label([ Hydrogen_UI_Core.cls([ "signature-color-picker relative" ]) ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "w-8 h-8 rounded-md border border-input cursor-pointer", "bg-current ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2" ]) ])([  ]), Halogen_HTML_Elements.input([ type_1(DOM_HTML_Indexed_InputType.InputColor.value), Hydrogen_UI_Core.cls([ "sr-only" ]), Halogen_HTML_Properties_ARIA.label("Pen color") ]) ]);
})();

// | Clear signature
var clearSignature = function (v) {
    return pure(Data_Unit.unit);
};

// | Clear button
var clearButton = function (handler) {
    return Halogen_HTML_Elements.button(append([ Hydrogen_UI_Core.cls([ "signature-clear p-2 rounded-md hover:bg-destructive/10 text-destructive transition-colors", "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring" ]), type_(DOM_HTML_Indexed_ButtonType.ButtonButton.value), Halogen_HTML_Properties_ARIA.label("Clear signature") ])((function () {
        if (handler instanceof Data_Maybe.Just) {
            return [ Halogen_HTML_Events.onClick(handler.value0) ];
        };
        if (handler instanceof Data_Maybe.Nothing) {
            return [  ];
        };
        throw new Error("Failed pattern match at Hydrogen.Component.Signature (line 627, column 12 - line 629, column 26): " + [ handler.constructor.name ]);
    })()))([ trashIcon ]);
};

// | Signature toolbar component
// |
// | Controls for color, thickness, eraser, clear, and undo
var signatureToolbar = function (propMods) {
    var props = Data_Array.foldl(function (p) {
        return function (f) {
            return f(p);
        };
    })(defaultToolbarProps)(propMods);
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "signature-toolbar flex items-center gap-2 p-2 bg-muted rounded-lg", props.className ]) ])([ (function () {
        if (props.showColorPicker) {
            return colorPickerButton;
        };
        return Halogen_HTML_Core.text("");
    })(), (function () {
        if (props.showThicknessSlider) {
            return thicknessControl;
        };
        return Halogen_HTML_Core.text("");
    })(), Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex-1" ]) ])([  ]), (function () {
        if (props.showEraser) {
            return eraserButton;
        };
        return Halogen_HTML_Core.text("");
    })(), (function () {
        if (props.showUndo) {
            return undoButton(props.onUndo);
        };
        return Halogen_HTML_Core.text("");
    })(), (function () {
        if (props.showClear) {
            return clearButton(props.onClear);
        };
        return Halogen_HTML_Core.text("");
    })() ]);
};

// | Signature pad with integrated toolbar
// |
// | Combines signature pad with toolbar controls
var signaturePadWithToolbar = function (sigMods) {
    return function (toolbarMods) {
        var toolbarProps = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultToolbarProps)(toolbarMods);
        var content = (function () {
            if (toolbarProps.position instanceof Top) {
                return [ signatureToolbar(toolbarMods), signaturePad(sigMods) ];
            };
            if (toolbarProps.position instanceof Bottom) {
                return [ signaturePad(sigMods), signatureToolbar(toolbarMods) ];
            };
            throw new Error("Failed pattern match at Hydrogen.Component.Signature (line 482, column 15 - line 484, column 71): " + [ toolbarProps.position.constructor.name ]);
        })();
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "signature-pad-container flex flex-col gap-2" ]) ])(content);
    };
};

// | Add custom class
var className = function (c) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            backgroundColor: props.backgroundColor,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className + (" " + c)
        };
    };
};

// | Set background color
var backgroundColor = function (c) {
    return function (props) {
        return {
            penColor: props.penColor,
            penThickness: props.penThickness,
            eraserMode: props.eraserMode,
            showGuide: props.showGuide,
            guideStyle: props.guideStyle,
            readOnly: props.readOnly,
            strokeData: props.strokeData,
            width: props.width,
            height: props.height,
            onChange: props.onChange,
            onClear: props.onClear,
            onUndo: props.onUndo,
            className: props.className,
            backgroundColor: c
        };
    };
};
export {
    signaturePad,
    signaturePadWithToolbar,
    signatureToolbar,
    signatureDisplay,
    defaultProps,
    defaultToolbarProps,
    penColor,
    penThickness,
    eraserMode,
    showGuide,
    guideStyle,
    readOnly,
    strokeData,
    backgroundColor,
    width,
    height,
    onChange,
    onClear,
    onUndo,
    className,
    showColorPicker,
    showThicknessSlider,
    showEraser,
    showClear,
    showUndo,
    toolbarPosition,
    toolbarClassName,
    Dotted,
    Dashed,
    Solid,
    Hidden,
    Top,
    Bottom,
    PNG,
    SVG,
    $$JSON as JSON,
    initSignaturePad,
    destroySignaturePad,
    clearSignature,
    undoStroke,
    exportSignature,
    importSignature,
    isEmpty,
    eqGuideStyle,
    eqToolbarPosition,
    eqExportFormat
};
