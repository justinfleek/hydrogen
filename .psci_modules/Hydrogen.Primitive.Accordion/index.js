// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
//                                                      // hydrogen // accordion
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// | Accordion component
// |
// | Collapsible content sections.
// |
// | ## Usage
// |
// | ```purescript
// | import Hydrogen.Primitive.Accordion as Accordion
// |
// | Accordion.accordion []
// |   [ Accordion.accordionItem [ Accordion.value "item-1" ]
// |       [ Accordion.accordionTrigger [ Accordion.open true ]
// |           [ HH.text "Is it accessible?" ]
// |       , Accordion.accordionContent [ Accordion.open true ]
// |           [ HH.text "Yes. It adheres to WAI-ARIA patterns." ]
// |       ]
// |   ]
// | ```
import * as DOM_HTML_Indexed_ButtonType from "../DOM.HTML.Indexed.ButtonType/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Semigroup from "../Data.Semigroup/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Events from "../Halogen.HTML.Events/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Halogen_HTML_Properties_ARIA from "../Halogen.HTML.Properties.ARIA/index.js";
import * as Hydrogen_UI_Core from "../Hydrogen.UI.Core/index.js";
var append1 = /* #__PURE__ */ Data_Semigroup.append(Data_Semigroup.semigroupArray);
var type_ = /* #__PURE__ */ Halogen_HTML_Properties.type_(Halogen_HTML_Core.isPropButtonType);

// | Set item value
var value = function (v) {
    return function (props) {
        return {
            open: props.open,
            onToggle: props.onToggle,
            className: props.className,
            value: v
        };
    };
};

// | Set open state
var open = function (o) {
    return function (props) {
        return {
            value: props.value,
            onToggle: props.onToggle,
            className: props.className,
            open: o
        };
    };
};

// | Set toggle handler
var onToggle = function (handler) {
    return function (props) {
        return {
            value: props.value,
            open: props.open,
            className: props.className,
            onToggle: new Data_Maybe.Just(handler)
        };
    };
};
var defaultProps = /* #__PURE__ */ (function () {
    return {
        value: "",
        open: false,
        onToggle: Data_Maybe.Nothing.value,
        className: ""
    };
})();

// | Add custom class
var className = function (c) {
    return function (props) {
        return {
            value: props.value,
            open: props.open,
            onToggle: props.onToggle,
            className: props.className + (" " + c)
        };
    };
};

// | Chevron down icon for accordion
var chevronDown = function (extraClasses) {
    return Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ Hydrogen_UI_Core.cls([ "h-4 w-4 shrink-0 transition-transform duration-200", extraClasses ]), Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), Halogen_HTML_Properties.attr("fill")("none"), Halogen_HTML_Properties.attr("stroke")("currentColor"), Halogen_HTML_Properties.attr("stroke-width")("2") ])([ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("polyline")([ Halogen_HTML_Properties.attr("points")("6 9 12 15 18 9") ])([  ]) ]);
};

// | Accordion trigger button
var accordionTrigger = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        var iconRotation = (function () {
            if (props.open) {
                return "rotate-180";
            };
            return "";
        })();
        return Halogen_HTML_Elements.h3([ Hydrogen_UI_Core.cls([ "flex" ]) ])([ Halogen_HTML_Elements.button(append1([ Hydrogen_UI_Core.cls([ "flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180", props.className ]), type_(DOM_HTML_Indexed_ButtonType.ButtonButton.value), Halogen_HTML_Properties_ARIA.expanded((function () {
            if (props.open) {
                return "true";
            };
            return "false";
        })()), Halogen_HTML_Properties.attr("data-state")((function () {
            if (props.open) {
                return "open";
            };
            return "closed";
        })()) ])((function () {
            if (props.onToggle instanceof Data_Maybe.Just) {
                return [ Halogen_HTML_Events.onClick(props.onToggle.value0) ];
            };
            if (props.onToggle instanceof Data_Maybe.Nothing) {
                return [  ];
            };
            throw new Error("Failed pattern match at Hydrogen.Primitive.Accordion (line 121, column 18 - line 123, column 28): " + [ props.onToggle.constructor.name ]);
        })()))(append1(children)([ chevronDown(iconRotation) ])) ]);
    };
};

// | Accordion item
var accordionItem = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "border-b", props.className ]), Halogen_HTML_Properties.attr("data-value")(props.value) ])(children);
    };
};

// | Accordion content
var accordionContent = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        var visibilityClasses = (function () {
            if (props.open) {
                return "animate-accordion-down";
            };
            return "hidden";
        })();
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "overflow-hidden text-sm transition-all", visibilityClasses, props.className ]), Halogen_HTML_Properties.attr("data-state")((function () {
            if (props.open) {
                return "open";
            };
            return "closed";
        })()) ])([ Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "pb-4 pt-0" ]) ])(children) ]);
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                  // components
// ═══════════════════════════════════════════════════════════════════════════════
// | Accordion container
var accordion = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ props.className ]) ])(children);
    };
};
export {
    accordion,
    accordionItem,
    accordionTrigger,
    accordionContent,
    value,
    open,
    onToggle,
    className
};
