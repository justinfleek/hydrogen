// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
//                                                         // hydrogen // drawer
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// | Drawer component
// |
// | Slide-out panels that appear from screen edges with overlay backdrop.
// | Useful for navigation menus, settings panels, forms, and mobile layouts.
// |
// | ## Features
// |
// | - **Slide direction**: Left, right, top, or bottom edge
// | - **Overlay backdrop**: Semi-transparent backdrop with click-to-close
// | - **Sizes**: sm, md, lg, full width/height
// | - **Close behaviors**: Backdrop click, escape key
// | - **Focus trap**: Keep focus within drawer when open
// | - **Scroll lock**: Prevent body scroll when drawer is open
// | - **Smooth animations**: CSS-based slide and fade transitions
// | - **Slots**: Header, body, and footer sections
// |
// | ## Usage
// |
// | ```purescript
// | import Hydrogen.Primitive.Drawer as Drawer
// |
// | Drawer.drawer [ Drawer.open state.isOpen, Drawer.side Drawer.Right ]
// |   [ Drawer.drawerOverlay [ Drawer.onClose CloseDrawer ]
// |   , Drawer.drawerContent [ Drawer.size Drawer.Medium ]
// |       [ Drawer.drawerHeader []
// |           [ Drawer.drawerTitle [] [ HH.text "Settings" ]
// |           , Drawer.drawerDescription [] [ HH.text "Configure app" ]
// |           , Drawer.drawerClose [ Drawer.onClose CloseDrawer ]
// |           ]
// |       , Drawer.drawerBody []
// |           [ HH.text "Drawer content goes here" ]
// |       , Drawer.drawerFooter []
// |           [ Button.button [] [ HH.text "Save" ]
// |           , Button.button [] [ HH.text "Cancel" ]
// |           ]
// |       ]
// |   ]
// | ```
import * as DOM_HTML_Indexed_ButtonType from "../DOM.HTML.Indexed.ButtonType/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Semigroup from "../Data.Semigroup/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Events from "../Halogen.HTML.Events/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Halogen_HTML_Properties_ARIA from "../Halogen.HTML.Properties.ARIA/index.js";
import * as Hydrogen_UI_Core from "../Hydrogen.UI.Core/index.js";
var append1 = /* #__PURE__ */ Data_Semigroup.append(Data_Semigroup.semigroupArray);
var type_ = /* #__PURE__ */ Halogen_HTML_Properties.type_(Halogen_HTML_Core.isPropButtonType);

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                        // size
// ═══════════════════════════════════════════════════════════════════════════════
// | Drawer size options
var Small = /* #__PURE__ */ (function () {
    function Small() {

    };
    Small.value = new Small();
    return Small;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                        // size
// ═══════════════════════════════════════════════════════════════════════════════
// | Drawer size options
var Medium = /* #__PURE__ */ (function () {
    function Medium() {

    };
    Medium.value = new Medium();
    return Medium;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                        // size
// ═══════════════════════════════════════════════════════════════════════════════
// | Drawer size options
var Large = /* #__PURE__ */ (function () {
    function Large() {

    };
    Large.value = new Large();
    return Large;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                        // size
// ═══════════════════════════════════════════════════════════════════════════════
// | Drawer size options
var Full = /* #__PURE__ */ (function () {
    function Full() {

    };
    Full.value = new Full();
    return Full;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                        // side
// ═══════════════════════════════════════════════════════════════════════════════
// | Side from which the drawer slides in
var Left = /* #__PURE__ */ (function () {
    function Left() {

    };
    Left.value = new Left();
    return Left;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                        // side
// ═══════════════════════════════════════════════════════════════════════════════
// | Side from which the drawer slides in
var Right = /* #__PURE__ */ (function () {
    function Right() {

    };
    Right.value = new Right();
    return Right;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                        // side
// ═══════════════════════════════════════════════════════════════════════════════
// | Side from which the drawer slides in
var Top = /* #__PURE__ */ (function () {
    function Top() {

    };
    Top.value = new Top();
    return Top;
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                        // side
// ═══════════════════════════════════════════════════════════════════════════════
// | Side from which the drawer slides in
var Bottom = /* #__PURE__ */ (function () {
    function Bottom() {

    };
    Bottom.value = new Bottom();
    return Bottom;
})();

// | Trap focus within drawer when open
var trapFocus = function (enabled) {
    return function (props) {
        return {
            open: props.open,
            onClose: props.onClose,
            side: props.side,
            size: props.size,
            closeOnEscape: props.closeOnEscape,
            closeOnBackdropClick: props.closeOnBackdropClick,
            scrollLock: props.scrollLock,
            className: props.className,
            trapFocus: enabled
        };
    };
};

// | Data attribute value for size
var sizeToString = function (v) {
    if (v instanceof Small) {
        return "sm";
    };
    if (v instanceof Medium) {
        return "md";
    };
    if (v instanceof Large) {
        return "lg";
    };
    if (v instanceof Full) {
        return "full";
    };
    throw new Error("Failed pattern match at Hydrogen.Primitive.Drawer (line 160, column 16 - line 164, column 19): " + [ v.constructor.name ]);
};

// | Size classes for vertical drawers (top/bottom)
var sizeClassesVertical = function (v) {
    if (v instanceof Small) {
        return "h-40 max-h-[25%]";
    };
    if (v instanceof Medium) {
        return "h-64 max-h-[50%]";
    };
    if (v instanceof Large) {
        return "h-96 max-h-[75%]";
    };
    if (v instanceof Full) {
        return "h-full";
    };
    throw new Error("Failed pattern match at Hydrogen.Primitive.Drawer (line 144, column 23 - line 148, column 21): " + [ v.constructor.name ]);
};

// | Size classes for horizontal drawers (left/right)
var sizeClassesHorizontal = function (v) {
    if (v instanceof Small) {
        return "w-80 max-w-[25%]";
    };
    if (v instanceof Medium) {
        return "w-[480px] max-w-[50%]";
    };
    if (v instanceof Large) {
        return "w-[640px] max-w-[75%]";
    };
    if (v instanceof Full) {
        return "w-full";
    };
    throw new Error("Failed pattern match at Hydrogen.Primitive.Drawer (line 136, column 25 - line 140, column 21): " + [ v.constructor.name ]);
};

// | Get size classes based on drawer side
var sizeClasses = function (sd) {
    return function (sz) {
        if (sd instanceof Left) {
            return "h-full " + sizeClassesHorizontal(sz);
        };
        if (sd instanceof Right) {
            return "h-full " + sizeClassesHorizontal(sz);
        };
        if (sd instanceof Top) {
            return "w-full " + sizeClassesVertical(sz);
        };
        if (sd instanceof Bottom) {
            return "w-full " + sizeClassesVertical(sz);
        };
        throw new Error("Failed pattern match at Hydrogen.Primitive.Drawer (line 152, column 21 - line 156, column 48): " + [ sd.constructor.name ]);
    };
};

// | Set drawer size
var size = function (sz) {
    return function (props) {
        return {
            open: props.open,
            onClose: props.onClose,
            side: props.side,
            closeOnEscape: props.closeOnEscape,
            closeOnBackdropClick: props.closeOnBackdropClick,
            trapFocus: props.trapFocus,
            scrollLock: props.scrollLock,
            className: props.className,
            size: sz
        };
    };
};

// | Data attribute value for side
var sideToString = function (v) {
    if (v instanceof Left) {
        return "left";
    };
    if (v instanceof Right) {
        return "right";
    };
    if (v instanceof Top) {
        return "top";
    };
    if (v instanceof Bottom) {
        return "bottom";
    };
    throw new Error("Failed pattern match at Hydrogen.Primitive.Drawer (line 115, column 16 - line 119, column 21): " + [ v.constructor.name ]);
};

// | CSS classes for positioning and animation based on side
var sidePositionClasses = function (v) {
    if (v instanceof Left) {
        return "inset-y-0 left-0";
    };
    if (v instanceof Right) {
        return "inset-y-0 right-0";
    };
    if (v instanceof Top) {
        return "inset-x-0 top-0";
    };
    if (v instanceof Bottom) {
        return "inset-x-0 bottom-0";
    };
    throw new Error("Failed pattern match at Hydrogen.Primitive.Drawer (line 99, column 23 - line 103, column 33): " + [ v.constructor.name ]);
};

// | Animation classes for slide-in effect
var sideAnimationClasses = function (sd) {
    return function (isOpen) {
        if (sd instanceof Left) {
            if (isOpen) {
                return "translate-x-0";
            };
            return "-translate-x-full";
        };
        if (sd instanceof Right) {
            if (isOpen) {
                return "translate-x-0";
            };
            return "translate-x-full";
        };
        if (sd instanceof Top) {
            if (isOpen) {
                return "translate-y-0";
            };
            return "-translate-y-full";
        };
        if (sd instanceof Bottom) {
            if (isOpen) {
                return "translate-y-0";
            };
            return "translate-y-full";
        };
        throw new Error("Failed pattern match at Hydrogen.Primitive.Drawer (line 107, column 34 - line 111, column 67): " + [ sd.constructor.name ]);
    };
};

// | Set drawer side (where it slides from)
var side = function (s) {
    return function (props) {
        return {
            open: props.open,
            onClose: props.onClose,
            size: props.size,
            closeOnEscape: props.closeOnEscape,
            closeOnBackdropClick: props.closeOnBackdropClick,
            trapFocus: props.trapFocus,
            scrollLock: props.scrollLock,
            className: props.className,
            side: s
        };
    };
};

// | Lock body scroll when drawer is open
var scrollLock = function (enabled) {
    return function (props) {
        return {
            open: props.open,
            onClose: props.onClose,
            side: props.side,
            size: props.size,
            closeOnEscape: props.closeOnEscape,
            closeOnBackdropClick: props.closeOnBackdropClick,
            trapFocus: props.trapFocus,
            className: props.className,
            scrollLock: enabled
        };
    };
};

// | Set open state
var open = function (o) {
    return function (props) {
        return {
            onClose: props.onClose,
            side: props.side,
            size: props.size,
            closeOnEscape: props.closeOnEscape,
            closeOnBackdropClick: props.closeOnBackdropClick,
            trapFocus: props.trapFocus,
            scrollLock: props.scrollLock,
            className: props.className,
            open: o
        };
    };
};

// | Set close handler
var onClose = function (handler) {
    return function (props) {
        return {
            open: props.open,
            side: props.side,
            size: props.size,
            closeOnEscape: props.closeOnEscape,
            closeOnBackdropClick: props.closeOnBackdropClick,
            trapFocus: props.trapFocus,
            scrollLock: props.scrollLock,
            className: props.className,
            onClose: new Data_Maybe.Just(handler)
        };
    };
};
var eqSize = {
    eq: function (x) {
        return function (y) {
            if (x instanceof Small && y instanceof Small) {
                return true;
            };
            if (x instanceof Medium && y instanceof Medium) {
                return true;
            };
            if (x instanceof Large && y instanceof Large) {
                return true;
            };
            if (x instanceof Full && y instanceof Full) {
                return true;
            };
            return false;
        };
    }
};
var eqSide = {
    eq: function (x) {
        return function (y) {
            if (x instanceof Left && y instanceof Left) {
                return true;
            };
            if (x instanceof Right && y instanceof Right) {
                return true;
            };
            if (x instanceof Top && y instanceof Top) {
                return true;
            };
            if (x instanceof Bottom && y instanceof Bottom) {
                return true;
            };
            return false;
        };
    }
};
var defaultProps = /* #__PURE__ */ (function () {
    return {
        open: false,
        onClose: Data_Maybe.Nothing.value,
        side: Right.value,
        size: Medium.value,
        closeOnEscape: true,
        closeOnBackdropClick: true,
        trapFocus: true,
        scrollLock: true,
        className: ""
    };
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                  // components
// ═══════════════════════════════════════════════════════════════════════════════
// | Drawer root container
// |
// | Creates a fixed overlay container for the drawer.
// | Hidden when closed, visible when open.
var drawer = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        var visibilityClass = (function () {
            if (props.open) {
                return "";
            };
            return "invisible";
        })();
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "fixed inset-0 z-50", visibilityClass, props.className ]), Halogen_HTML_Properties_ARIA.role("dialog"), Halogen_HTML_Properties_ARIA.modal("true"), Halogen_HTML_Properties.attr("data-state")((function () {
            if (props.open) {
                return "open";
            };
            return "closed";
        })()), Halogen_HTML_Properties.attr("data-drawer")("root"), Halogen_HTML_Properties.attr("data-side")(sideToString(props.side)), Halogen_HTML_Properties.attr("data-size")(sizeToString(props.size)), Halogen_HTML_Properties.attr("data-close-on-escape")((function () {
            if (props.closeOnEscape) {
                return "true";
            };
            return "false";
        })()), Halogen_HTML_Properties.attr("data-trap-focus")((function () {
            if (props.trapFocus) {
                return "true";
            };
            return "false";
        })()), Halogen_HTML_Properties.attr("data-scroll-lock")((function () {
            if (props.scrollLock) {
                return "true";
            };
            return "false";
        })()) ])(children);
    };
};

// | Drawer body (main content area)
// |
// | Scrollable content area between header and footer.
var drawerBody = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex-1 overflow-auto p-6", props.className ]), Halogen_HTML_Properties.attr("data-drawer")("body") ])(children);
    };
};

// | Drawer content panel
// |
// | The main drawer panel that slides in from the specified side.
// | Contains header, body, and footer slots.
var drawerContent = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        var animClass = sideAnimationClasses(props.side)(props.open);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "fixed z-50 flex flex-col bg-background shadow-lg transition-transform duration-300 ease-out", sidePositionClasses(props.side), sizeClasses(props.side)(props.size), animClass, props.className ]), Halogen_HTML_Properties.attr("data-drawer")("content"), Halogen_HTML_Properties.attr("data-state")((function () {
            if (props.open) {
                return "open";
            };
            return "closed";
        })()) ])(children);
    };
};

// | Drawer description
var drawerDescription = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.p([ Hydrogen_UI_Core.cls([ "text-sm text-muted-foreground", props.className ]) ])(children);
    };
};

// | Drawer footer
// |
// | Fixed footer section for actions like save/cancel buttons.
var drawerFooter = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex flex-col-reverse sm:flex-row sm:justify-end gap-2 p-6 border-t", props.className ]), Halogen_HTML_Properties.attr("data-drawer")("footer") ])(children);
    };
};

// | Drawer header
// |
// | Container for title, description, and close button.
var drawerHeader = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex flex-col space-y-2 p-6 border-b", props.className ]), Halogen_HTML_Properties.attr("data-drawer")("header") ])(children);
    };
};

// | Drawer overlay (backdrop)
// |
// | Semi-transparent backdrop behind the drawer.
// | Clicking the overlay closes the drawer (if enabled).
var drawerOverlay = function (propMods) {
    var props = Data_Array.foldl(function (p) {
        return function (f) {
            return f(p);
        };
    })(defaultProps)(propMods);
    var visibilityClass = (function () {
        if (props.open) {
            return "opacity-100";
        };
        return "opacity-0 pointer-events-none";
    })();
    return Halogen_HTML_Elements.div(append1([ Hydrogen_UI_Core.cls([ "fixed inset-0 z-50 bg-black/80 transition-opacity duration-300", visibilityClass, props.className ]), Halogen_HTML_Properties.attr("data-drawer")("overlay") ])((function () {
        if (props.onClose instanceof Data_Maybe.Just && props.closeOnBackdropClick) {
            return [ Halogen_HTML_Events.onClick(props.onClose.value0) ];
        };
        return [  ];
    })()))([  ]);
};

// | Drawer title
var drawerTitle = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.h2([ Hydrogen_UI_Core.cls([ "text-lg font-semibold leading-none tracking-tight", props.className ]) ])(children);
    };
};

// | Close drawer when Escape key is pressed
var closeOnEscape = function (enabled) {
    return function (props) {
        return {
            open: props.open,
            onClose: props.onClose,
            side: props.side,
            size: props.size,
            closeOnBackdropClick: props.closeOnBackdropClick,
            trapFocus: props.trapFocus,
            scrollLock: props.scrollLock,
            className: props.className,
            closeOnEscape: enabled
        };
    };
};

// | Close drawer when clicking backdrop
var closeOnBackdropClick = function (enabled) {
    return function (props) {
        return {
            open: props.open,
            onClose: props.onClose,
            side: props.side,
            size: props.size,
            closeOnEscape: props.closeOnEscape,
            trapFocus: props.trapFocus,
            scrollLock: props.scrollLock,
            className: props.className,
            closeOnBackdropClick: enabled
        };
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                     // helpers
// ═══════════════════════════════════════════════════════════════════════════════
// | Default close icon (X)
var closeIcon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("h-4 w-4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linecap")("round"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linejoin")("round") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("line")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("x1")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("y1")("6"), /* #__PURE__ */ Halogen_HTML_Properties.attr("x2")("6"), /* #__PURE__ */ Halogen_HTML_Properties.attr("y2")("18") ])([  ]), /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("line")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("x1")("6"), /* #__PURE__ */ Halogen_HTML_Properties.attr("y1")("6"), /* #__PURE__ */ Halogen_HTML_Properties.attr("x2")("18"), /* #__PURE__ */ Halogen_HTML_Properties.attr("y2")("18") ])([  ]) ]);

// | Drawer close button
// |
// | Positioned close button (typically in header).
// | Shows an X icon by default.
var drawerClose = function (propMods) {
    var props = Data_Array.foldl(function (p) {
        return function (f) {
            return f(p);
        };
    })(defaultProps)(propMods);
    return Halogen_HTML_Elements.button(append1([ Hydrogen_UI_Core.cls([ "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background", "transition-opacity hover:opacity-100 focus:outline-none focus:ring-2", "focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none", props.className ]), type_(DOM_HTML_Indexed_ButtonType.ButtonButton.value), Halogen_HTML_Properties.attr("data-drawer")("close") ])((function () {
        if (props.onClose instanceof Data_Maybe.Just) {
            return [ Halogen_HTML_Events.onClick(props.onClose.value0) ];
        };
        if (props.onClose instanceof Data_Maybe.Nothing) {
            return [  ];
        };
        throw new Error("Failed pattern match at Hydrogen.Primitive.Drawer (line 377, column 12 - line 379, column 22): " + [ props.onClose.constructor.name ]);
    })()))([ closeIcon ]);
};

// | Add custom class
var className = function (c) {
    return function (props) {
        return {
            open: props.open,
            onClose: props.onClose,
            side: props.side,
            size: props.size,
            closeOnEscape: props.closeOnEscape,
            closeOnBackdropClick: props.closeOnBackdropClick,
            trapFocus: props.trapFocus,
            scrollLock: props.scrollLock,
            className: props.className + (" " + c)
        };
    };
};
export {
    drawer,
    drawerOverlay,
    drawerContent,
    drawerHeader,
    drawerTitle,
    drawerDescription,
    drawerBody,
    drawerFooter,
    drawerClose,
    open,
    onClose,
    className,
    Left,
    Right,
    Top,
    Bottom,
    side,
    Small,
    Medium,
    Large,
    Full,
    size,
    closeOnEscape,
    closeOnBackdropClick,
    trapFocus,
    scrollLock,
    eqSide,
    eqSize
};
