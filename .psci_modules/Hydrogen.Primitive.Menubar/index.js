// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
//                                                        // hydrogen // menubar
// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
// | Application Menu Bar component
// |
// | Horizontal menu bar with dropdown menus, following the ARIA menubar pattern.
// | Supports keyboard navigation with arrow keys between menu items and within
// | dropdown menus.
// |
// | ## Usage
// |
// | ```purescript
// | import Hydrogen.Primitive.Menubar as Menubar
// |
// | Menubar.menubar []
// |   [ Menubar.menubarMenu [ Menubar.open (state.activeMenu == "file") ]
// |       [ Menubar.menubarTrigger
// |           [ Menubar.onToggle (ToggleMenu "file") ]
// |           [ HH.text "File" ]
// |       , Menubar.menubarContent []
// |           [ Menubar.menubarItem
// |               [ Menubar.onSelect HandleNew
// |               , Menubar.shortcut "⌘N"
// |               ]
// |               [ HH.text "New" ]
// |           , Menubar.menubarItem
// |               [ Menubar.onSelect HandleOpen
// |               , Menubar.shortcut "⌘O"
// |               ]
// |               [ HH.text "Open" ]
// |           , Menubar.menubarSeparator []
// |           , Menubar.menubarItem [ Menubar.onSelect HandleQuit ]
// |               [ HH.text "Quit" ]
// |           ]
// |       ]
// |   , Menubar.menubarMenu [ Menubar.open (state.activeMenu == "edit") ]
// |       [ Menubar.menubarTrigger
// |           [ Menubar.onToggle (ToggleMenu "edit") ]
// |           [ HH.text "Edit" ]
// |       , Menubar.menubarContent []
// |           [ Menubar.menubarItem [ Menubar.shortcut "⌘Z" ]
// |               [ HH.text "Undo" ]
// |           , Menubar.menubarItem [ Menubar.shortcut "⌘Y" ]
// |               [ HH.text "Redo" ]
// |           ]
// |       ]
// |   ]
// | ```
// |
// | ## Keyboard Navigation
// |
// | - `←/→` - Navigate between menu bar items
// | - `↓` - Open dropdown menu
// | - `↑/↓` - Navigate within dropdown menu
// | - `Enter` - Select item / Open menu
// | - `Escape` - Close menu
// |
// | ## Checkbox and Radio Items
// |
// | ```purescript
// | Menubar.menubarCheckboxItem
// |   [ Menubar.checked state.wordWrap
// |   , Menubar.onCheckedChange ToggleWordWrap
// |   ]
// |   [ HH.text "Word Wrap" ]
// |
// | Menubar.menubarRadioGroup [ Menubar.value state.fontSize ]
// |   [ Menubar.menubarRadioItem [ Menubar.value "small" ]
// |       [ HH.text "Small" ]
// |   , Menubar.menubarRadioItem [ Menubar.value "medium" ]
// |       [ HH.text "Medium" ]
// |   , Menubar.menubarRadioItem [ Menubar.value "large" ]
// |       [ HH.text "Large" ]
// |   ]
// | ```
import * as DOM_HTML_Indexed_ButtonType from "../DOM.HTML.Indexed.ButtonType/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Semigroup from "../Data.Semigroup/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Events from "../Halogen.HTML.Events/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Halogen_HTML_Properties_ARIA from "../Halogen.HTML.Properties.ARIA/index.js";
import * as Hydrogen_UI_Core from "../Hydrogen.UI.Core/index.js";
var append = /* #__PURE__ */ Data_Semigroup.append(Data_Semigroup.semigroupArray);
var type_ = /* #__PURE__ */ Halogen_HTML_Properties.type_(Halogen_HTML_Core.isPropButtonType);

// | Set value
var value = function (v) {
    return function (props) {
        return {
            open: props.open,
            disabled: props.disabled,
            checked: props.checked,
            onToggle: props.onToggle,
            onSelect: props.onSelect,
            onCheckedChange: props.onCheckedChange,
            onValueChange: props.onValueChange,
            shortcut: props.shortcut,
            className: props.className,
            value: v
        };
    };
};

// | Set keyboard shortcut
var shortcut = function (s) {
    return function (props) {
        return {
            open: props.open,
            disabled: props.disabled,
            checked: props.checked,
            value: props.value,
            onToggle: props.onToggle,
            onSelect: props.onSelect,
            onCheckedChange: props.onCheckedChange,
            onValueChange: props.onValueChange,
            className: props.className,
            shortcut: s
        };
    };
};

// | Radio dot icon
var radioIcon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("h-2 w-2 fill-current"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("circle")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("cx")("12"), /* #__PURE__ */ Halogen_HTML_Properties.attr("cy")("12"), /* #__PURE__ */ Halogen_HTML_Properties.attr("r")("12") ])([  ]) ]);

// | Set open state
var open = function (o) {
    return function (props) {
        return {
            disabled: props.disabled,
            checked: props.checked,
            value: props.value,
            onToggle: props.onToggle,
            onSelect: props.onSelect,
            onCheckedChange: props.onCheckedChange,
            onValueChange: props.onValueChange,
            shortcut: props.shortcut,
            className: props.className,
            open: o
        };
    };
};

// | Set value change handler
var onValueChange = function (handler) {
    return function (props) {
        return {
            open: props.open,
            disabled: props.disabled,
            checked: props.checked,
            value: props.value,
            onToggle: props.onToggle,
            onSelect: props.onSelect,
            onCheckedChange: props.onCheckedChange,
            shortcut: props.shortcut,
            className: props.className,
            onValueChange: new Data_Maybe.Just(handler)
        };
    };
};

// | Set toggle handler
var onToggle = function (handler) {
    return function (props) {
        return {
            open: props.open,
            disabled: props.disabled,
            checked: props.checked,
            value: props.value,
            onSelect: props.onSelect,
            onCheckedChange: props.onCheckedChange,
            onValueChange: props.onValueChange,
            shortcut: props.shortcut,
            className: props.className,
            onToggle: new Data_Maybe.Just(handler)
        };
    };
};

// | Set select handler
var onSelect = function (handler) {
    return function (props) {
        return {
            open: props.open,
            disabled: props.disabled,
            checked: props.checked,
            value: props.value,
            onToggle: props.onToggle,
            onCheckedChange: props.onCheckedChange,
            onValueChange: props.onValueChange,
            shortcut: props.shortcut,
            className: props.className,
            onSelect: new Data_Maybe.Just(handler)
        };
    };
};

// | Set checked change handler
var onCheckedChange = function (handler) {
    return function (props) {
        return {
            open: props.open,
            disabled: props.disabled,
            checked: props.checked,
            value: props.value,
            onToggle: props.onToggle,
            onSelect: props.onSelect,
            onValueChange: props.onValueChange,
            shortcut: props.shortcut,
            className: props.className,
            onCheckedChange: new Data_Maybe.Just(handler)
        };
    };
};

// | Set disabled state
var disabled = function (d) {
    return function (props) {
        return {
            open: props.open,
            checked: props.checked,
            value: props.value,
            onToggle: props.onToggle,
            onSelect: props.onSelect,
            onCheckedChange: props.onCheckedChange,
            onValueChange: props.onValueChange,
            shortcut: props.shortcut,
            className: props.className,
            disabled: d
        };
    };
};
var defaultProps = /* #__PURE__ */ (function () {
    return {
        open: false,
        disabled: false,
        checked: false,
        value: "",
        onToggle: Data_Maybe.Nothing.value,
        onSelect: Data_Maybe.Nothing.value,
        onCheckedChange: Data_Maybe.Nothing.value,
        onValueChange: Data_Maybe.Nothing.value,
        shortcut: "",
        className: ""
    };
})();

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                  // components
// ═══════════════════════════════════════════════════════════════════════════════
// | Menubar root container
// |
// | The horizontal menu bar that contains menu triggers.
var menubar = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex h-10 items-center space-x-1 rounded-md border bg-background p-1", props.className ]), Halogen_HTML_Properties_ARIA.role("menubar") ])(children);
    };
};

// | Menubar dropdown content
// |
// | The dropdown panel that appears when a menu is opened.
var menubarContent = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        var visibilityClass = (function () {
            if (props.open) {
                return "";
            };
            return "hidden";
        })();
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "absolute left-0 top-full z-50 mt-1 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95", visibilityClass, props.className ]), Halogen_HTML_Properties_ARIA.role("menu"), Halogen_HTML_Properties.attr("data-state")((function () {
            if (props.open) {
                return "open";
            };
            return "closed";
        })()) ])(children);
    };
};

// | Menubar group
var menubarGroup = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ props.className ]), Halogen_HTML_Properties_ARIA.role("group") ])(children);
    };
};

// | Menubar label (non-interactive heading)
var menubarLabel = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "px-2 py-1.5 text-sm font-semibold", props.className ]) ])(children);
    };
};

// | Menubar menu container
// |
// | Wraps a trigger and its associated dropdown content.
var menubarMenu = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "relative", props.className ]) ])(children);
    };
};

// | Menubar radio group
var menubarRadioGroup = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ props.className ]), Halogen_HTML_Properties_ARIA.role("group"), Halogen_HTML_Properties.attr("data-value")(props.value) ])(children);
    };
};

// | Menubar radio item
var menubarRadioItem = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        var disabledClasses = (function () {
            if (props.disabled) {
                return "opacity-50 pointer-events-none";
            };
            return "cursor-pointer";
        })();
        return Halogen_HTML_Elements.div(append([ Hydrogen_UI_Core.cls([ "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground hover:bg-accent hover:text-accent-foreground", disabledClasses, props.className ]), Halogen_HTML_Properties_ARIA.role("menuitemradio"), Halogen_HTML_Properties_ARIA.checked((function () {
            if (props.checked) {
                return "true";
            };
            return "false";
        })()), Halogen_HTML_Properties.attr("data-state")((function () {
            if (props.checked) {
                return "checked";
            };
            return "unchecked";
        })()), Halogen_HTML_Properties.attr("data-value")(props.value) ])((function () {
            if (props.onValueChange instanceof Data_Maybe.Just && !props.disabled) {
                return [ Halogen_HTML_Events.onClick(function (v) {
                    return props.onValueChange.value0(props.value);
                }) ];
            };
            return [  ];
        })()))([ Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "absolute left-2 flex h-3.5 w-3.5 items-center justify-center" ]) ])([ (function () {
            if (props.checked) {
                return radioIcon;
            };
            return Halogen_HTML_Core.text("");
        })() ]), Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "flex-1" ]) ])(children) ]);
    };
};

// | Menubar separator
var menubarSeparator = function (propMods) {
    var props = Data_Array.foldl(function (p) {
        return function (f) {
            return f(p);
        };
    })(defaultProps)(propMods);
    return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "-mx-1 my-1 h-px bg-muted", props.className ]), Halogen_HTML_Properties_ARIA.role("separator") ])([  ]);
};

// | Keyboard shortcut display
var menubarShortcut = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "ml-auto text-xs tracking-widest text-muted-foreground", props.className ]) ])(children);
    };
};

// | Menubar item
var menubarItem = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        var disabledClasses = (function () {
            if (props.disabled) {
                return "opacity-50 pointer-events-none";
            };
            return "cursor-pointer";
        })();
        return Halogen_HTML_Elements.div(append([ Hydrogen_UI_Core.cls([ "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground hover:bg-accent hover:text-accent-foreground", disabledClasses, props.className ]), Halogen_HTML_Properties_ARIA.role("menuitem"), Halogen_HTML_Properties.attr("data-disabled")((function () {
            if (props.disabled) {
                return "true";
            };
            return "false";
        })()) ])((function () {
            if (props.onSelect instanceof Data_Maybe.Just && !props.disabled) {
                return [ Halogen_HTML_Events.onClick(props.onSelect.value0) ];
            };
            return [  ];
        })()))([ Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "flex-1" ]) ])(children), (function () {
            var $29 = props.shortcut !== "";
            if ($29) {
                return menubarShortcut([  ])([ Halogen_HTML_Core.text(props.shortcut) ]);
            };
            return Halogen_HTML_Core.text("");
        })() ]);
    };
};

// | Submenu container
var menubarSub = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "relative group/submenu", props.className ]) ])(children);
    };
};

// | Submenu content
var menubarSubContent = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "absolute left-full top-0 z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg invisible opacity-0 group-hover/submenu:visible group-hover/submenu:opacity-100 transition-all", props.className ]), Halogen_HTML_Properties_ARIA.role("menu") ])(children);
    };
};

// | Menubar trigger button
// |
// | The button in the menu bar that opens a dropdown.
var menubarTrigger = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        var activeClasses = (function () {
            if (props.open) {
                return "bg-accent text-accent-foreground";
            };
            return "";
        })();
        return Halogen_HTML_Elements.button(append([ Hydrogen_UI_Core.cls([ "flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground hover:bg-accent hover:text-accent-foreground", activeClasses, props.className ]), type_(DOM_HTML_Indexed_ButtonType.ButtonButton.value), Halogen_HTML_Properties_ARIA.role("menuitem"), Halogen_HTML_Properties_ARIA.hasPopup("menu"), Halogen_HTML_Properties_ARIA.expanded((function () {
            if (props.open) {
                return "true";
            };
            return "false";
        })()), Halogen_HTML_Properties.attr("data-state")((function () {
            if (props.open) {
                return "open";
            };
            return "closed";
        })()) ])((function () {
            if (props.onToggle instanceof Data_Maybe.Just) {
                return [ Halogen_HTML_Events.onClick(props.onToggle.value0) ];
            };
            if (props.onToggle instanceof Data_Maybe.Nothing) {
                return [  ];
            };
            throw new Error("Failed pattern match at Hydrogen.Primitive.Menubar (line 238, column 14 - line 240, column 24): " + [ props.onToggle.constructor.name ]);
        })()))(children);
    };
};

// | Add custom class
var className = function (c) {
    return function (props) {
        return {
            open: props.open,
            disabled: props.disabled,
            checked: props.checked,
            value: props.value,
            onToggle: props.onToggle,
            onSelect: props.onSelect,
            onCheckedChange: props.onCheckedChange,
            onValueChange: props.onValueChange,
            shortcut: props.shortcut,
            className: props.className + (" " + c)
        };
    };
};

// | Chevron right icon for submenus
var chevronRightIcon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("ml-auto h-4 w-4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linecap")("round"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linejoin")("round") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("polyline")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("points")("9 18 15 12 9 6") ])([  ]) ]);

// | Submenu trigger
var menubarSubTrigger = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        return Halogen_HTML_Elements.div([ Hydrogen_UI_Core.cls([ "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent focus:bg-accent", props.className ]), Halogen_HTML_Properties_ARIA.hasPopup("menu") ])([ Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "flex-1" ]) ])(children), chevronRightIcon ]);
    };
};

// | Set checked state
var checked = function (c) {
    return function (props) {
        return {
            open: props.open,
            disabled: props.disabled,
            value: props.value,
            onToggle: props.onToggle,
            onSelect: props.onSelect,
            onCheckedChange: props.onCheckedChange,
            onValueChange: props.onValueChange,
            shortcut: props.shortcut,
            className: props.className,
            checked: c
        };
    };
};

// ═══════════════════════════════════════════════════════════════════════════════
//                                                                       // icons
// ═══════════════════════════════════════════════════════════════════════════════
// | Check icon for checkbox items
var checkIcon = /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("class")("h-4 w-4"), /* #__PURE__ */ Halogen_HTML_Properties.attr("viewBox")("0 0 24 24"), /* #__PURE__ */ Halogen_HTML_Properties.attr("fill")("none"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke")("currentColor"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-width")("2"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linecap")("round"), /* #__PURE__ */ Halogen_HTML_Properties.attr("stroke-linejoin")("round") ])([ /* #__PURE__ */ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("polyline")([ /* #__PURE__ */ Halogen_HTML_Properties.attr("points")("20 6 9 17 4 12") ])([  ]) ]);

// | Menubar checkbox item
var menubarCheckboxItem = function (propMods) {
    return function (children) {
        var props = Data_Array.foldl(function (p) {
            return function (f) {
                return f(p);
            };
        })(defaultProps)(propMods);
        var disabledClasses = (function () {
            if (props.disabled) {
                return "opacity-50 pointer-events-none";
            };
            return "cursor-pointer";
        })();
        return Halogen_HTML_Elements.div(append([ Hydrogen_UI_Core.cls([ "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground hover:bg-accent hover:text-accent-foreground", disabledClasses, props.className ]), Halogen_HTML_Properties_ARIA.role("menuitemcheckbox"), Halogen_HTML_Properties_ARIA.checked((function () {
            if (props.checked) {
                return "true";
            };
            return "false";
        })()), Halogen_HTML_Properties.attr("data-state")((function () {
            if (props.checked) {
                return "checked";
            };
            return "unchecked";
        })()) ])((function () {
            if (props.onCheckedChange instanceof Data_Maybe.Just && !props.disabled) {
                return [ Halogen_HTML_Events.onClick(function (v) {
                    return props.onCheckedChange.value0(!props.checked);
                }) ];
            };
            return [  ];
        })()))([ Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "absolute left-2 flex h-3.5 w-3.5 items-center justify-center" ]) ])([ (function () {
            if (props.checked) {
                return checkIcon;
            };
            return Halogen_HTML_Core.text("");
        })() ]), Halogen_HTML_Elements.span([ Hydrogen_UI_Core.cls([ "flex-1" ]) ])(children) ]);
    };
};
export {
    menubar,
    menubarMenu,
    menubarTrigger,
    menubarContent,
    menubarItem,
    menubarCheckboxItem,
    menubarRadioGroup,
    menubarRadioItem,
    menubarSeparator,
    menubarLabel,
    menubarGroup,
    menubarSub,
    menubarSubTrigger,
    menubarSubContent,
    menubarShortcut,
    open,
    disabled,
    checked,
    value,
    onToggle,
    onSelect,
    onCheckedChange,
    onValueChange,
    shortcut,
    className
};
