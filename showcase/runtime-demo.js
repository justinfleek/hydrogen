/* Generated by Spago v1.0.3 */
(() => {
  // output/Data.Functor/foreign.js
  var arrayMap = function(f) {
    return function(arr) {
      var l = arr.length;
      var result = new Array(l);
      for (var i = 0; i < l; i++) {
        result[i] = f(arr[i]);
      }
      return result;
    };
  };

  // output/Control.Semigroupoid/index.js
  var semigroupoidFn = {
    compose: function(f) {
      return function(g) {
        return function(x) {
          return f(g(x));
        };
      };
    }
  };

  // output/Control.Category/index.js
  var identity = function(dict) {
    return dict.identity;
  };
  var categoryFn = {
    identity: function(x) {
      return x;
    },
    Semigroupoid0: function() {
      return semigroupoidFn;
    }
  };

  // output/Data.Boolean/index.js
  var otherwise = true;

  // output/Data.Function/index.js
  var flip = function(f) {
    return function(b) {
      return function(a) {
        return f(a)(b);
      };
    };
  };
  var $$const = function(a) {
    return function(v) {
      return a;
    };
  };

  // output/Data.Unit/foreign.js
  var unit = void 0;

  // output/Data.Functor/index.js
  var map = function(dict) {
    return dict.map;
  };
  var functorArray = {
    map: arrayMap
  };

  // output/Data.Semigroup/index.js
  var append = function(dict) {
    return dict.append;
  };

  // output/Control.Apply/index.js
  var identity2 = /* @__PURE__ */ identity(categoryFn);
  var apply = function(dict) {
    return dict.apply;
  };
  var applySecond = function(dictApply) {
    var apply1 = apply(dictApply);
    var map7 = map(dictApply.Functor0());
    return function(a) {
      return function(b) {
        return apply1(map7($$const(identity2))(a))(b);
      };
    };
  };

  // output/Control.Applicative/index.js
  var pure = function(dict) {
    return dict.pure;
  };
  var when = function(dictApplicative) {
    var pure1 = pure(dictApplicative);
    return function(v) {
      return function(v1) {
        if (v) {
          return v1;
        }
        ;
        if (!v) {
          return pure1(unit);
        }
        ;
        throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): " + [v.constructor.name, v1.constructor.name]);
      };
    };
  };
  var liftA1 = function(dictApplicative) {
    var apply2 = apply(dictApplicative.Apply0());
    var pure1 = pure(dictApplicative);
    return function(f) {
      return function(a) {
        return apply2(pure1(f))(a);
      };
    };
  };

  // output/Data.Bounded/foreign.js
  var topChar = String.fromCharCode(65535);
  var bottomChar = String.fromCharCode(0);
  var topNumber = Number.POSITIVE_INFINITY;
  var bottomNumber = Number.NEGATIVE_INFINITY;

  // output/Data.Ord/foreign.js
  var unsafeCompareImpl = function(lt) {
    return function(eq2) {
      return function(gt) {
        return function(x) {
          return function(y) {
            return x < y ? lt : x === y ? eq2 : gt;
          };
        };
      };
    };
  };
  var ordIntImpl = unsafeCompareImpl;

  // output/Data.Eq/foreign.js
  var refEq = function(r1) {
    return function(r2) {
      return r1 === r2;
    };
  };
  var eqIntImpl = refEq;

  // output/Data.Eq/index.js
  var eqInt = {
    eq: eqIntImpl
  };

  // output/Data.Ordering/index.js
  var LT = /* @__PURE__ */ (function() {
    function LT2() {
    }
    ;
    LT2.value = new LT2();
    return LT2;
  })();
  var GT = /* @__PURE__ */ (function() {
    function GT2() {
    }
    ;
    GT2.value = new GT2();
    return GT2;
  })();
  var EQ = /* @__PURE__ */ (function() {
    function EQ2() {
    }
    ;
    EQ2.value = new EQ2();
    return EQ2;
  })();

  // output/Data.Ring/foreign.js
  var intSub = function(x) {
    return function(y) {
      return x - y | 0;
    };
  };

  // output/Data.Semiring/foreign.js
  var intAdd = function(x) {
    return function(y) {
      return x + y | 0;
    };
  };
  var intMul = function(x) {
    return function(y) {
      return x * y | 0;
    };
  };

  // output/Data.Semiring/index.js
  var semiringInt = {
    add: intAdd,
    zero: 0,
    mul: intMul,
    one: 1
  };

  // output/Data.Ring/index.js
  var ringInt = {
    sub: intSub,
    Semiring0: function() {
      return semiringInt;
    }
  };

  // output/Data.Ord/index.js
  var ordInt = /* @__PURE__ */ (function() {
    return {
      compare: ordIntImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqInt;
      }
    };
  })();
  var compare = function(dict) {
    return dict.compare;
  };
  var min = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(x) {
      return function(y) {
        var v = compare3(x)(y);
        if (v instanceof LT) {
          return x;
        }
        ;
        if (v instanceof EQ) {
          return x;
        }
        ;
        if (v instanceof GT) {
          return y;
        }
        ;
        throw new Error("Failed pattern match at Data.Ord (line 172, column 3 - line 175, column 12): " + [v.constructor.name]);
      };
    };
  };

  // output/Data.Show/foreign.js
  var showIntImpl = function(n) {
    return n.toString();
  };
  var showNumberImpl = function(n) {
    var str = n.toString();
    return isNaN(str + ".0") ? str : str + ".0";
  };

  // output/Data.Show/index.js
  var showNumber = {
    show: showNumberImpl
  };
  var showInt = {
    show: showIntImpl
  };
  var show = function(dict) {
    return dict.show;
  };

  // output/Data.Maybe/index.js
  var Nothing = /* @__PURE__ */ (function() {
    function Nothing2() {
    }
    ;
    Nothing2.value = new Nothing2();
    return Nothing2;
  })();
  var Just = /* @__PURE__ */ (function() {
    function Just2(value0) {
      this.value0 = value0;
    }
    ;
    Just2.create = function(value0) {
      return new Just2(value0);
    };
    return Just2;
  })();
  var maybe = function(v) {
    return function(v1) {
      return function(v2) {
        if (v2 instanceof Nothing) {
          return v;
        }
        ;
        if (v2 instanceof Just) {
          return v1(v2.value0);
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
      };
    };
  };

  // output/Effect.Console/foreign.js
  var log = function(s) {
    return function() {
      console.log(s);
    };
  };

  // output/Hydrogen.Runtime.App/foreign.js
  var setTextContent = (text6) => (node) => () => {
    node.textContent = text6;
  };
  var nodeToElement = (node) => {
    if (node.nodeType === Node.ELEMENT_NODE) {
      return { value0: node };
    }
    return null;
  };
  var clearAttributes = (element2) => () => {
    while (element2.attributes.length > 0) {
      element2.removeAttribute(element2.attributes[0].name);
    }
    element2.removeAttribute("style");
  };
  var childNodes = (node) => () => {
    return Array.from(node.childNodes);
  };
  var forWithIndex = (arr) => (fn) => () => {
    const results = [];
    for (let i = 0; i < arr.length; i++) {
      results.push(fn(i)(arr[i])());
    }
    return results;
  };
  var setTimeout = (ms) => (action2) => () => {
    window.setTimeout(action2, ms);
  };
  var setInterval = (ms) => (action2) => () => {
    return window.setInterval(action2, ms);
  };
  var requestAnimationFrame = (callback) => () => {
    window.requestAnimationFrame((timestamp) => callback(timestamp)());
  };
  var focusElement = (id2) => () => {
    const el = document.getElementById(id2);
    if (el) el.focus();
  };
  var blurElement = (id2) => () => {
    const el = document.getElementById(id2);
    if (el) el.blur();
  };
  var pushHistory = (url2) => () => {
    window.history.pushState(null, "", url2);
  };
  var replaceHistory = (url2) => () => {
    window.history.replaceState(null, "", url2);
  };
  var historyBack = () => {
    window.history.back();
  };
  var historyForward = () => {
    window.history.forward();
  };
  var getLocalStorage = (key) => () => {
    const value13 = window.localStorage.getItem(key);
    if (value13 === null) {
      return null;
    }
    return { value0: value13 };
  };
  var setLocalStorage = (key) => (value13) => () => {
    window.localStorage.setItem(key, value13);
  };
  var removeLocalStorage = (key) => () => {
    window.localStorage.removeItem(key);
  };
  var copyText = (text6) => () => {
    if (navigator.clipboard) {
      navigator.clipboard.writeText(text6);
    }
  };
  var consoleLog = (text6) => () => {
    console.log(text6);
  };
  var httpFetch = (method2) => (url2) => (headers) => (maybeBody) => (maybeTimeout) => (constructors) => (onResult) => () => {
    const options2 = {
      method: method2,
      headers: {}
    };
    for (const tuple of headers) {
      options2.headers[tuple.value0] = tuple.value1;
    }
    if (maybeBody !== null && maybeBody.value0 !== void 0) {
      const body = maybeBody.value0;
      if (typeof body === "object" && body !== null) {
        options2.body = JSON.stringify(body);
        if (!options2.headers["Content-Type"]) {
          options2.headers["Content-Type"] = "application/json";
        }
      } else {
        options2.body = String(body);
      }
    }
    let controller = null;
    let timeoutId = null;
    let timeoutMs = null;
    if (maybeTimeout !== null && maybeTimeout.value0 !== void 0) {
      timeoutMs = maybeTimeout.value0;
      controller = new AbortController();
      options2.signal = controller.signal;
      timeoutId = window.setTimeout(() => {
        controller.abort();
      }, timeoutMs);
    }
    fetch(url2, options2).then(async (response) => {
      if (timeoutId !== null) {
        window.clearTimeout(timeoutId);
      }
      const responseHeaders = [];
      response.headers.forEach((value13, key) => {
        responseHeaders.push({ value0: key, value1: value13 });
      });
      let body;
      const contentType2 = response.headers.get("content-type") || "";
      if (contentType2.includes("application/json")) {
        try {
          body = await response.json();
        } catch (e2) {
          body = await response.text();
        }
      } else {
        body = await response.text();
      }
      const httpSuccess = {
        status: response.status,
        statusText: response.statusText,
        headers: responseHeaders,
        body
      };
      const result = constructors.mkHttpOk(httpSuccess);
      onResult(result)();
    }).catch((error2) => {
      if (timeoutId !== null) {
        window.clearTimeout(timeoutId);
      }
      const result = diagnoseAndConstructError(error2, url2, method2, timeoutMs, constructors);
      onResult(result)();
    });
  };
  function diagnoseAndConstructError(error2, url2, method2, timeoutMs, constructors) {
    const timestamp = (/* @__PURE__ */ new Date()).toISOString();
    const baseContext = {
      url: url2,
      method: method2,
      timestamp,
      browserError: error2.name || "Unknown",
      browserMessage: error2.message || ""
    };
    if (error2.name === "AbortError") {
      const timeoutSec = timeoutMs ? (timeoutMs / 1e3).toFixed(1) : "unknown";
      return constructors.mkTimeoutError({
        ...baseContext,
        cause: `Request did not complete within ${timeoutSec} seconds.`,
        suggestions: [
          `STEP 1: Check if the server at ${extractHost(url2)} is responding`,
          `STEP 2: Try the URL directly in your browser: ${url2}`,
          `STEP 3: If the server is slow, increase the timeout (currently ${timeoutSec}s)`,
          `STEP 4: Check your network connection`,
          `STEP 5: If using a local server, verify it's running`
        ]
      });
    }
    if (error2.name === "TypeError") {
      const msg = (error2.message || "").toLowerCase();
      if (msg.includes("cors") || msg.includes("cross-origin") || msg.includes("access-control-allow-origin") || msg.includes("blocked by cors")) {
        const origin3 = extractOrigin(url2);
        const currentOrigin = typeof window !== "undefined" ? window.location.origin : "unknown";
        return constructors.mkCorsError({
          ...baseContext,
          cause: `The server at ${origin3} does not allow requests from ${currentOrigin}.`,
          suggestions: [
            `WHAT HAPPENED: Your browser blocked this request due to CORS (Cross-Origin Resource Sharing) policy.`,
            `WHY: The server at ${origin3} did not include "Access-Control-Allow-Origin" header in its response.`,
            ``,
            `TO FIX (if you control the server):`,
            `  1. Add header: Access-Control-Allow-Origin: ${currentOrigin}`,
            `  2. Or for development: Access-Control-Allow-Origin: *`,
            `  3. For preflight requests, also handle OPTIONS method`,
            ``,
            `TO FIX (if you don't control the server):`,
            `  1. Use a CORS proxy for development (e.g., cors-anywhere)`,
            `  2. Make requests from a backend server instead of browser`,
            `  3. Contact the API provider to request CORS support`
          ]
        });
      }
      if (msg.includes("failed to fetch") || msg.includes("networkerror") || msg.includes("network request failed") || msg.includes("network error") || msg.includes("err_connection_refused") || msg.includes("err_name_not_resolved")) {
        if (isMixedContent(url2)) {
          return constructors.mkMixedContentError({
            ...baseContext,
            cause: `This HTTPS page cannot load resources over insecure HTTP.`,
            suggestions: [
              `WHAT HAPPENED: Your browser blocked this request because it's "mixed content".`,
              `WHY: Pages served over HTTPS cannot load resources over HTTP for security reasons.`,
              ``,
              `TO FIX:`,
              `  1. Change the URL to use HTTPS: ${url2.replace("http:", "https:")}`,
              `  2. If the server doesn't support HTTPS, serve your page over HTTP during development`,
              `  3. Configure your server to redirect HTTP to HTTPS`
            ]
          });
        }
        const host3 = extractHost(url2);
        const isLocalhost = host3 === "localhost" || host3 === "127.0.0.1" || host3.startsWith("192.168.");
        if (isLocalhost) {
          const port2 = extractPort(url2);
          return constructors.mkNetworkError({
            ...baseContext,
            cause: `Could not connect to local server at ${host3}${port2 ? ":" + port2 : ""}.`,
            suggestions: [
              `WHAT HAPPENED: The connection to ${host3}${port2 ? ":" + port2 : ""} was refused or timed out.`,
              ``,
              `TO FIX:`,
              `  1. Verify your local server is running`,
              `  2. Check that it's listening on port ${port2 || "the expected port"}`,
              `  3. Run: netstat -an | grep ${port2 || "PORT"} (to check if port is in use)`,
              `  4. Check server logs for startup errors`,
              `  5. Ensure no firewall is blocking the connection`
            ]
          });
        } else {
          return constructors.mkNetworkError({
            ...baseContext,
            cause: `Could not establish connection to ${host3}.`,
            suggestions: [
              `WHAT HAPPENED: The request to ${host3} failed before reaching the server.`,
              ``,
              `POSSIBLE CAUSES & FIXES:`,
              `  1. No internet connection \u2192 Check your network settings`,
              `  2. DNS resolution failed \u2192 Try: ping ${host3}`,
              `  3. Server is down \u2192 Try the URL in your browser: ${url2}`,
              `  4. Firewall blocking \u2192 Check firewall/proxy settings`,
              `  5. Typo in hostname \u2192 Verify: ${host3}`
            ]
          });
        }
      }
      if (msg.includes("invalid url") || msg.includes("url") && msg.includes("invalid")) {
        return constructors.mkInvalidUrlError({
          ...baseContext,
          cause: `The URL "${url2}" is not valid.`,
          suggestions: [
            `WHAT HAPPENED: The URL could not be parsed.`,
            ``,
            `TO FIX:`,
            `  1. Ensure URL starts with http:// or https://`,
            `  2. Check for invalid characters or spaces`,
            `  3. Verify the URL structure: protocol://host:port/path?query`,
            `  4. URL provided: "${url2}"`
          ]
        });
      }
    }
    if (error2.name === "AbortError") {
      return constructors.mkAbortedError({
        ...baseContext,
        cause: `The request was manually aborted.`,
        suggestions: [
          `WHAT HAPPENED: Something called abort() on the request's AbortController.`,
          `WHY: This usually happens when navigating away from a page or cancelling a request.`,
          `NOTE: If this was unexpected, check for stale AbortController references.`
        ]
      });
    }
    return constructors.mkUnknownError({
      ...baseContext,
      cause: error2.message || `An unexpected error occurred: ${error2.name}`,
      suggestions: [
        `WHAT HAPPENED: The request failed with an error we don't specifically recognize.`,
        ``,
        `ERROR DETAILS:`,
        `  Type: ${error2.name}`,
        `  Message: ${error2.message}`,
        `  URL: ${url2}`,
        `  Method: ${method2}`,
        ``,
        `TO DEBUG:`,
        `  1. Open browser DevTools (F12)`,
        `  2. Check the Network tab for request details`,
        `  3. Check the Console tab for additional errors`,
        `  4. Try the request with curl or Postman to isolate the issue`
      ]
    });
  }
  function extractHost(url2) {
    try {
      return new URL(url2).hostname;
    } catch (e2) {
      return url2;
    }
  }
  function extractPort(url2) {
    try {
      return new URL(url2).port;
    } catch (e2) {
      return null;
    }
  }
  function extractOrigin(url2) {
    try {
      return new URL(url2).origin;
    } catch (e2) {
      return url2;
    }
  }
  function isMixedContent(url2) {
    try {
      const requestProtocol = new URL(url2).protocol;
      const pageProtocol = typeof window !== "undefined" ? window.location.protocol : "https:";
      return pageProtocol === "https:" && requestProtocol === "http:";
    } catch (e2) {
      return false;
    }
  }

  // output/Data.Array/foreign.js
  var replicateFill = function(count, value13) {
    if (count < 1) {
      return [];
    }
    var result = new Array(count);
    return result.fill(value13);
  };
  var replicatePolyfill = function(count, value13) {
    var result = [];
    var n = 0;
    for (var i = 0; i < count; i++) {
      result[n++] = value13;
    }
    return result;
  };
  var replicateImpl = typeof Array.prototype.fill === "function" ? replicateFill : replicatePolyfill;
  var length = function(xs) {
    return xs.length;
  };
  var unconsImpl = function(empty2, next, xs) {
    return xs.length === 0 ? empty2({}) : next(xs[0])(xs.slice(1));
  };
  var indexImpl = function(just, nothing, xs, i) {
    return i < 0 || i >= xs.length ? nothing : just(xs[i]);
  };
  var filterImpl = function(f, xs) {
    return xs.filter(f);
  };
  var sliceImpl = function(s, e2, l) {
    return l.slice(s, e2);
  };

  // output/Control.Bind/foreign.js
  var arrayBind = typeof Array.prototype.flatMap === "function" ? function(arr) {
    return function(f) {
      return arr.flatMap(f);
    };
  } : function(arr) {
    return function(f) {
      var result = [];
      var l = arr.length;
      for (var i = 0; i < l; i++) {
        var xs = f(arr[i]);
        var k = xs.length;
        for (var j = 0; j < k; j++) {
          result.push(xs[j]);
        }
      }
      return result;
    };
  };

  // output/Control.Bind/index.js
  var bind = function(dict) {
    return dict.bind;
  };

  // output/Control.Monad/index.js
  var ap = function(dictMonad) {
    var bind2 = bind(dictMonad.Bind1());
    var pure4 = pure(dictMonad.Applicative0());
    return function(f) {
      return function(a) {
        return bind2(f)(function(f$prime) {
          return bind2(a)(function(a$prime) {
            return pure4(f$prime(a$prime));
          });
        });
      };
    };
  };

  // output/Data.EuclideanRing/foreign.js
  var intDegree = function(x) {
    return Math.min(Math.abs(x), 2147483647);
  };
  var intDiv = function(x) {
    return function(y) {
      if (y === 0) return 0;
      return y > 0 ? Math.floor(x / y) : -Math.floor(x / -y);
    };
  };
  var intMod = function(x) {
    return function(y) {
      if (y === 0) return 0;
      var yy = Math.abs(y);
      return (x % yy + yy) % yy;
    };
  };

  // output/Data.CommutativeRing/index.js
  var commutativeRingInt = {
    Ring0: function() {
      return ringInt;
    }
  };

  // output/Data.EuclideanRing/index.js
  var euclideanRingInt = {
    degree: intDegree,
    div: intDiv,
    mod: intMod,
    CommutativeRing0: function() {
      return commutativeRingInt;
    }
  };
  var div = function(dict) {
    return dict.div;
  };

  // output/Data.Monoid/index.js
  var mempty = function(dict) {
    return dict.mempty;
  };

  // output/Effect/foreign.js
  var pureE = function(a) {
    return function() {
      return a;
    };
  };
  var bindE = function(a) {
    return function(f) {
      return function() {
        return f(a())();
      };
    };
  };

  // output/Effect/index.js
  var $runtime_lazy = function(name14, moduleName, init) {
    var state2 = 0;
    var val;
    return function(lineNumber) {
      if (state2 === 2) return val;
      if (state2 === 1) throw new ReferenceError(name14 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state2 = 1;
      val = init();
      state2 = 2;
      return val;
    };
  };
  var monadEffect = {
    Applicative0: function() {
      return applicativeEffect;
    },
    Bind1: function() {
      return bindEffect;
    }
  };
  var bindEffect = {
    bind: bindE,
    Apply0: function() {
      return $lazy_applyEffect(0);
    }
  };
  var applicativeEffect = {
    pure: pureE,
    Apply0: function() {
      return $lazy_applyEffect(0);
    }
  };
  var $lazy_functorEffect = /* @__PURE__ */ $runtime_lazy("functorEffect", "Effect", function() {
    return {
      map: liftA1(applicativeEffect)
    };
  });
  var $lazy_applyEffect = /* @__PURE__ */ $runtime_lazy("applyEffect", "Effect", function() {
    return {
      apply: ap(monadEffect),
      Functor0: function() {
        return $lazy_functorEffect(0);
      }
    };
  });
  var functorEffect = /* @__PURE__ */ $lazy_functorEffect(20);
  var applyEffect = /* @__PURE__ */ $lazy_applyEffect(23);

  // output/Effect.Ref/foreign.js
  var _new = function(val) {
    return function() {
      return { value: val };
    };
  };
  var read = function(ref) {
    return function() {
      return ref.value;
    };
  };
  var write = function(val) {
    return function(ref) {
      return function() {
        ref.value = val;
      };
    };
  };

  // output/Effect.Ref/index.js
  var $$new = _new;

  // output/Data.Array.ST/foreign.js
  function unsafeFreezeThawImpl(xs) {
    return xs;
  }
  var unsafeFreezeImpl = unsafeFreezeThawImpl;
  function copyImpl(xs) {
    return xs.slice();
  }
  var thawImpl = copyImpl;
  var pushImpl = function(a, xs) {
    return xs.push(a);
  };

  // output/Control.Monad.ST.Uncurried/foreign.js
  var runSTFn1 = function runSTFn12(fn) {
    return function(a) {
      return function() {
        return fn(a);
      };
    };
  };
  var runSTFn2 = function runSTFn22(fn) {
    return function(a) {
      return function(b) {
        return function() {
          return fn(a, b);
        };
      };
    };
  };

  // output/Data.Array.ST/index.js
  var unsafeFreeze = /* @__PURE__ */ runSTFn1(unsafeFreezeImpl);
  var thaw = /* @__PURE__ */ runSTFn1(thawImpl);
  var withArray = function(f) {
    return function(xs) {
      return function __do2() {
        var result = thaw(xs)();
        f(result)();
        return unsafeFreeze(result)();
      };
    };
  };
  var push = /* @__PURE__ */ runSTFn2(pushImpl);

  // output/Data.Foldable/foreign.js
  var foldrArray = function(f) {
    return function(init) {
      return function(xs) {
        var acc = init;
        var len = xs.length;
        for (var i = len - 1; i >= 0; i--) {
          acc = f(xs[i])(acc);
        }
        return acc;
      };
    };
  };
  var foldlArray = function(f) {
    return function(init) {
      return function(xs) {
        var acc = init;
        var len = xs.length;
        for (var i = 0; i < len; i++) {
          acc = f(acc)(xs[i]);
        }
        return acc;
      };
    };
  };

  // output/Data.Tuple/index.js
  var snd = function(v) {
    return v.value1;
  };

  // output/Unsafe.Coerce/foreign.js
  var unsafeCoerce2 = function(x) {
    return x;
  };

  // output/Data.Foldable/index.js
  var foldr = function(dict) {
    return dict.foldr;
  };
  var traverse_ = function(dictApplicative) {
    var applySecond4 = applySecond(dictApplicative.Apply0());
    var pure4 = pure(dictApplicative);
    return function(dictFoldable) {
      var foldr2 = foldr(dictFoldable);
      return function(f) {
        return foldr2(function($454) {
          return applySecond4(f($454));
        })(pure4(unit));
      };
    };
  };
  var for_ = function(dictApplicative) {
    var traverse_1 = traverse_(dictApplicative);
    return function(dictFoldable) {
      return flip(traverse_1(dictFoldable));
    };
  };
  var foldl = function(dict) {
    return dict.foldl;
  };
  var foldMapDefaultR = function(dictFoldable) {
    var foldr2 = foldr(dictFoldable);
    return function(dictMonoid) {
      var append2 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(f) {
        return foldr2(function(x) {
          return function(acc) {
            return append2(f(x))(acc);
          };
        })(mempty2);
      };
    };
  };
  var foldableArray = {
    foldr: foldrArray,
    foldl: foldlArray,
    foldMap: function(dictMonoid) {
      return foldMapDefaultR(foldableArray)(dictMonoid);
    }
  };

  // output/Data.Function.Uncurried/foreign.js
  var runFn2 = function(fn) {
    return function(a) {
      return function(b) {
        return fn(a, b);
      };
    };
  };
  var runFn3 = function(fn) {
    return function(a) {
      return function(b) {
        return function(c) {
          return fn(a, b, c);
        };
      };
    };
  };
  var runFn4 = function(fn) {
    return function(a) {
      return function(b) {
        return function(c) {
          return function(d) {
            return fn(a, b, c, d);
          };
        };
      };
    };
  };

  // output/Data.Array/index.js
  var snoc = function(xs) {
    return function(x) {
      return withArray(push(x))(xs)();
    };
  };
  var slice = /* @__PURE__ */ runFn3(sliceImpl);
  var take = function(n) {
    return function(xs) {
      var $152 = n < 1;
      if ($152) {
        return [];
      }
      ;
      return slice(0)(n)(xs);
    };
  };
  var index = /* @__PURE__ */ (function() {
    return runFn4(indexImpl)(Just.create)(Nothing.value);
  })();
  var foldl2 = /* @__PURE__ */ foldl(foldableArray);
  var foldM = function(dictMonad) {
    var pure1 = pure(dictMonad.Applicative0());
    var bind1 = bind(dictMonad.Bind1());
    return function(f) {
      return function(b) {
        return runFn3(unconsImpl)(function(v) {
          return pure1(b);
        })(function(a) {
          return function(as) {
            return bind1(f(b)(a))(function(b$prime) {
              return foldM(dictMonad)(f)(b$prime)(as);
            });
          };
        });
      };
    };
  };
  var filter = /* @__PURE__ */ runFn2(filterImpl);
  var drop = function(n) {
    return function(xs) {
      var $173 = n < 1;
      if ($173) {
        return xs;
      }
      ;
      return slice(n)(length(xs))(xs);
    };
  };

  // output/Hydrogen.Render.Element/index.js
  var HTML = /* @__PURE__ */ (function() {
    function HTML2() {
    }
    ;
    HTML2.value = new HTML2();
    return HTML2;
  })();
  var SVG = /* @__PURE__ */ (function() {
    function SVG2() {
    }
    ;
    SVG2.value = new SVG2();
    return SVG2;
  })();
  var MathML = /* @__PURE__ */ (function() {
    function MathML2() {
    }
    ;
    MathML2.value = new MathML2();
    return MathML2;
  })();
  var Custom = /* @__PURE__ */ (function() {
    function Custom2(value0) {
      this.value0 = value0;
    }
    ;
    Custom2.create = function(value0) {
      return new Custom2(value0);
    };
    return Custom2;
  })();
  var OnClick = /* @__PURE__ */ (function() {
    function OnClick2(value0) {
      this.value0 = value0;
    }
    ;
    OnClick2.create = function(value0) {
      return new OnClick2(value0);
    };
    return OnClick2;
  })();
  var OnDoubleClick = /* @__PURE__ */ (function() {
    function OnDoubleClick2(value0) {
      this.value0 = value0;
    }
    ;
    OnDoubleClick2.create = function(value0) {
      return new OnDoubleClick2(value0);
    };
    return OnDoubleClick2;
  })();
  var OnMouseDown = /* @__PURE__ */ (function() {
    function OnMouseDown2(value0) {
      this.value0 = value0;
    }
    ;
    OnMouseDown2.create = function(value0) {
      return new OnMouseDown2(value0);
    };
    return OnMouseDown2;
  })();
  var OnMouseUp = /* @__PURE__ */ (function() {
    function OnMouseUp2(value0) {
      this.value0 = value0;
    }
    ;
    OnMouseUp2.create = function(value0) {
      return new OnMouseUp2(value0);
    };
    return OnMouseUp2;
  })();
  var OnMouseMove = /* @__PURE__ */ (function() {
    function OnMouseMove2(value0) {
      this.value0 = value0;
    }
    ;
    OnMouseMove2.create = function(value0) {
      return new OnMouseMove2(value0);
    };
    return OnMouseMove2;
  })();
  var OnMouseEnter = /* @__PURE__ */ (function() {
    function OnMouseEnter2(value0) {
      this.value0 = value0;
    }
    ;
    OnMouseEnter2.create = function(value0) {
      return new OnMouseEnter2(value0);
    };
    return OnMouseEnter2;
  })();
  var OnMouseLeave = /* @__PURE__ */ (function() {
    function OnMouseLeave2(value0) {
      this.value0 = value0;
    }
    ;
    OnMouseLeave2.create = function(value0) {
      return new OnMouseLeave2(value0);
    };
    return OnMouseLeave2;
  })();
  var OnFocus = /* @__PURE__ */ (function() {
    function OnFocus2(value0) {
      this.value0 = value0;
    }
    ;
    OnFocus2.create = function(value0) {
      return new OnFocus2(value0);
    };
    return OnFocus2;
  })();
  var OnBlur = /* @__PURE__ */ (function() {
    function OnBlur2(value0) {
      this.value0 = value0;
    }
    ;
    OnBlur2.create = function(value0) {
      return new OnBlur2(value0);
    };
    return OnBlur2;
  })();
  var OnInput = /* @__PURE__ */ (function() {
    function OnInput2(value0) {
      this.value0 = value0;
    }
    ;
    OnInput2.create = function(value0) {
      return new OnInput2(value0);
    };
    return OnInput2;
  })();
  var OnChange = /* @__PURE__ */ (function() {
    function OnChange2(value0) {
      this.value0 = value0;
    }
    ;
    OnChange2.create = function(value0) {
      return new OnChange2(value0);
    };
    return OnChange2;
  })();
  var OnSubmit = /* @__PURE__ */ (function() {
    function OnSubmit2(value0) {
      this.value0 = value0;
    }
    ;
    OnSubmit2.create = function(value0) {
      return new OnSubmit2(value0);
    };
    return OnSubmit2;
  })();
  var OnKeyDown = /* @__PURE__ */ (function() {
    function OnKeyDown2(value0) {
      this.value0 = value0;
    }
    ;
    OnKeyDown2.create = function(value0) {
      return new OnKeyDown2(value0);
    };
    return OnKeyDown2;
  })();
  var OnKeyUp = /* @__PURE__ */ (function() {
    function OnKeyUp2(value0) {
      this.value0 = value0;
    }
    ;
    OnKeyUp2.create = function(value0) {
      return new OnKeyUp2(value0);
    };
    return OnKeyUp2;
  })();
  var OnKeyPress = /* @__PURE__ */ (function() {
    function OnKeyPress2(value0) {
      this.value0 = value0;
    }
    ;
    OnKeyPress2.create = function(value0) {
      return new OnKeyPress2(value0);
    };
    return OnKeyPress2;
  })();
  var OnScroll = /* @__PURE__ */ (function() {
    function OnScroll2(value0) {
      this.value0 = value0;
    }
    ;
    OnScroll2.create = function(value0) {
      return new OnScroll2(value0);
    };
    return OnScroll2;
  })();
  var OnWheel = /* @__PURE__ */ (function() {
    function OnWheel2(value0) {
      this.value0 = value0;
    }
    ;
    OnWheel2.create = function(value0) {
      return new OnWheel2(value0);
    };
    return OnWheel2;
  })();
  var OnDragStart = /* @__PURE__ */ (function() {
    function OnDragStart2(value0) {
      this.value0 = value0;
    }
    ;
    OnDragStart2.create = function(value0) {
      return new OnDragStart2(value0);
    };
    return OnDragStart2;
  })();
  var OnDrag = /* @__PURE__ */ (function() {
    function OnDrag2(value0) {
      this.value0 = value0;
    }
    ;
    OnDrag2.create = function(value0) {
      return new OnDrag2(value0);
    };
    return OnDrag2;
  })();
  var OnDragEnd = /* @__PURE__ */ (function() {
    function OnDragEnd2(value0) {
      this.value0 = value0;
    }
    ;
    OnDragEnd2.create = function(value0) {
      return new OnDragEnd2(value0);
    };
    return OnDragEnd2;
  })();
  var OnDragEnter = /* @__PURE__ */ (function() {
    function OnDragEnter2(value0) {
      this.value0 = value0;
    }
    ;
    OnDragEnter2.create = function(value0) {
      return new OnDragEnter2(value0);
    };
    return OnDragEnter2;
  })();
  var OnDragLeave = /* @__PURE__ */ (function() {
    function OnDragLeave2(value0) {
      this.value0 = value0;
    }
    ;
    OnDragLeave2.create = function(value0) {
      return new OnDragLeave2(value0);
    };
    return OnDragLeave2;
  })();
  var OnDragOver = /* @__PURE__ */ (function() {
    function OnDragOver2(value0) {
      this.value0 = value0;
    }
    ;
    OnDragOver2.create = function(value0) {
      return new OnDragOver2(value0);
    };
    return OnDragOver2;
  })();
  var OnDrop = /* @__PURE__ */ (function() {
    function OnDrop2(value0) {
      this.value0 = value0;
    }
    ;
    OnDrop2.create = function(value0) {
      return new OnDrop2(value0);
    };
    return OnDrop2;
  })();
  var OnTouchStart = /* @__PURE__ */ (function() {
    function OnTouchStart2(value0) {
      this.value0 = value0;
    }
    ;
    OnTouchStart2.create = function(value0) {
      return new OnTouchStart2(value0);
    };
    return OnTouchStart2;
  })();
  var OnTouchMove = /* @__PURE__ */ (function() {
    function OnTouchMove2(value0) {
      this.value0 = value0;
    }
    ;
    OnTouchMove2.create = function(value0) {
      return new OnTouchMove2(value0);
    };
    return OnTouchMove2;
  })();
  var OnTouchEnd = /* @__PURE__ */ (function() {
    function OnTouchEnd2(value0) {
      this.value0 = value0;
    }
    ;
    OnTouchEnd2.create = function(value0) {
      return new OnTouchEnd2(value0);
    };
    return OnTouchEnd2;
  })();
  var OnTouchCancel = /* @__PURE__ */ (function() {
    function OnTouchCancel2(value0) {
      this.value0 = value0;
    }
    ;
    OnTouchCancel2.create = function(value0) {
      return new OnTouchCancel2(value0);
    };
    return OnTouchCancel2;
  })();
  var CustomEvent = /* @__PURE__ */ (function() {
    function CustomEvent2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    CustomEvent2.create = function(value0) {
      return function(value1) {
        return new CustomEvent2(value0, value1);
      };
    };
    return CustomEvent2;
  })();
  var Attr = /* @__PURE__ */ (function() {
    function Attr2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Attr2.create = function(value0) {
      return function(value1) {
        return new Attr2(value0, value1);
      };
    };
    return Attr2;
  })();
  var AttrNS = /* @__PURE__ */ (function() {
    function AttrNS2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    AttrNS2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new AttrNS2(value0, value1, value22);
        };
      };
    };
    return AttrNS2;
  })();
  var Prop = /* @__PURE__ */ (function() {
    function Prop2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Prop2.create = function(value0) {
      return function(value1) {
        return new Prop2(value0, value1);
      };
    };
    return Prop2;
  })();
  var PropBool = /* @__PURE__ */ (function() {
    function PropBool2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    PropBool2.create = function(value0) {
      return function(value1) {
        return new PropBool2(value0, value1);
      };
    };
    return PropBool2;
  })();
  var Handler = /* @__PURE__ */ (function() {
    function Handler2(value0) {
      this.value0 = value0;
    }
    ;
    Handler2.create = function(value0) {
      return new Handler2(value0);
    };
    return Handler2;
  })();
  var Style = /* @__PURE__ */ (function() {
    function Style2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Style2.create = function(value0) {
      return function(value1) {
        return new Style2(value0, value1);
      };
    };
    return Style2;
  })();
  var Text = /* @__PURE__ */ (function() {
    function Text2(value0) {
      this.value0 = value0;
    }
    ;
    Text2.create = function(value0) {
      return new Text2(value0);
    };
    return Text2;
  })();
  var Element = /* @__PURE__ */ (function() {
    function Element2(value0) {
      this.value0 = value0;
    }
    ;
    Element2.create = function(value0) {
      return new Element2(value0);
    };
    return Element2;
  })();
  var Keyed = /* @__PURE__ */ (function() {
    function Keyed2(value0) {
      this.value0 = value0;
    }
    ;
    Keyed2.create = function(value0) {
      return new Keyed2(value0);
    };
    return Keyed2;
  })();
  var Lazy = /* @__PURE__ */ (function() {
    function Lazy2(value0) {
      this.value0 = value0;
    }
    ;
    Lazy2.create = function(value0) {
      return new Lazy2(value0);
    };
    return Lazy2;
  })();
  var Empty = /* @__PURE__ */ (function() {
    function Empty3() {
    }
    ;
    Empty3.value = new Empty3();
    return Empty3;
  })();
  var value = /* @__PURE__ */ (function() {
    return Prop.create("value");
  })();
  var type_ = /* @__PURE__ */ (function() {
    return Attr.create("type");
  })();
  var text = /* @__PURE__ */ (function() {
    return Text.create;
  })();
  var style = /* @__PURE__ */ (function() {
    return Style.create;
  })();
  var placeholder = /* @__PURE__ */ (function() {
    return Attr.create("placeholder");
  })();
  var onInput = function($170) {
    return Handler.create(OnInput.create($170));
  };
  var onClick = function($180) {
    return Handler.create(OnClick.create($180));
  };
  var element = function(tag) {
    return function(attributes) {
      return function(children2) {
        return new Element({
          namespace: Nothing.value,
          tag,
          attributes,
          children: children2
        });
      };
    };
  };
  var h1_ = /* @__PURE__ */ element("h1");
  var h4_ = /* @__PURE__ */ element("h4");
  var input_ = function(attrs) {
    return element("input")(attrs)([]);
  };
  var li_ = /* @__PURE__ */ element("li");
  var p_ = /* @__PURE__ */ element("p");
  var pre_ = /* @__PURE__ */ element("pre");
  var span_ = /* @__PURE__ */ element("span");
  var ul_ = /* @__PURE__ */ element("ul");
  var div_ = /* @__PURE__ */ element("div");
  var disabled = /* @__PURE__ */ (function() {
    return PropBool.create("disabled");
  })();
  var class_ = /* @__PURE__ */ (function() {
    return Attr.create("class");
  })();
  var checked = /* @__PURE__ */ (function() {
    return PropBool.create("checked");
  })();
  var button_ = /* @__PURE__ */ element("button");

  // output/Hydrogen.Runtime.Cmd/index.js
  var GET = /* @__PURE__ */ (function() {
    function GET2() {
    }
    ;
    GET2.value = new GET2();
    return GET2;
  })();
  var POST = /* @__PURE__ */ (function() {
    function POST2() {
    }
    ;
    POST2.value = new POST2();
    return POST2;
  })();
  var PUT = /* @__PURE__ */ (function() {
    function PUT2() {
    }
    ;
    PUT2.value = new PUT2();
    return PUT2;
  })();
  var PATCH = /* @__PURE__ */ (function() {
    function PATCH2() {
    }
    ;
    PATCH2.value = new PATCH2();
    return PATCH2;
  })();
  var DELETE = /* @__PURE__ */ (function() {
    function DELETE2() {
    }
    ;
    DELETE2.value = new DELETE2();
    return DELETE2;
  })();
  var HEAD = /* @__PURE__ */ (function() {
    function HEAD2() {
    }
    ;
    HEAD2.value = new HEAD2();
    return HEAD2;
  })();
  var OPTIONS = /* @__PURE__ */ (function() {
    function OPTIONS2() {
    }
    ;
    OPTIONS2.value = new OPTIONS2();
    return OPTIONS2;
  })();
  var TimeoutError = /* @__PURE__ */ (function() {
    function TimeoutError2(value0) {
      this.value0 = value0;
    }
    ;
    TimeoutError2.create = function(value0) {
      return new TimeoutError2(value0);
    };
    return TimeoutError2;
  })();
  var NetworkError = /* @__PURE__ */ (function() {
    function NetworkError2(value0) {
      this.value0 = value0;
    }
    ;
    NetworkError2.create = function(value0) {
      return new NetworkError2(value0);
    };
    return NetworkError2;
  })();
  var CorsError = /* @__PURE__ */ (function() {
    function CorsError2(value0) {
      this.value0 = value0;
    }
    ;
    CorsError2.create = function(value0) {
      return new CorsError2(value0);
    };
    return CorsError2;
  })();
  var MixedContentError = /* @__PURE__ */ (function() {
    function MixedContentError2(value0) {
      this.value0 = value0;
    }
    ;
    MixedContentError2.create = function(value0) {
      return new MixedContentError2(value0);
    };
    return MixedContentError2;
  })();
  var InvalidUrlError = /* @__PURE__ */ (function() {
    function InvalidUrlError2(value0) {
      this.value0 = value0;
    }
    ;
    InvalidUrlError2.create = function(value0) {
      return new InvalidUrlError2(value0);
    };
    return InvalidUrlError2;
  })();
  var AbortedError = /* @__PURE__ */ (function() {
    function AbortedError2(value0) {
      this.value0 = value0;
    }
    ;
    AbortedError2.create = function(value0) {
      return new AbortedError2(value0);
    };
    return AbortedError2;
  })();
  var UnknownError = /* @__PURE__ */ (function() {
    function UnknownError2(value0) {
      this.value0 = value0;
    }
    ;
    UnknownError2.create = function(value0) {
      return new UnknownError2(value0);
    };
    return UnknownError2;
  })();
  var HttpOk = /* @__PURE__ */ (function() {
    function HttpOk2(value0) {
      this.value0 = value0;
    }
    ;
    HttpOk2.create = function(value0) {
      return new HttpOk2(value0);
    };
    return HttpOk2;
  })();
  var HttpErr = /* @__PURE__ */ (function() {
    function HttpErr2(value0) {
      this.value0 = value0;
    }
    ;
    HttpErr2.create = function(value0) {
      return new HttpErr2(value0);
    };
    return HttpErr2;
  })();
  var None = /* @__PURE__ */ (function() {
    function None3() {
    }
    ;
    None3.value = new None3();
    return None3;
  })();
  var Batch = /* @__PURE__ */ (function() {
    function Batch2(value0) {
      this.value0 = value0;
    }
    ;
    Batch2.create = function(value0) {
      return new Batch2(value0);
    };
    return Batch2;
  })();
  var Delay = /* @__PURE__ */ (function() {
    function Delay2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Delay2.create = function(value0) {
      return function(value1) {
        return new Delay2(value0, value1);
      };
    };
    return Delay2;
  })();
  var Interval = /* @__PURE__ */ (function() {
    function Interval2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Interval2.create = function(value0) {
      return function(value1) {
        return new Interval2(value0, value1);
      };
    };
    return Interval2;
  })();
  var AnimationFrame = /* @__PURE__ */ (function() {
    function AnimationFrame2(value0) {
      this.value0 = value0;
    }
    ;
    AnimationFrame2.create = function(value0) {
      return new AnimationFrame2(value0);
    };
    return AnimationFrame2;
  })();
  var Http = /* @__PURE__ */ (function() {
    function Http2(value0) {
      this.value0 = value0;
    }
    ;
    Http2.create = function(value0) {
      return new Http2(value0);
    };
    return Http2;
  })();
  var Focus = /* @__PURE__ */ (function() {
    function Focus2(value0) {
      this.value0 = value0;
    }
    ;
    Focus2.create = function(value0) {
      return new Focus2(value0);
    };
    return Focus2;
  })();
  var Blur = /* @__PURE__ */ (function() {
    function Blur2(value0) {
      this.value0 = value0;
    }
    ;
    Blur2.create = function(value0) {
      return new Blur2(value0);
    };
    return Blur2;
  })();
  var PushUrl = /* @__PURE__ */ (function() {
    function PushUrl2(value0) {
      this.value0 = value0;
    }
    ;
    PushUrl2.create = function(value0) {
      return new PushUrl2(value0);
    };
    return PushUrl2;
  })();
  var ReplaceUrl = /* @__PURE__ */ (function() {
    function ReplaceUrl2(value0) {
      this.value0 = value0;
    }
    ;
    ReplaceUrl2.create = function(value0) {
      return new ReplaceUrl2(value0);
    };
    return ReplaceUrl2;
  })();
  var Back = /* @__PURE__ */ (function() {
    function Back2() {
    }
    ;
    Back2.value = new Back2();
    return Back2;
  })();
  var Forward = /* @__PURE__ */ (function() {
    function Forward2() {
    }
    ;
    Forward2.value = new Forward2();
    return Forward2;
  })();
  var GetStorage = /* @__PURE__ */ (function() {
    function GetStorage2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    GetStorage2.create = function(value0) {
      return function(value1) {
        return new GetStorage2(value0, value1);
      };
    };
    return GetStorage2;
  })();
  var SetStorage = /* @__PURE__ */ (function() {
    function SetStorage2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    SetStorage2.create = function(value0) {
      return function(value1) {
        return new SetStorage2(value0, value1);
      };
    };
    return SetStorage2;
  })();
  var RemoveStorage = /* @__PURE__ */ (function() {
    function RemoveStorage2(value0) {
      this.value0 = value0;
    }
    ;
    RemoveStorage2.create = function(value0) {
      return new RemoveStorage2(value0);
    };
    return RemoveStorage2;
  })();
  var CopyToClipboard = /* @__PURE__ */ (function() {
    function CopyToClipboard2(value0) {
      this.value0 = value0;
    }
    ;
    CopyToClipboard2.create = function(value0) {
      return new CopyToClipboard2(value0);
    };
    return CopyToClipboard2;
  })();
  var Log = /* @__PURE__ */ (function() {
    function Log2(value0) {
      this.value0 = value0;
    }
    ;
    Log2.create = function(value0) {
      return new Log2(value0);
    };
    return Log2;
  })();
  var transition = function(state2) {
    return function(cmd) {
      return {
        state: state2,
        cmd
      };
    };
  };
  var showHttpMethod = {
    show: function(v) {
      if (v instanceof GET) {
        return "GET";
      }
      ;
      if (v instanceof POST) {
        return "POST";
      }
      ;
      if (v instanceof PUT) {
        return "PUT";
      }
      ;
      if (v instanceof PATCH) {
        return "PATCH";
      }
      ;
      if (v instanceof DELETE) {
        return "DELETE";
      }
      ;
      if (v instanceof HEAD) {
        return "HEAD";
      }
      ;
      if (v instanceof OPTIONS) {
        return "OPTIONS";
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Cmd (line 344, column 10 - line 351, column 25): " + [v.constructor.name]);
    }
  };
  var noCmd = function(state2) {
    return {
      state: state2,
      cmd: None.value
    };
  };
  var mkUnknownError = function(ctx) {
    return new HttpErr(new UnknownError(ctx));
  };
  var mkTimeoutError = function(ctx) {
    return new HttpErr(new TimeoutError(ctx));
  };
  var mkNetworkError = function(ctx) {
    return new HttpErr(new NetworkError(ctx));
  };
  var mkMixedContentError = function(ctx) {
    return new HttpErr(new MixedContentError(ctx));
  };
  var mkInvalidUrlError = function(ctx) {
    return new HttpErr(new InvalidUrlError(ctx));
  };
  var mkHttpOk = /* @__PURE__ */ (function() {
    return HttpOk.create;
  })();
  var mkCorsError = function(ctx) {
    return new HttpErr(new CorsError(ctx));
  };
  var mkAbortedError = function(ctx) {
    return new HttpErr(new AbortedError(ctx));
  };
  var http = /* @__PURE__ */ (function() {
    return Http.create;
  })();
  var delay = /* @__PURE__ */ (function() {
    return Delay.create;
  })();
  var animationFrame = /* @__PURE__ */ (function() {
    return AnimationFrame.create;
  })();

  // output/Hydrogen.Target.DOM/foreign.js
  var setAttributeNS = (ns) => (name14) => (value13) => (element2) => () => {
    element2.setAttributeNS(ns, name14, value13);
  };
  var setProperty = (name14) => (value13) => (element2) => () => {
    element2[name14] = value13;
  };
  var setStyleProperty = (prop) => (value13) => (element2) => () => {
    element2.style[prop] = value13;
  };
  var getTargetValue = (event) => {
    const target5 = event.target;
    if (target5 && typeof target5.value === "string") {
      return target5.value;
    }
    return "";
  };
  var getKeyboardKey = (event) => {
    if (typeof event.key === "string") {
      return event.key;
    }
    return "";
  };

  // output/Web.DOM.Document/foreign.js
  var getEffProp = function(name14) {
    return function(doc) {
      return function() {
        return doc[name14];
      };
    };
  };
  var url = getEffProp("URL");
  var documentURI = getEffProp("documentURI");
  var origin = getEffProp("origin");
  var compatMode = getEffProp("compatMode");
  var characterSet = getEffProp("characterSet");
  var contentType = getEffProp("contentType");
  var _documentElement = getEffProp("documentElement");
  function createElement(localName2) {
    return function(doc) {
      return function() {
        return doc.createElement(localName2);
      };
    };
  }
  function _createElementNS(ns) {
    return function(qualifiedName) {
      return function(doc) {
        return function() {
          return doc.createElementNS(ns, qualifiedName);
        };
      };
    };
  }
  function createTextNode(data) {
    return function(doc) {
      return function() {
        return doc.createTextNode(data);
      };
    };
  }

  // output/Data.Nullable/foreign.js
  var nullImpl = null;
  function nullable(a, r, f) {
    return a == null ? r : f(a);
  }
  function notNull(x) {
    return x;
  }

  // output/Data.Nullable/index.js
  var toNullable = /* @__PURE__ */ maybe(nullImpl)(notNull);
  var toMaybe = function(n) {
    return nullable(n, Nothing.value, Just.create);
  };

  // output/Web.DOM.Document/index.js
  var createElementNS = function($6) {
    return _createElementNS(toNullable($6));
  };

  // output/Web.DOM.Element/foreign.js
  var getProp = function(name14) {
    return function(doctype) {
      return doctype[name14];
    };
  };
  var _namespaceURI = getProp("namespaceURI");
  var _prefix = getProp("prefix");
  var localName = getProp("localName");
  var tagName = getProp("tagName");
  function setAttribute(name14) {
    return function(value13) {
      return function(element2) {
        return function() {
          element2.setAttribute(name14, value13);
        };
      };
    };
  }

  // output/Web.DOM.ParentNode/foreign.js
  var getEffProp2 = function(name14) {
    return function(node) {
      return function() {
        return node[name14];
      };
    };
  };
  var children = getEffProp2("children");
  var _firstElementChild = getEffProp2("firstElementChild");
  var _lastElementChild = getEffProp2("lastElementChild");
  var childElementCount = getEffProp2("childElementCount");
  function _querySelector(selector) {
    return function(node) {
      return function() {
        return node.querySelector(selector);
      };
    };
  }

  // output/Web.DOM.ParentNode/index.js
  var map2 = /* @__PURE__ */ map(functorEffect);
  var querySelector = function(qs) {
    var $2 = map2(toMaybe);
    var $3 = _querySelector(qs);
    return function($4) {
      return $2($3($4));
    };
  };

  // output/Web.DOM.Element/index.js
  var toNode = unsafeCoerce2;
  var toEventTarget = unsafeCoerce2;

  // output/Web.DOM.Node/foreign.js
  var getEffProp3 = function(name14) {
    return function(node) {
      return function() {
        return node[name14];
      };
    };
  };
  var baseURI = getEffProp3("baseURI");
  var _ownerDocument = getEffProp3("ownerDocument");
  var _parentNode = getEffProp3("parentNode");
  var _parentElement = getEffProp3("parentElement");
  var childNodes2 = getEffProp3("childNodes");
  var _firstChild = getEffProp3("firstChild");
  var _lastChild = getEffProp3("lastChild");
  var _previousSibling = getEffProp3("previousSibling");
  var _nextSibling = getEffProp3("nextSibling");
  var _nodeValue = getEffProp3("nodeValue");
  var textContent = getEffProp3("textContent");
  function insertBefore(node1) {
    return function(node2) {
      return function(parent2) {
        return function() {
          parent2.insertBefore(node1, node2);
        };
      };
    };
  }
  function appendChild(node) {
    return function(parent2) {
      return function() {
        parent2.appendChild(node);
      };
    };
  }
  function removeChild(node) {
    return function(parent2) {
      return function() {
        parent2.removeChild(node);
      };
    };
  }

  // output/Web.DOM.Node/index.js
  var map3 = /* @__PURE__ */ map(functorEffect);
  var parentNode = /* @__PURE__ */ (function() {
    var $6 = map3(toMaybe);
    return function($7) {
      return $6(_parentNode($7));
    };
  })();

  // output/Web.DOM.Text/index.js
  var toNode2 = unsafeCoerce2;

  // output/Web.Event.EventTarget/foreign.js
  function eventListener(fn) {
    return function() {
      return function(event) {
        return fn(event)();
      };
    };
  }
  function addEventListener(type) {
    return function(listener) {
      return function(useCapture) {
        return function(target5) {
          return function() {
            return target5.addEventListener(type, listener, useCapture);
          };
        };
      };
    };
  }
  function removeEventListener(type) {
    return function(listener) {
      return function(useCapture) {
        return function(target5) {
          return function() {
            return target5.removeEventListener(type, listener, useCapture);
          };
        };
      };
    };
  }

  // output/Hydrogen.Target.DOM/index.js
  var pure2 = /* @__PURE__ */ pure(applicativeEffect);
  var applySecond2 = /* @__PURE__ */ applySecond(applyEffect);
  var traverse_2 = /* @__PURE__ */ traverse_(applicativeEffect)(foldableArray);
  var for_2 = /* @__PURE__ */ for_(applicativeEffect)(foldableArray);
  var map4 = /* @__PURE__ */ map(functorArray);
  var foldM2 = /* @__PURE__ */ foldM(monadEffect);
  var handlerToEvent = function(v) {
    if (v instanceof OnClick) {
      return {
        eventType: "click",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnDoubleClick) {
      return {
        eventType: "dblclick",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnMouseDown) {
      return {
        eventType: "mousedown",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnMouseUp) {
      return {
        eventType: "mouseup",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnMouseMove) {
      return {
        eventType: "mousemove",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnMouseEnter) {
      return {
        eventType: "mouseenter",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnMouseLeave) {
      return {
        eventType: "mouseleave",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnFocus) {
      return {
        eventType: "focus",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnBlur) {
      return {
        eventType: "blur",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnInput) {
      return {
        eventType: "input",
        extract: function(e2) {
          return new Just(v.value0(getTargetValue(e2)));
        }
      };
    }
    ;
    if (v instanceof OnChange) {
      return {
        eventType: "change",
        extract: function(e2) {
          return new Just(v.value0(getTargetValue(e2)));
        }
      };
    }
    ;
    if (v instanceof OnSubmit) {
      return {
        eventType: "submit",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnKeyDown) {
      return {
        eventType: "keydown",
        extract: function(e2) {
          return new Just(v.value0(getKeyboardKey(e2)));
        }
      };
    }
    ;
    if (v instanceof OnKeyUp) {
      return {
        eventType: "keyup",
        extract: function(e2) {
          return new Just(v.value0(getKeyboardKey(e2)));
        }
      };
    }
    ;
    if (v instanceof OnKeyPress) {
      return {
        eventType: "keypress",
        extract: function(e2) {
          return new Just(v.value0(getKeyboardKey(e2)));
        }
      };
    }
    ;
    if (v instanceof OnScroll) {
      return {
        eventType: "scroll",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnWheel) {
      return {
        eventType: "wheel",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnDragStart) {
      return {
        eventType: "dragstart",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnDrag) {
      return {
        eventType: "drag",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnDragEnd) {
      return {
        eventType: "dragend",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnDragEnter) {
      return {
        eventType: "dragenter",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnDragLeave) {
      return {
        eventType: "dragleave",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnDragOver) {
      return {
        eventType: "dragover",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnDrop) {
      return {
        eventType: "drop",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnTouchStart) {
      return {
        eventType: "touchstart",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnTouchMove) {
      return {
        eventType: "touchmove",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnTouchEnd) {
      return {
        eventType: "touchend",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof OnTouchCancel) {
      return {
        eventType: "touchcancel",
        extract: function(v1) {
          return new Just(v.value0);
        }
      };
    }
    ;
    if (v instanceof CustomEvent) {
      return {
        eventType: v.value0,
        extract: function(v1) {
          return new Just(v.value1);
        }
      };
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Target.DOM (line 295, column 18 - line 381, column 59): " + [v.constructor.name]);
  };
  var attachHandler = function(el) {
    return function(dispatch) {
      return function(cleanupRef) {
        return function(handler) {
          var target5 = toEventTarget(el);
          var eventInfo = handlerToEvent(handler);
          return function __do2() {
            var listener = eventListener(function(event) {
              var v = eventInfo.extract(event);
              if (v instanceof Just) {
                return dispatch(v.value0);
              }
              ;
              if (v instanceof Nothing) {
                return pure2(unit);
              }
              ;
              throw new Error("Failed pattern match at Hydrogen.Target.DOM (line 277, column 5 - line 279, column 27): " + [v.constructor.name]);
            })();
            addEventListener(eventInfo.eventType)(listener)(false)(target5)();
            var existingCleanup = read(cleanupRef)();
            return write(applySecond2(existingCleanup)(removeEventListener(eventInfo.eventType)(listener)(false)(target5)))(cleanupRef)();
          };
        };
      };
    };
  };
  var setAttribute2 = function(el) {
    return function(dispatch) {
      return function(cleanupRef) {
        return function(v) {
          if (v instanceof Attr) {
            return setAttribute(v.value0)(v.value1)(el);
          }
          ;
          if (v instanceof AttrNS) {
            return setAttributeNS(v.value0)(v.value1)(v.value2)(el);
          }
          ;
          if (v instanceof Prop) {
            return setProperty(v.value0)(v.value1)(el);
          }
          ;
          if (v instanceof PropBool) {
            if (v.value1) {
              return setAttribute(v.value0)("")(el);
            }
            ;
            return pure2(unit);
          }
          ;
          if (v instanceof Style) {
            return setStyleProperty(v.value0)(v.value1)(el);
          }
          ;
          if (v instanceof Handler) {
            return attachHandler(el)(dispatch)(cleanupRef)(v.value0);
          }
          ;
          throw new Error("Failed pattern match at Hydrogen.Target.DOM (line 238, column 39 - line 257, column 49): " + [v.constructor.name]);
        };
      };
    };
  };
  var setAttributes = function(el) {
    return function(dispatch) {
      return function(cleanupRef) {
        return function(attrs) {
          return traverse_2(setAttribute2(el)(dispatch)(cleanupRef))(attrs);
        };
      };
    };
  };
  var renderElementNode = function(doc) {
    return function(dispatch) {
      return function(maybeNs) {
        return function(tag) {
          return function(attrs) {
            return function(children2) {
              return function __do2() {
                var el = (function() {
                  if (maybeNs instanceof Nothing) {
                    return createElement(tag)(doc)();
                  }
                  ;
                  if (maybeNs instanceof Just && maybeNs.value0 instanceof HTML) {
                    return createElement(tag)(doc)();
                  }
                  ;
                  if (maybeNs instanceof Just && maybeNs.value0 instanceof SVG) {
                    return createElementNS(new Just("http://www.w3.org/2000/svg"))(tag)(doc)();
                  }
                  ;
                  if (maybeNs instanceof Just && maybeNs.value0 instanceof MathML) {
                    return createElementNS(new Just("http://www.w3.org/1998/Math/MathML"))(tag)(doc)();
                  }
                  ;
                  if (maybeNs instanceof Just && maybeNs.value0 instanceof Custom) {
                    return createElementNS(new Just(maybeNs.value0.value0))(tag)(doc)();
                  }
                  ;
                  throw new Error("Failed pattern match at Hydrogen.Target.DOM (line 176, column 9 - line 181, column 64): " + [maybeNs.constructor.name]);
                })();
                var cleanupRef = $$new(pure2(unit))();
                setAttributes(el)(dispatch)(cleanupRef)(attrs)();
                var childResults = renderChildren(doc)(dispatch)(children2)();
                for_2(childResults)(function(result) {
                  return appendChild(result.node)(toNode(el));
                })();
                var attrCleanup = read(cleanupRef)();
                var childCleanups = foldl2(function(acc) {
                  return function(r) {
                    return applySecond2(acc)(r.cleanup);
                  };
                })(pure2(unit))(childResults);
                var cleanup = applySecond2(attrCleanup)(childCleanups);
                return {
                  node: toNode(el),
                  cleanup
                };
              };
            };
          };
        };
      };
    };
  };
  var renderElement = function($copy_doc) {
    return function($copy_dispatch) {
      return function($copy_v) {
        var $tco_var_doc = $copy_doc;
        var $tco_var_dispatch = $copy_dispatch;
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(doc, dispatch, v) {
          if (v instanceof Text) {
            $tco_done = true;
            return function __do2() {
              var textNode = createTextNode(v.value0)(doc)();
              return {
                node: toNode2(textNode),
                cleanup: pure2(unit)
              };
            };
          }
          ;
          if (v instanceof Element) {
            $tco_done = true;
            return renderElementNode(doc)(dispatch)(v.value0.namespace)(v.value0.tag)(v.value0.attributes)(v.value0.children);
          }
          ;
          if (v instanceof Keyed) {
            var children2 = map4(snd)(v.value0.children);
            $tco_done = true;
            return renderElementNode(doc)(dispatch)(v.value0.namespace)(v.value0.tag)(v.value0.attributes)(children2);
          }
          ;
          if (v instanceof Lazy) {
            $tco_var_doc = doc;
            $tco_var_dispatch = dispatch;
            $copy_v = v.value0.thunk(unit);
            return;
          }
          ;
          if (v instanceof Empty) {
            $tco_done = true;
            return function __do2() {
              var textNode = createTextNode("")(doc)();
              return {
                node: toNode2(textNode),
                cleanup: pure2(unit)
              };
            };
          }
          ;
          throw new Error("Failed pattern match at Hydrogen.Target.DOM (line 144, column 30 - line 162, column 60): " + [v.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($tco_var_doc, $tco_var_dispatch, $copy_v);
        }
        ;
        return $tco_result;
      };
    };
  };
  var renderChildren = function(doc) {
    return function(dispatch) {
      return function(children2) {
        return foldM2(function(acc) {
          return function(child) {
            return function __do2() {
              var result = renderElement(doc)(dispatch)(child)();
              return snoc(acc)(result);
            };
          };
        })([])(children2);
      };
    };
  };
  var render = function(doc) {
    return function(dispatch) {
      return renderElement(doc)(dispatch);
    };
  };

  // output/Web.HTML/foreign.js
  var windowImpl = function() {
    return window;
  };

  // output/Web.HTML.HTMLDocument/index.js
  var toParentNode = unsafeCoerce2;
  var toDocument = unsafeCoerce2;

  // output/Web.HTML.Window/foreign.js
  function document2(window2) {
    return function() {
      return window2.document;
    };
  }

  // output/Hydrogen.Runtime.App/index.js
  var pure3 = /* @__PURE__ */ pure(applicativeEffect);
  var for_3 = /* @__PURE__ */ for_(applicativeEffect)(foldableArray);
  var show2 = /* @__PURE__ */ show(showHttpMethod);
  var map5 = /* @__PURE__ */ map(functorArray);
  var applySecond3 = /* @__PURE__ */ applySecond(applyEffect);
  var min4 = /* @__PURE__ */ min(ordInt);
  var when2 = /* @__PURE__ */ when(applicativeEffect);
  var updateTextNode = function(oldText) {
    return function(newText) {
      return function(node) {
        var v = oldText === newText;
        if (v) {
          return pure3(unit);
        }
        ;
        if (!v) {
          return setTextContent(newText)(node);
        }
        ;
        throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 546, column 3 - line 548, column 41): " + [v.constructor.name]);
      };
    };
  };
  var replaceNode = function(doc) {
    return function(dispatch) {
      return function(newEl) {
        return function(oldNode) {
          return function __do2() {
            var result = render(doc)(dispatch)(newEl)();
            var maybeParent = parentNode(oldNode)();
            if (maybeParent instanceof Nothing) {
              return result;
            }
            ;
            if (maybeParent instanceof Just) {
              insertBefore(result.node)(oldNode)(maybeParent.value0)();
              removeChild(oldNode)(maybeParent.value0)();
              return result;
            }
            ;
            throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 502, column 3 - line 507, column 18): " + [maybeParent.constructor.name]);
          };
        };
      };
    };
  };
  var interpretCmd = function(dispatch) {
    return function(v) {
      if (v instanceof None) {
        return pure3(unit);
      }
      ;
      if (v instanceof Batch) {
        return for_3(v.value0)(interpretCmd(dispatch));
      }
      ;
      if (v instanceof Delay) {
        return setTimeout(v.value0)(dispatch(v.value1));
      }
      ;
      if (v instanceof Interval) {
        return function __do2() {
          setInterval(v.value0)(dispatch(v.value1))();
          return unit;
        };
      }
      ;
      if (v instanceof AnimationFrame) {
        return requestAnimationFrame(function(ts) {
          return dispatch(v.value0(ts));
        });
      }
      ;
      if (v instanceof Http) {
        return httpFetch(show2(v.value0.method))(v.value0.url)(v.value0.headers)(v.value0.body)(v.value0.timeout)({
          mkHttpOk,
          mkTimeoutError,
          mkNetworkError,
          mkCorsError,
          mkMixedContentError,
          mkInvalidUrlError,
          mkAbortedError,
          mkUnknownError
        })(function(result) {
          return dispatch(v.value0.expect(result));
        });
      }
      ;
      if (v instanceof Focus) {
        return focusElement(v.value0);
      }
      ;
      if (v instanceof Blur) {
        return blurElement(v.value0);
      }
      ;
      if (v instanceof PushUrl) {
        return pushHistory(v.value0);
      }
      ;
      if (v instanceof ReplaceUrl) {
        return replaceHistory(v.value0);
      }
      ;
      if (v instanceof Back) {
        return historyBack;
      }
      ;
      if (v instanceof Forward) {
        return historyForward;
      }
      ;
      if (v instanceof GetStorage) {
        return function __do2() {
          var value13 = getLocalStorage(v.value0)();
          return dispatch(v.value1(value13))();
        };
      }
      ;
      if (v instanceof SetStorage) {
        return setLocalStorage(v.value0)(v.value1);
      }
      ;
      if (v instanceof RemoveStorage) {
        return removeLocalStorage(v.value0);
      }
      ;
      if (v instanceof CopyToClipboard) {
        return copyText(v.value0);
      }
      ;
      if (v instanceof Log) {
        return consoleLog(v.value0);
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 368, column 25 - line 435, column 20): " + [v.constructor.name]);
    };
  };
  var canReconcile = function(v) {
    return function(v1) {
      if (v instanceof Text && v1 instanceof Text) {
        return true;
      }
      ;
      if (v instanceof Element && v1 instanceof Element) {
        return v.value0.tag === v1.value0.tag;
      }
      ;
      if (v instanceof Keyed && v1 instanceof Keyed) {
        return v.value0.tag === v1.value0.tag;
      }
      ;
      if (v instanceof Empty && v1 instanceof Empty) {
        return true;
      }
      ;
      if (v instanceof Lazy) {
        return true;
      }
      ;
      if (v1 instanceof Lazy) {
        return true;
      }
      ;
      return false;
    };
  };
  var updateNode = function(doc) {
    return function(dispatch) {
      return function(oldEl) {
        return function(newEl) {
          return function(node) {
            if (oldEl instanceof Text && newEl instanceof Text) {
              return function __do2() {
                updateTextNode(oldEl.value0)(newEl.value0)(node)();
                return {
                  node,
                  cleanup: pure3(unit)
                };
              };
            }
            ;
            if (oldEl instanceof Element && newEl instanceof Element) {
              return updateElementNode(doc)(dispatch)(oldEl.value0)(newEl.value0)(node);
            }
            ;
            if (oldEl instanceof Keyed && newEl instanceof Keyed) {
              return updateKeyedNode(doc)(dispatch)(oldEl.value0)(newEl.value0)(node);
            }
            ;
            if (oldEl instanceof Empty && newEl instanceof Empty) {
              return pure3({
                node,
                cleanup: pure3(unit)
              });
            }
            ;
            if (oldEl instanceof Lazy) {
              var forcedOld = oldEl.value0.thunk(unit);
              return reconcileElements(doc)(dispatch)(forcedOld)(newEl)(node);
            }
            ;
            if (newEl instanceof Lazy) {
              var forcedNew = newEl.value0.thunk(unit);
              return reconcileElements(doc)(dispatch)(oldEl)(forcedNew)(node);
            }
            ;
            return replaceNode(doc)(dispatch)(newEl)(node);
          };
        };
      };
    };
  };
  var updateKeyedNode = function(doc) {
    return function(dispatch) {
      return function(oldRec) {
        return function(newRec) {
          return function(node) {
            return function __do2() {
              var cleanupRef = $$new(pure3(unit))();
              var v = nodeToElement(node);
              if (v instanceof Nothing) {
                return {
                  node,
                  cleanup: pure3(unit)
                };
              }
              ;
              if (v instanceof Just) {
                clearAttributes(v.value0)();
                setAttributes(v.value0)(dispatch)(cleanupRef)(newRec.attributes)();
                var oldChildren = map5(snd)(oldRec.children);
                var newChildren = map5(snd)(newRec.children);
                var childCleanups = reconcileChildren(doc)(dispatch)(oldChildren)(newChildren)(node)();
                var attrCleanup = read(cleanupRef)();
                return {
                  node,
                  cleanup: applySecond3(attrCleanup)(childCleanups)
                };
              }
              ;
              throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 600, column 3 - line 611, column 59): " + [v.constructor.name]);
            };
          };
        };
      };
    };
  };
  var updateElementNode = function(doc) {
    return function(dispatch) {
      return function(oldRec) {
        return function(newRec) {
          return function(node) {
            return function __do2() {
              var cleanupRef = $$new(pure3(unit))();
              var v = nodeToElement(node);
              if (v instanceof Nothing) {
                return {
                  node,
                  cleanup: pure3(unit)
                };
              }
              ;
              if (v instanceof Just) {
                clearAttributes(v.value0)();
                setAttributes(v.value0)(dispatch)(cleanupRef)(newRec.attributes)();
                var childCleanups = reconcileChildren(doc)(dispatch)(oldRec.children)(newRec.children)(node)();
                var attrCleanup = read(cleanupRef)();
                return {
                  node,
                  cleanup: applySecond3(attrCleanup)(childCleanups)
                };
              }
              ;
              throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 569, column 3 - line 579, column 59): " + [v.constructor.name]);
            };
          };
        };
      };
    };
  };
  var reconcileElements = function(doc) {
    return function(dispatch) {
      return function(oldEl) {
        return function(newEl) {
          return function(node) {
            var v = canReconcile(oldEl)(newEl);
            if (!v) {
              return replaceNode(doc)(dispatch)(newEl)(node);
            }
            ;
            if (v) {
              return updateNode(doc)(dispatch)(oldEl)(newEl)(node);
            }
            ;
            throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 470, column 3 - line 472, column 53): " + [v.constructor.name]);
          };
        };
      };
    };
  };
  var reconcileChildren = function(doc) {
    return function(dispatch) {
      return function(oldChildren) {
        return function(newChildren) {
          return function(parentNode2) {
            return function __do2() {
              var domChildren = childNodes(parentNode2)();
              var oldLen = length(oldChildren);
              var newLen = length(newChildren);
              var commonLen = min4(oldLen)(newLen);
              var cleanups = forWithIndex(take(commonLen)(newChildren))(function(i) {
                return function(newChild) {
                  var v = index(domChildren)(i);
                  var v1 = index(oldChildren)(i);
                  if (v1 instanceof Just && v instanceof Just) {
                    return reconcileElements(doc)(dispatch)(v1.value0)(newChild)(v.value0);
                  }
                  ;
                  return function __do3() {
                    var result = render(doc)(dispatch)(newChild)();
                    appendChild(result.node)(parentNode2)();
                    return result;
                  };
                };
              })();
              when2(oldLen > newLen)(for_3(drop(newLen)(domChildren))(function(domChild) {
                return removeChild(domChild)(parentNode2);
              }))();
              when2(newLen > oldLen)(for_3(drop(oldLen)(newChildren))(function(newChild) {
                return function __do3() {
                  var result = render(doc)(dispatch)(newChild)();
                  return appendChild(result.node)(parentNode2)();
                };
              }))();
              return foldl2(function(acc) {
                return function(r) {
                  return applySecond3(acc)(r.cleanup);
                };
              })(pure3(unit))(cleanups);
            };
          };
        };
      };
    };
  };
  var reconcile = function(doc) {
    return function(dispatch) {
      return function(oldEl) {
        return function(newEl) {
          return function(node) {
            return reconcileElements(doc)(dispatch)(oldEl)(newEl)(node);
          };
        };
      };
    };
  };
  var mountCmdTo = function(doc) {
    return function(container) {
      return function(app) {
        var initialElement = app.view(app.init.state);
        return function __do2() {
          var runtimeRef = $$new(Nothing.value)();
          var dispatchMsg = function(msg) {
            return function __do3() {
              var maybeRuntime = read(runtimeRef)();
              if (maybeRuntime instanceof Nothing) {
                return unit;
              }
              ;
              if (maybeRuntime instanceof Just) {
                var transition2 = app.update(msg)(maybeRuntime.value0.state);
                var newElement = app.view(transition2.state);
                var reconcileResult = reconcile(doc)(dispatchMsg)(maybeRuntime.value0.element)(newElement)(maybeRuntime.value0.rootNode)();
                maybeRuntime.value0.cleanup();
                write(new Just({
                  document: maybeRuntime.value0.document,
                  rootNode: maybeRuntime.value0.rootNode,
                  state: transition2.state,
                  element: newElement,
                  cleanup: reconcileResult.cleanup
                }))(runtimeRef)();
                return interpretCmd(dispatchMsg)(transition2.cmd)();
              }
              ;
              throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 304, column 7 - line 324, column 50): " + [maybeRuntime.constructor.name]);
            };
          };
          var renderResult = render(doc)(dispatchMsg)(initialElement)();
          appendChild(renderResult.node)(container)();
          write(new Just({
            state: app.init.state,
            element: initialElement,
            rootNode: renderResult.node,
            cleanup: renderResult.cleanup,
            document: doc
          }))(runtimeRef)();
          interpretCmd(dispatchMsg)(app.init.cmd)();
          return {
            getState: function __do3() {
              var maybeRuntime = read(runtimeRef)();
              if (maybeRuntime instanceof Nothing) {
                return app.init.state;
              }
              ;
              if (maybeRuntime instanceof Just) {
                return maybeRuntime.value0.state;
              }
              ;
              throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 346, column 9 - line 348, column 45): " + [maybeRuntime.constructor.name]);
            },
            dispatch: dispatchMsg,
            shutdown: function __do3() {
              var maybeRuntime = read(runtimeRef)();
              if (maybeRuntime instanceof Nothing) {
                return unit;
              }
              ;
              if (maybeRuntime instanceof Just) {
                maybeRuntime.value0.cleanup();
                removeChild(maybeRuntime.value0.rootNode)(container)();
                return write(Nothing.value)(runtimeRef)();
              }
              ;
              throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 352, column 9 - line 357, column 41): " + [maybeRuntime.constructor.name]);
            }
          };
        };
      };
    };
  };
  var mountCmd = function(selector) {
    return function(app) {
      return function __do2() {
        var win = windowImpl();
        var htmlDoc = document2(win)();
        var doc = toDocument(htmlDoc);
        var parentNode2 = toParentNode(htmlDoc);
        var maybeEl = querySelector(selector)(parentNode2)();
        if (maybeEl instanceof Nothing) {
          return Nothing.value;
        }
        ;
        if (maybeEl instanceof Just) {
          var handle = mountCmdTo(doc)(toNode(maybeEl.value0))(app)();
          return new Just(handle);
        }
        ;
        throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 277, column 3 - line 281, column 25): " + [maybeEl.constructor.name]);
      };
    };
  };
  var mountTo = function(doc) {
    return function(container) {
      return function(app) {
        var initialElement = app.view(app.init);
        return function __do2() {
          var runtimeRef = $$new(Nothing.value)();
          var dispatchMsg = function(msg) {
            return function __do3() {
              var maybeRuntime = read(runtimeRef)();
              if (maybeRuntime instanceof Nothing) {
                return unit;
              }
              ;
              if (maybeRuntime instanceof Just) {
                var newState = app.update(msg)(maybeRuntime.value0.state);
                var newElement = app.view(newState);
                var reconcileResult = reconcile(doc)(dispatchMsg)(maybeRuntime.value0.element)(newElement)(maybeRuntime.value0.rootNode)();
                maybeRuntime.value0.cleanup();
                return write(new Just({
                  document: maybeRuntime.value0.document,
                  rootNode: maybeRuntime.value0.rootNode,
                  state: newState,
                  element: newElement,
                  cleanup: reconcileResult.cleanup
                }))(runtimeRef)();
              }
              ;
              throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 210, column 7 - line 226, column 26): " + [maybeRuntime.constructor.name]);
            };
          };
          var renderResult = render(doc)(dispatchMsg)(initialElement)();
          appendChild(renderResult.node)(container)();
          write(new Just({
            state: app.init,
            element: initialElement,
            rootNode: renderResult.node,
            cleanup: renderResult.cleanup,
            document: doc
          }))(runtimeRef)();
          return {
            getState: function __do3() {
              var maybeRuntime = read(runtimeRef)();
              if (maybeRuntime instanceof Nothing) {
                return app.init;
              }
              ;
              if (maybeRuntime instanceof Just) {
                return maybeRuntime.value0.state;
              }
              ;
              throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 245, column 9 - line 247, column 45): " + [maybeRuntime.constructor.name]);
            },
            dispatch: dispatchMsg,
            shutdown: function __do3() {
              var maybeRuntime = read(runtimeRef)();
              if (maybeRuntime instanceof Nothing) {
                return unit;
              }
              ;
              if (maybeRuntime instanceof Just) {
                maybeRuntime.value0.cleanup();
                removeChild(maybeRuntime.value0.rootNode)(container)();
                return write(Nothing.value)(runtimeRef)();
              }
              ;
              throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 251, column 9 - line 256, column 41): " + [maybeRuntime.constructor.name]);
            }
          };
        };
      };
    };
  };
  var mount = function(selector) {
    return function(app) {
      return function __do2() {
        var win = windowImpl();
        var htmlDoc = document2(win)();
        var doc = toDocument(htmlDoc);
        var parentNode2 = toParentNode(htmlDoc);
        var maybeEl = querySelector(selector)(parentNode2)();
        if (maybeEl instanceof Nothing) {
          return Nothing.value;
        }
        ;
        if (maybeEl instanceof Just) {
          var handle = mountTo(doc)(toNode(maybeEl.value0))(app)();
          return new Just(handle);
        }
        ;
        throw new Error("Failed pattern match at Hydrogen.Runtime.App (line 182, column 3 - line 186, column 25): " + [maybeEl.constructor.name]);
      };
    };
  };

  // output/Hydrogen.Runtime.Example/foreign.js
  var foreignToString = (value13) => {
    if (value13 === null) {
      return "null";
    }
    if (value13 === void 0) {
      return "undefined";
    }
    if (typeof value13 === "string") {
      return value13;
    }
    if (typeof value13 === "object") {
      try {
        return JSON.stringify(value13, null, 2);
      } catch (e2) {
        return "[Object]";
      }
    }
    return String(value13);
  };

  // output/Data.Number/foreign.js
  var abs = Math.abs;
  var cos = Math.cos;
  var exp = Math.exp;
  var sin = Math.sin;
  var sqrt = Math.sqrt;

  // output/Hydrogen.Motion.Spring/index.js
  var springVelocity = function(config) {
    return function(from) {
      return function(to) {
        return function(t) {
          var delta = to - from;
          var dampingRatio = config.damping / (2 * sqrt(config.stiffness * config.mass));
          var angularFreq = sqrt(config.stiffness / config.mass);
          var dampedFreq = angularFreq * sqrt(1 - dampingRatio * dampingRatio);
          var expDecay = exp(-dampingRatio * angularFreq * t);
          var $10 = dampingRatio >= 1;
          if ($10) {
            return delta * angularFreq * angularFreq * t * expDecay;
          }
          ;
          return delta * expDecay * dampedFreq * sin(dampedFreq * t);
        };
      };
    };
  };
  var springValue = function(config) {
    return function(from) {
      return function(to) {
        return function(t) {
          var delta = to - from;
          var dampingRatio = config.damping / (2 * sqrt(config.stiffness * config.mass));
          var angularFreq = sqrt(config.stiffness / config.mass);
          var dampedFreq = angularFreq * sqrt(1 - dampingRatio * dampingRatio);
          var expDecay = exp(-dampingRatio * angularFreq * t);
          var oscillation = cos(dampedFreq * t) + dampingRatio * angularFreq / dampedFreq * sin(dampedFreq * t);
          var $11 = dampingRatio >= 1;
          if ($11) {
            return to - delta * expDecay * (1 + angularFreq * t);
          }
          ;
          return to - delta * expDecay * oscillation;
        };
      };
    };
  };
  var springConfig = function(stiffness) {
    return function(damping) {
      return {
        stiffness,
        damping,
        mass: 1,
        velocity: 0,
        precision: 0.01
      };
    };
  };
  var springWobbly = /* @__PURE__ */ springConfig(180)(12);
  var isAtRest = function(config) {
    return function(from) {
      return function(to) {
        return function(t) {
          var currentVelocity = springVelocity(config)(from)(to)(t);
          var currentValue = springValue(config)(from)(to)(t);
          return abs(currentValue - to) < config.precision && abs(currentVelocity) < config.precision;
        };
      };
    };
  };

  // output/Hydrogen.Math.Core/foreign.js
  var tau = Math.PI * 2;

  // output/Hydrogen.Runtime.Animate/index.js
  var tickSpring = function(timestamp) {
    return function(state2) {
      if (state2.complete) {
        return state2;
      }
      ;
      if (!state2.complete) {
        var elapsed = (timestamp - state2.startTime) / 1e3;
        var newValue = springValue(state2.config)(state2.from)(state2.to)(elapsed);
        var atRest = isAtRest(state2.config)(state2.from)(state2.to)(elapsed);
        return {
          config: state2.config,
          from: state2.from,
          to: state2.to,
          startTime: state2.startTime,
          currentValue: newValue,
          complete: atRest
        };
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Animate (line 143, column 3 - line 160, column 12): " + [state2.complete.constructor.name]);
    };
  };
  var springValue2 = function(s) {
    return s.currentValue;
  };
  var springTo = function(state2) {
    return function(target5) {
      return function(timestamp) {
        return {
          config: state2.config,
          from: state2.currentValue,
          to: target5,
          startTime: timestamp,
          currentValue: state2.currentValue,
          complete: false
        };
      };
    };
  };
  var springState = function(config) {
    return function(initialValue) {
      return {
        config,
        from: initialValue,
        to: initialValue,
        startTime: 0,
        currentValue: initialValue,
        complete: true
      };
    };
  };
  var springComplete = function(s) {
    return s.complete;
  };

  // output/Hydrogen.Runtime.Example/index.js
  var map6 = /* @__PURE__ */ map(functorArray);
  var show3 = /* @__PURE__ */ show(showNumber);
  var show1 = /* @__PURE__ */ show(showInt);
  var div2 = /* @__PURE__ */ div(euclideanRingInt);
  var AddTodo = /* @__PURE__ */ (function() {
    function AddTodo2() {
    }
    ;
    AddTodo2.value = new AddTodo2();
    return AddTodo2;
  })();
  var RemoveTodo = /* @__PURE__ */ (function() {
    function RemoveTodo2(value0) {
      this.value0 = value0;
    }
    ;
    RemoveTodo2.create = function(value0) {
      return new RemoveTodo2(value0);
    };
    return RemoveTodo2;
  })();
  var ToggleTodo = /* @__PURE__ */ (function() {
    function ToggleTodo2(value0) {
      this.value0 = value0;
    }
    ;
    ToggleTodo2.create = function(value0) {
      return new ToggleTodo2(value0);
    };
    return ToggleTodo2;
  })();
  var UpdateInput = /* @__PURE__ */ (function() {
    function UpdateInput2(value0) {
      this.value0 = value0;
    }
    ;
    UpdateInput2.create = function(value0) {
      return new UpdateInput2(value0);
    };
    return UpdateInput2;
  })();
  var ClearCompleted = /* @__PURE__ */ (function() {
    function ClearCompleted2() {
    }
    ;
    ClearCompleted2.value = new ClearCompleted2();
    return ClearCompleted2;
  })();
  var StartTimer = /* @__PURE__ */ (function() {
    function StartTimer2() {
    }
    ;
    StartTimer2.value = new StartTimer2();
    return StartTimer2;
  })();
  var StopTimer = /* @__PURE__ */ (function() {
    function StopTimer2() {
    }
    ;
    StopTimer2.value = new StopTimer2();
    return StopTimer2;
  })();
  var ResetTimer = /* @__PURE__ */ (function() {
    function ResetTimer2() {
    }
    ;
    ResetTimer2.value = new ResetTimer2();
    return ResetTimer2;
  })();
  var Tick = /* @__PURE__ */ (function() {
    function Tick2() {
    }
    ;
    Tick2.value = new Tick2();
    return Tick2;
  })();
  var MoveLeft = /* @__PURE__ */ (function() {
    function MoveLeft2() {
    }
    ;
    MoveLeft2.value = new MoveLeft2();
    return MoveLeft2;
  })();
  var MoveRight = /* @__PURE__ */ (function() {
    function MoveRight2() {
    }
    ;
    MoveRight2.value = new MoveRight2();
    return MoveRight2;
  })();
  var MoveCenter = /* @__PURE__ */ (function() {
    function MoveCenter2() {
    }
    ;
    MoveCenter2.value = new MoveCenter2();
    return MoveCenter2;
  })();
  var AnimTick = /* @__PURE__ */ (function() {
    function AnimTick2(value0) {
      this.value0 = value0;
    }
    ;
    AnimTick2.create = function(value0) {
      return new AnimTick2(value0);
    };
    return AnimTick2;
  })();
  var NotStarted = /* @__PURE__ */ (function() {
    function NotStarted2() {
    }
    ;
    NotStarted2.value = new NotStarted2();
    return NotStarted2;
  })();
  var FetchSuccess = /* @__PURE__ */ (function() {
    function FetchSuccess2(value0) {
      this.value0 = value0;
    }
    ;
    FetchSuccess2.create = function(value0) {
      return new FetchSuccess2(value0);
    };
    return FetchSuccess2;
  })();
  var FetchError = /* @__PURE__ */ (function() {
    function FetchError2(value0) {
      this.value0 = value0;
    }
    ;
    FetchError2.create = function(value0) {
      return new FetchError2(value0);
    };
    return FetchError2;
  })();
  var FetchData = /* @__PURE__ */ (function() {
    function FetchData2() {
    }
    ;
    FetchData2.value = new FetchData2();
    return FetchData2;
  })();
  var FetchComplete = /* @__PURE__ */ (function() {
    function FetchComplete2(value0) {
      this.value0 = value0;
    }
    ;
    FetchComplete2.create = function(value0) {
      return new FetchComplete2(value0);
    };
    return FetchComplete2;
  })();
  var ClearResult = /* @__PURE__ */ (function() {
    function ClearResult2() {
    }
    ;
    ClearResult2.value = new ClearResult2();
    return ClearResult2;
  })();
  var Increment = /* @__PURE__ */ (function() {
    function Increment2() {
    }
    ;
    Increment2.value = new Increment2();
    return Increment2;
  })();
  var Decrement = /* @__PURE__ */ (function() {
    function Decrement2() {
    }
    ;
    Decrement2.value = new Decrement2();
    return Decrement2;
  })();
  var Reset = /* @__PURE__ */ (function() {
    function Reset2() {
    }
    ;
    Reset2.value = new Reset2();
    return Reset2;
  })();
  var Add = /* @__PURE__ */ (function() {
    function Add2(value0) {
      this.value0 = value0;
    }
    ;
    Add2.create = function(value0) {
      return new Add2(value0);
    };
    return Add2;
  })();
  var toggleItem = function(id2) {
    return function(items) {
      return map6(function(item) {
        var v = item.id === id2;
        if (v) {
          return {
            id: item.id,
            text: item.text,
            completed: item.completed === false
          };
        }
        ;
        if (!v) {
          return item;
        }
        ;
        throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 266, column 5 - line 268, column 20): " + [v.constructor.name]);
      })(items);
    };
  };
  var todoUpdate = function(msg) {
    return function(state2) {
      if (msg instanceof AddTodo) {
        var v = state2.inputText === "";
        if (v) {
          return state2;
        }
        ;
        if (!v) {
          return {
            items: snoc(state2.items)({
              id: state2.nextId,
              text: state2.inputText,
              completed: false
            }),
            nextId: state2.nextId + 1 | 0,
            inputText: ""
          };
        }
        ;
        throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 238, column 5 - line 248, column 10): " + [v.constructor.name]);
      }
      ;
      if (msg instanceof RemoveTodo) {
        return {
          nextId: state2.nextId,
          inputText: state2.inputText,
          items: filter(function(item) {
            return item.id === msg.value0 === false;
          })(state2.items)
        };
      }
      ;
      if (msg instanceof ToggleTodo) {
        return {
          nextId: state2.nextId,
          inputText: state2.inputText,
          items: toggleItem(msg.value0)(state2.items)
        };
      }
      ;
      if (msg instanceof UpdateInput) {
        return {
          items: state2.items,
          nextId: state2.nextId,
          inputText: msg.value0
        };
      }
      ;
      if (msg instanceof ClearCompleted) {
        return {
          nextId: state2.nextId,
          inputText: state2.inputText,
          items: filter(function(item) {
            return item.completed === false;
          })(state2.items)
        };
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 236, column 24 - line 260, column 76): " + [msg.constructor.name]);
    };
  };
  var todoInput = function(currentText) {
    return div_([class_("flex gap-2 mb-4")])([input_([type_("text"), value(currentText), placeholder("What needs to be done?"), onInput(UpdateInput.create), class_("flex-1 px-3 py-2 border rounded")]), button_([onClick(AddTodo.value), class_("px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600")])([text("Add")])]);
  };
  var timerUpdate = function(msg) {
    return function(state2) {
      if (msg instanceof StartTimer) {
        if (state2.running) {
          return noCmd(state2);
        }
        ;
        if (!state2.running) {
          return transition({
            seconds: state2.seconds,
            running: true
          })(delay(1e3)(Tick.value));
        }
        ;
        throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 392, column 5 - line 397, column 30): " + [state2.running.constructor.name]);
      }
      ;
      if (msg instanceof StopTimer) {
        return noCmd({
          seconds: state2.seconds,
          running: false
        });
      }
      ;
      if (msg instanceof ResetTimer) {
        return noCmd({
          seconds: 0,
          running: false
        });
      }
      ;
      if (msg instanceof Tick) {
        if (!state2.running) {
          return noCmd(state2);
        }
        ;
        if (state2.running) {
          return transition({
            running: state2.running,
            seconds: state2.seconds + 1 | 0
          })(delay(1e3)(Tick.value));
        }
        ;
        throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 406, column 5 - line 411, column 30): " + [state2.running.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 390, column 25 - line 411, column 30): " + [msg.constructor.name]);
    };
  };
  var timerButton = function(msg) {
    return function(label4) {
      return function(colorClass) {
        return button_([onClick(msg), class_("px-6 py-3 text-white rounded-lg font-medium " + colorClass)])([text(label4)]);
      };
    };
  };
  var textClass = function(completed) {
    if (completed) {
      return "flex-1 line-through text-gray-400";
    }
    ;
    if (!completed) {
      return "flex-1";
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 333, column 23 - line 335, column 20): " + [completed.constructor.name]);
  };
  var todoItemView = function(item) {
    return li_([class_("flex items-center gap-3 p-2 bg-gray-50 rounded")])([input_([type_("checkbox"), checked(item.completed), onClick(new ToggleTodo(item.id)), class_("w-5 h-5")]), span_([class_(textClass(item.completed))])([text(item.text)]), button_([onClick(new RemoveTodo(item.id)), class_("ml-auto text-red-500 hover:text-red-700")])([text("\xD7")])]);
  };
  var todoList = function(items) {
    return ul_([class_("space-y-2 mb-4")])(map6(todoItemView)(items));
  };
  var springDemoUpdate = function(msg) {
    return function(state2) {
      if (msg instanceof MoveLeft) {
        var newPos = springTo(state2.position)(50)(0);
        return transition({
          position: newPos,
          targetX: 50
        })(animationFrame(AnimTick.create));
      }
      ;
      if (msg instanceof MoveRight) {
        var newPos = springTo(state2.position)(350)(0);
        return transition({
          position: newPos,
          targetX: 350
        })(animationFrame(AnimTick.create));
      }
      ;
      if (msg instanceof MoveCenter) {
        var newPos = springTo(state2.position)(200)(0);
        return transition({
          position: newPos,
          targetX: 200
        })(animationFrame(AnimTick.create));
      }
      ;
      if (msg instanceof AnimTick) {
        var newPos = tickSpring(msg.value0)(state2.position);
        var v = springComplete(newPos);
        if (v) {
          return noCmd({
            targetX: state2.targetX,
            position: newPos
          });
        }
        ;
        if (!v) {
          return transition({
            targetX: state2.targetX,
            position: newPos
          })(animationFrame(AnimTick.create));
        }
        ;
        throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 513, column 8 - line 515, column 80): " + [v.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 498, column 30 - line 515, column 80): " + [msg.constructor.name]);
    };
  };
  var springButton = function(msg) {
    return function(label4) {
      return function(colorClass) {
        return button_([onClick(msg), class_("px-6 py-3 text-white rounded-lg font-medium " + colorClass)])([text(label4)]);
      };
    };
  };
  var springDemoView = function(state2) {
    var currentX = springValue2(state2.position);
    return div_([class_("spring-demo p-8")])([h1_([class_("text-3xl font-bold mb-6")])([text("Spring Animation Demo")]), div_([class_("relative h-32 bg-gray-100 rounded-lg mb-6")])([div_([class_("absolute top-1/2 -translate-y-1/2 w-16 h-16 bg-blue-500 rounded-full"), style("transform")("translateX(" + (show3(currentX) + "px) translateY(-50%)")), style("transition")("none")])([])]), div_([class_("flex justify-center gap-4")])([springButton(MoveLeft.value)("\u2190 Left")("bg-purple-500 hover:bg-purple-600"), springButton(MoveCenter.value)("Center")("bg-gray-500 hover:bg-gray-600"), springButton(MoveRight.value)("Right \u2192")("bg-purple-500 hover:bg-purple-600")]), p_([class_("text-center text-sm text-gray-500 mt-4")])([text("Position: " + (show3(currentX) + ("px (target: " + (show3(state2.targetX) + "px)"))))])]);
  };
  var springDemoApp = {
    init: /* @__PURE__ */ noCmd({
      position: /* @__PURE__ */ springState(springWobbly)(200),
      targetX: 200
    }),
    update: springDemoUpdate,
    view: springDemoView
  };
  var renderSuggestion = function(suggestion) {
    return li_([class_("pl-2")])([text(suggestion)]);
  };
  var padZero = function(n) {
    var v = n < 10;
    if (v) {
      return "0" + show1(n);
    }
    ;
    if (!v) {
      return show1(n);
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 459, column 13 - line 461, column 18): " + [v.constructor.name]);
  };
  var itemsRemaining = function(items) {
    var active = filter(function(item) {
      return item.completed === false;
    })(items);
    return show1(length(active)) + " items left";
  };
  var todoFooter = function(items) {
    return div_([class_("flex justify-between text-sm text-gray-500")])([span_([])([text(itemsRemaining(items))]), button_([onClick(ClearCompleted.value), class_("text-blue-500 hover:underline")])([text("Clear completed")])]);
  };
  var todoView = function(state2) {
    return div_([class_("todo-app max-w-md mx-auto p-6")])([h1_([class_("text-2xl font-bold mb-4")])([text("Hydrogen Todo")]), todoInput(state2.inputText), todoList(state2.items), todoFooter(state2.items)]);
  };
  var todoApp = {
    init: {
      items: [],
      nextId: 1,
      inputText: ""
    },
    update: todoUpdate,
    view: todoView
  };
  var httpResultToFetchResult = function(httpResult) {
    if (httpResult instanceof HttpOk) {
      return new FetchSuccess(httpResult.value0);
    }
    ;
    if (httpResult instanceof HttpErr) {
      return new FetchError(httpResult.value0);
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 632, column 38 - line 634, column 32): " + [httpResult.constructor.name]);
  };
  var formatTime = function(totalSeconds) {
    var minutes = div2(totalSeconds)(60);
    var seconds = totalSeconds - (minutes * 60 | 0) | 0;
    return padZero(minutes) + (":" + padZero(seconds));
  };
  var timerView = function(state2) {
    return div_([class_("timer-app p-8 text-center")])([h1_([class_("text-3xl font-bold mb-6")])([text("Hydrogen Timer")]), div_([class_("text-6xl font-mono mb-8")])([text(formatTime(state2.seconds))]), div_([class_("flex justify-center gap-4")])([timerButton((function() {
      if (state2.running) {
        return StopTimer.value;
      }
      ;
      if (!state2.running) {
        return StartTimer.value;
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 427, column 14 - line 429, column 34): " + [state2.running.constructor.name]);
    })())((function() {
      if (state2.running) {
        return "Stop";
      }
      ;
      if (!state2.running) {
        return "Start";
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 430, column 14 - line 432, column 31): " + [state2.running.constructor.name]);
    })())((function() {
      if (state2.running) {
        return "bg-red-500 hover:bg-red-600";
      }
      ;
      if (!state2.running) {
        return "bg-green-500 hover:bg-green-600";
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 433, column 14 - line 435, column 57): " + [state2.running.constructor.name]);
    })()), timerButton(ResetTimer.value)("Reset")("bg-gray-500 hover:bg-gray-600")])]);
  };
  var timerApp = {
    init: /* @__PURE__ */ noCmd({
      seconds: 0,
      running: false
    }),
    update: timerUpdate,
    view: timerView
  };
  var fetchUpdate = function(msg) {
    return function(state2) {
      if (msg instanceof FetchData) {
        if (state2.loading) {
          return noCmd(state2);
        }
        ;
        if (!state2.loading) {
          return transition({
            result: state2.result,
            loading: true,
            requestCount: state2.requestCount + 1 | 0
          })(http({
            method: GET.value,
            url: "https://jsonplaceholder.typicode.com/posts/1",
            headers: [],
            body: Nothing.value,
            expect: FetchComplete.create,
            timeout: Nothing.value
          }));
        }
        ;
        throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 607, column 5 - line 619, column 15): " + [state2.loading.constructor.name]);
      }
      ;
      if (msg instanceof FetchComplete) {
        return noCmd({
          requestCount: state2.requestCount,
          loading: false,
          result: httpResultToFetchResult(msg.value0)
        });
      }
      ;
      if (msg instanceof ClearResult) {
        return noCmd({
          loading: state2.loading,
          requestCount: state2.requestCount,
          result: NotStarted.value
        });
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 605, column 25 - line 628, column 40): " + [msg.constructor.name]);
    };
  };
  var errorTypeName = function(err) {
    if (err instanceof TimeoutError) {
      return "Request Timeout";
    }
    ;
    if (err instanceof NetworkError) {
      return "Network Error";
    }
    ;
    if (err instanceof CorsError) {
      return "CORS Error";
    }
    ;
    if (err instanceof MixedContentError) {
      return "Mixed Content Error";
    }
    ;
    if (err instanceof InvalidUrlError) {
      return "Invalid URL";
    }
    ;
    if (err instanceof AbortedError) {
      return "Request Aborted";
    }
    ;
    if (err instanceof UnknownError) {
      return "Unknown Error";
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 789, column 21 - line 796, column 36): " + [err.constructor.name]);
  };
  var errorContext = function(err) {
    if (err instanceof TimeoutError) {
      return err.value0;
    }
    ;
    if (err instanceof NetworkError) {
      return err.value0;
    }
    ;
    if (err instanceof CorsError) {
      return err.value0;
    }
    ;
    if (err instanceof MixedContentError) {
      return err.value0;
    }
    ;
    if (err instanceof InvalidUrlError) {
      return err.value0;
    }
    ;
    if (err instanceof AbortedError) {
      return err.value0;
    }
    ;
    if (err instanceof UnknownError) {
      return err.value0;
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 800, column 20 - line 807, column 26): " + [err.constructor.name]);
  };
  var counterUpdate = function(msg) {
    return function(state2) {
      if (msg instanceof Increment) {
        return {
          count: state2.count + 1 | 0
        };
      }
      ;
      if (msg instanceof Decrement) {
        return {
          count: state2.count - 1 | 0
        };
      }
      ;
      if (msg instanceof Reset) {
        return {
          count: 0
        };
      }
      ;
      if (msg instanceof Add) {
        return {
          count: state2.count + msg.value0 | 0
        };
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 143, column 27 - line 147, column 45): " + [msg.constructor.name]);
    };
  };
  var counterButton = function(msg) {
    return function(label4) {
      return function(colorClass) {
        return button_([onClick(msg), class_("px-4 py-2 text-white rounded font-medium " + colorClass)])([text(label4)]);
      };
    };
  };
  var countColor = function(n) {
    if (n > 0) {
      return "green";
    }
    ;
    if (n < 0) {
      return "red";
    }
    ;
    if (otherwise) {
      return "black";
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 185, column 1 - line 185, column 28): " + [n.constructor.name]);
  };
  var counterView = function(state2) {
    return div_([class_("counter-app p-8")])([h1_([class_("text-3xl font-bold mb-6")])([text("Hydrogen Counter")]), div_([class_("flex items-center gap-4 mb-4")])([counterButton(Decrement.value)("-")("bg-red-500 hover:bg-red-600"), span_([class_("text-4xl font-mono min-w-24 text-center"), style("color")(countColor(state2.count))])([text(show1(state2.count))]), counterButton(Increment.value)("+")("bg-green-500 hover:bg-green-600")]), div_([class_("flex gap-2")])([counterButton(Reset.value)("Reset")("bg-gray-500 hover:bg-gray-600"), counterButton(new Add(10))("+10")("bg-blue-500 hover:bg-blue-600"), counterButton(new Add(-10 | 0))("-10")("bg-purple-500 hover:bg-purple-600")])]);
  };
  var counterApp = {
    init: {
      count: 0
    },
    update: counterUpdate,
    view: counterView
  };
  var clearButton = /* @__PURE__ */ (function() {
    return button_([onClick(ClearResult.value), class_("text-sm text-gray-500 hover:text-gray-700")])([text("Clear")]);
  })();
  var renderError = function(err) {
    var ctx = errorContext(err);
    return div_([class_("bg-red-50 border border-red-200 rounded-lg overflow-hidden")])([div_([class_("bg-red-100 px-4 py-3 flex items-center justify-between")])([div_([class_("flex items-center gap-2")])([span_([class_("text-red-600 font-bold")])([text(errorTypeName(err))])]), clearButton]), div_([class_("px-4 py-3 border-b border-red-200")])([h4_([class_("text-sm font-semibold text-red-800 mb-1")])([text("What happened:")]), p_([class_("text-red-700")])([text(ctx.cause)])]), div_([class_("px-4 py-3 border-b border-red-200 bg-red-50")])([h4_([class_("text-sm font-semibold text-red-800 mb-2")])([text("Request details:")]), div_([class_("text-sm text-red-700 space-y-1")])([div_([])([text("URL: " + ctx.url)]), div_([])([text("Method: " + ctx.method)]), div_([])([text("Time: " + ctx.timestamp)])])]), div_([class_("px-4 py-3")])([h4_([class_("text-sm font-semibold text-red-800 mb-2")])([text("How to fix:")]), ul_([class_("text-sm text-red-700 space-y-1")])(map6(renderSuggestion)(ctx.suggestions))]), div_([class_("px-4 py-2 bg-red-100 text-xs text-red-600")])([text("Browser error: " + (ctx.browserError + (" \u2014 " + ctx.browserMessage)))])]);
  };
  var renderSuccess = function(success) {
    var isHttpError = success.status > 399;
    var statusClass = (function() {
      if (isHttpError) {
        return "text-yellow-700 font-medium";
      }
      ;
      if (!isHttpError) {
        return "text-green-700 font-medium";
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 703, column 19 - line 705, column 44): " + [isHttpError.constructor.name]);
    })();
    var bgClass = (function() {
      if (isHttpError) {
        return "p-4 bg-yellow-100 rounded-lg";
      }
      ;
      if (!isHttpError) {
        return "p-4 bg-green-100 rounded-lg";
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 700, column 15 - line 702, column 45): " + [isHttpError.constructor.name]);
    })();
    return div_([class_(bgClass)])([div_([class_("flex items-center justify-between mb-2")])([span_([class_(statusClass)])([text("HTTP " + (show1(success.status) + (" " + success.statusText)))]), clearButton]), pre_([class_("text-sm bg-white p-3 rounded overflow-x-auto max-h-48")])([text(foreignToString(success.body))])]);
  };
  var fetchResultView = function(result) {
    if (result instanceof NotStarted) {
      return div_([class_("p-4 bg-gray-100 rounded-lg text-gray-500")])([text("Click the button to fetch data")]);
    }
    ;
    if (result instanceof FetchSuccess) {
      return renderSuccess(result.value0);
    }
    ;
    if (result instanceof FetchError) {
      return renderError(result.value0);
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 683, column 26 - line 693, column 20): " + [result.constructor.name]);
  };
  var buttonLabel = function(loading) {
    if (loading) {
      return "Loading...";
    }
    ;
    if (!loading) {
      return "Fetch Post";
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 677, column 23 - line 679, column 24): " + [loading.constructor.name]);
  };
  var buttonClass = function(loading) {
    if (loading) {
      return "px-6 py-3 bg-gray-400 text-white rounded-lg font-medium cursor-not-allowed";
    }
    ;
    if (!loading) {
      return "px-6 py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600";
    }
    ;
    throw new Error("Failed pattern match at Hydrogen.Runtime.Example (line 671, column 23 - line 673, column 87): " + [loading.constructor.name]);
  };
  var fetchButton = function(loading) {
    return button_([onClick(FetchData.value), class_(buttonClass(loading)), disabled(loading)])([text(buttonLabel(loading))]);
  };
  var fetchView = function(state2) {
    return div_([class_("fetch-demo p-8")])([h1_([class_("text-3xl font-bold mb-6")])([text("HTTP Fetch Demo")]), p_([class_("text-sm text-gray-500 mb-4")])([text("Fetches data from JSONPlaceholder API")]), div_([class_("mb-6")])([fetchButton(state2.loading)]), fetchResultView(state2.result), div_([class_("text-sm text-gray-400 mt-4")])([text("Requests made: " + show1(state2.requestCount))])]);
  };
  var fetchApp = /* @__PURE__ */ (function() {
    return {
      init: noCmd({
        loading: false,
        result: NotStarted.value,
        requestCount: 0
      }),
      update: fetchUpdate,
      view: fetchView
    };
  })();

  // output/Hydrogen.Runtime.Demo/index.js
  var logMountResult = function(name14) {
    return function(result) {
      if (result instanceof Just) {
        return log("  \u2713 " + (name14 + " App mounted successfully"));
      }
      ;
      if (result instanceof Nothing) {
        return log("  \u2717 " + (name14 + " App failed to mount (container not found)"));
      }
      ;
      throw new Error("Failed pattern match at Hydrogen.Runtime.Demo (line 92, column 30 - line 94, column 90): " + [result.constructor.name]);
    };
  };
  var main = function __do() {
    log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501")();
    log("                    HYDROGEN RUNTIME DEMO")();
    log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501")();
    log("Mounting Counter App...")();
    var counterResult = mount("#counter-app")(counterApp)();
    logMountResult("Counter")(counterResult)();
    log("Mounting Todo App...")();
    var todoResult = mount("#todo-app")(todoApp)();
    logMountResult("Todo")(todoResult)();
    log("Mounting Timer App...")();
    var timerResult = mountCmd("#timer-app")(timerApp)();
    logMountResult("Timer")(timerResult)();
    log("Mounting Spring Demo App...")();
    var springResult = mountCmd("#spring-app")(springDemoApp)();
    logMountResult("Spring")(springResult)();
    log("Mounting Fetch App...")();
    var fetchResult = mountCmd("#fetch-app")(fetchApp)();
    logMountResult("Fetch")(fetchResult)();
    log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501")();
    log("All apps mounted. Check the browser for the demo.")();
    return log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501")();
  };

  // <stdin>
  main();
})();
